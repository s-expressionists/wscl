<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="style.css"/><script src="permalink.js"/><script src="navigation.js"/><title>Well-specified Common Lisp — Hash Tables</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">Hash Tables</span><br/><ol class="local-toc"><li><a href="#section-HashTableConcepts">Hash Table Concepts</a><ol> <li><a href="#section-Hash-TableOperations">Hash-Table Operations</a><ol> </ol></li><li><a href="#section-ModifyingHashKeys">Modifying Hash Table Keys</a><ol> <li><a href="#section-VisModEQ">Visible Modification of Objects with respect to EQ and EQL</a><ol> </ol></li><li><a href="#section-VisModEQUAL">Visible Modification of Objects with respect to EQUAL</a><ol> <li><a href="#section-VisibleModificationofConseswithrespecttoEQUAL">Visible Modification of Conses with respect to EQUAL</a><ol> </ol></li><li><a href="#section-VisibleModificationofBitVectorsandStringswithrespecttoEQUAL">Visible Modification of Bit Vectors and Strings with respect to EQUAL</a><ol> </ol></li></ol></li><li><a href="#section-VisibleModificationofObjectswithrespecttoEQUALP">Visible Modification of Objects with respect to EQUALP</a><ol> <li><a href="#section-VisibleModificationofStructureswithrespecttoEQUALP">Visible Modification of Structures with respect to EQUALP</a><ol> </ol></li><li><a href="#section-VisibleModificationofArrayswithrespecttoEQUALP">Visible Modification of Arrays with respect to EQUALP</a><ol> </ol></li><li><a href="#section-VisibleModificationofHashTableswithrespecttoEQUALP">Visible Modification of Hash Tables with respect to EQUALP</a><ol> </ol></li></ol></li><li><a href="#section-VisibleModificationsbyLanguageExtensions">Visible Modifications by Language Extensions</a><ol> </ol></li></ol></li></ol></li><li><a href="#section-Dictionary">Dictionary</a><ol> <li><a href="#type-hash-table">hash-table</a></li><li><a href="#function-make-hash-table">make-hash-table</a></li><li><a href="#function-hash-table-p">hash-table-p</a></li><li><a href="#function-hash-table-count">hash-table-count</a></li><li><a href="#function-hash-table-rehash-size">hash-table-rehash-size</a></li><li><a href="#function-hash-table-rehash-threshold">hash-table-rehash-threshold</a></li><li><a href="#function-hash-table-size">hash-table-size</a></li><li><a href="#function-hash-table-test">hash-table-test</a></li><li><a href="#function-gethash">gethash</a></li><li><a href="#function-remhash">remhash</a></li><li><a href="#function-maphash">maphash</a></li><li><a href="#macro-with-hash-table-iterator">with-hash-table-iterator</a></li><li><a href="#function-clrhash">clrhash</a></li><li><a href="#function-sxhash">sxhash</a></li></ol></li></ol></nav><div class="content"><section id="section-ChapEighteen"><h1 class="section-title">18. Hash Tables</h1><section id="section-HashTableConcepts"><h2 class="section-title">Hash Table Concepts</h2>

<section id="section-Hash-TableOperations"><h3 class="section-title">Hash-Table Operations</h3>Figure <span class="explicit-mono">()</span>&ndash; lists some <a class="glossary-reference" href="chapter-26.xhtml#glossary-defined name">defined names</a> that are applicable 
to <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a>.  The following rules apply to <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a>.<br/><ul><li>A <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> can only associate one value with a given
key. If an attempt is made to add a second value for a given key,
the second value will replace the first.
Thus, adding a value to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> is a destructive operation;
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> is modified.  <br/></li><li>There are four kinds of <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a>:
  those whose keys are compared with <a class="function-reference" href="chapter-5.xhtml#function-eq">eq</a>,
  those whose keys are compared with <a class="function-reference" href="chapter-5.xhtml#function-eql">eql</a>,
  those whose keys are compared with <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a>, and
<span class="issue-annotation"><a class="issue-reference" href="issues/hash-table-tests.xhtml#issue-hash-table-tests:add-equalp">X3J13 Issue HASH-TABLE-TESTS:ADD-EQUALP</a>  those whose keys are compared with <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>.  
</span>
</li><li><a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">Hash tables</a> are created by <a class="function-reference" href="#function-make-hash-table">make-hash-table</a>. 
<a class="function-reference" href="#function-gethash">gethash</a> is used to look up a key and find the associated value.
New entries are added to <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a> using <a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> with <a class="function-reference" href="#function-gethash">gethash</a>.
<a class="function-reference" href="#function-remhash">remhash</a> is used to remove an entry.
For example:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32536573&gt;</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">color</span></span> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">brown</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">BROWN</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">name</span></span> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">fred</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">FRED</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">color</span></span> <span class="syntax-interned-symbol">a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">BROWN</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">name</span></span> <span class="syntax-interned-symbol">a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">FRED</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">pointy</span></span> <span class="syntax-interned-symbol">a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/>In this example, the symbols <code><span class="syntax-root"><span class="syntax-interned-symbol">color</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-interned-symbol">name</span>
</span></code> are being used as
keys, and the symbols <code><span class="syntax-root"><span class="syntax-interned-symbol">brown</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-interned-symbol">fred</span>
</span></code> are being used as the
associated values.  The <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> 
has two items in it, one of which                              
associates from <code><span class="syntax-root"><span class="syntax-interned-symbol">color</span>
</span></code> to <code><span class="syntax-root"><span class="syntax-interned-symbol">brown</span>
</span></code>, and the other of which
associates from <code><span class="syntax-root"><span class="syntax-interned-symbol">name</span>
</span></code> to <code><span class="syntax-root"><span class="syntax-interned-symbol">fred</span>
</span></code>.<br/></li><li>A key or a value may be any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="issue-annotation"><a class="issue-reference" href="issues/hash-table-size.xhtml#issue-hash-table-size:intended-entries">X3J13 Issue HASH-TABLE-SIZE:INTENDED-ENTRIES</a></span>
</li><li>The existence of an entry in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> can be determined
from the <a class="glossary-reference" href="chapter-26.xhtml#glossary-secondary value">secondary value</a> returned by <a class="function-reference" href="#function-gethash">gethash</a>.
</li></ul>               <br/><span class="float" id="figure-Hash-table defined names"><table><tbody><tr><td><a class="function-reference" href="#function-clrhash">clrhash</a></td><td><a class="function-reference" href="#function-hash-table-p">hash-table-p</a></td><td><a class="function-reference" href="#function-remhash">remhash</a></td></tr><tr><td><a class="function-reference" href="#function-gethash">gethash</a></td><td><a class="function-reference" href="#function-make-hash-table">make-hash-table</a></td><td><a class="function-reference" href="#function-sxhash">sxhash</a></td></tr><tr><td><a class="function-reference" href="#function-hash-table-count">hash-table-count</a></td><td><a class="function-reference" href="#function-maphash">maphash</a></td><td/></tr></tbody></table><div class="caption">Hash-table defined names</div></span><br/>
</section><section id="section-ModifyingHashKeys"><h3 class="section-title">Modifying Hash Table Keys</h3><br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-key-modification.xhtml#issue-hash-table-key-modification:specify">X3J13 Issue HASH-TABLE-KEY-MODIFICATION:SPECIFY</a>
The function supplied as the <span class="keyword">:test</span> argument to <a class="function-reference" href="#function-make-hash-table">make-hash-table</a>
specifies the `equivalence test' for the <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> it creates.<br/>An <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> is `visibly modified' with regard to an equivalence test
if there exists some set of <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> (or potential <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>)
which are equivalent to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> before the modification but are
no longer equivalent afterwards.<br/>
If an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>O</mrow><mo>1</mo></msub></math> is used as a key in a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> <math xmlns="http://www.w3.org/1998/Math/MathML">H</math>
and is then visibly modified with regard to the equivalence test of <math xmlns="http://www.w3.org/1998/Math/MathML">H</math>,
then the consequences are unspecified if <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>O</mrow><mo>1</mo></msub></math>, or any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>O</mrow><mo>2</mo></msub></math> equivalent to <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>O</mrow><mo>1</mo></msub></math> under the equivalence test (either before
or after the modification), is used as a key in further operations on <math xmlns="http://www.w3.org/1998/Math/MathML">H</math>.
The consequences of using <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>O</mrow><mo>1</mo></msub></math> as a key are unspecified 
even if <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>O</mrow><mo>1</mo></msub></math> is visibly modified 
and then later modified again in such a way as 
to undo the visible modification.<br/>Following are specifications of the modifications which are visible to the
equivalence tests which must be supported by <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a>.  The modifications
are described in terms of modification of components, and are defined
recursively.  Visible modifications of components of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> are 
visible modifications of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><section id="section-VisModEQ"><h4 class="section-title">Visible Modification of Objects with respect to EQ and EQL</h4>
<br/>No <a class="glossary-reference" href="chapter-26.xhtml#glossary-standardized">standardized</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> is provided that is capable of visibly
modifying an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> with regard to <a class="function-reference" href="chapter-5.xhtml#function-eq">eq</a> or <a class="function-reference" href="chapter-5.xhtml#function-eql">eql</a>.<br/></section><section id="section-VisModEQUAL"><h4 class="section-title">Visible Modification of Objects with respect to EQUAL</h4><br/>As a consequence of the behavior for <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a>,
the rules for visible modification of <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> not explicitly mentioned in this
section are inherited from those in <span class="section-reference error">section:VisModEQL</span>.<br/><section id="section-VisibleModificationofConseswithrespecttoEQUAL"><h5 class="section-title">Visible Modification of Conses with respect to EQUAL</h5>Any visible change to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-car">car</a> or the <a class="glossary-reference" href="chapter-26.xhtml#glossary-cdr">cdr</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">cons</a>
is considered a visible modification with regard to <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a>.<br/></section><section id="section-VisibleModificationofBitVectorsandStringswithrespecttoEQUAL"><h5 class="section-title">Visible Modification of Bit Vectors and Strings with respect to EQUAL</h5>For a <a class="glossary-reference" href="chapter-26.xhtml#glossary-vector">vector</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-15.xhtml#type-bit-vector">bit-vector</a> or of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-16.xhtml#type-string">string</a>, any visible change
     to an <a class="glossary-reference" href="chapter-26.xhtml#glossary-active">active</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-vector">vector</a>,
  or to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-length">length</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-vector">vector</a> (if it is <a class="glossary-reference" href="chapter-26.xhtml#glossary-actually adjustable">actually adjustable</a> 
					           or has a <a class="glossary-reference" href="chapter-26.xhtml#glossary-fill pointer">fill pointer</a>)
is considered a visible modification with regard to <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a>.<br/></section></section><section id="section-VisibleModificationofObjectswithrespecttoEQUALP"><h4 class="section-title">Visible Modification of Objects with respect to EQUALP</h4>As a consequence of the behavior for <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>,
the rules for visible modification of <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> not explicitly mentioned in this
section are inherited from those in <a class="section-reference" href="#section-VisModEQUAL">Visible Modification of Objects with respect to EQUAL</a>.<br/><section id="section-VisibleModificationofStructureswithrespecttoEQUALP"><h5 class="section-title">Visible Modification of Structures with respect to EQUALP</h5>Any visible change to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-slot">slot</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-structure">structure</a>
is considered a visible modification with regard to <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>.<br/></section><section id="section-VisibleModificationofArrayswithrespecttoEQUALP"><h5 class="section-title">Visible Modification of Arrays with respect to EQUALP</h5>In an <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">array</a>, any visible change
     to an <a class="glossary-reference" href="chapter-26.xhtml#glossary-active">active</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a>,
     to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-fill pointer">fill pointer</a> (if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">array</a> can and does have one),
  or to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-dimension">dimensions</a> (if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">array</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-actually adjustable">actually adjustable</a>)
is considered a visible modification with regard to <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>.<br/></section><section id="section-VisibleModificationofHashTableswithrespecttoEQUALP"><h5 class="section-title">Visible Modification of Hash Tables with respect to EQUALP</h5>In a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>, any visible change
     to the count of entries in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>,
     to the keys,
  or to the values associated with the keys
is considered a visible modification with regard to <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>.<br/>Note that the visibility of modifications to the keys depends on the equivalence test
of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>, not on the specification of <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>.<br/></section></section><section id="section-VisibleModificationsbyLanguageExtensions"><h4 class="section-title">Visible Modifications by Language Extensions</h4><a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">Implementations</a> that extend the language by providing additional mutator
functions (or additional behavior for existing mutator functions) must
document how the use of these extensions interacts with equivalence tests and
<a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> searches.<br/><a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">Implementations</a> that extend the language by defining additional acceptable
equivalence tests for <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a> (allowing additional values for the <span class="keyword">:test</span>
argument to <a class="function-reference" href="#function-make-hash-table">make-hash-table</a>) must document the visible components of these
tests.<br/></section></div>
</section>
</section><br/><section id="section-Dictionary"><h2 class="section-title">Dictionary</h2>

<br/><div class="component" id="type-hash-table"><div class="header"><span class="left"><span class="name" id="type-hash-table">hash-table</span></span><span class="right"><span class="ftype">System Class</span></span></div><br/><dl><dt class="label">Class Precedence List</dt><dd><a class="type-reference" href="#type-hash-table">hash-table</a>,
<a class="type-reference" href="chapter-4.xhtml#type-t">t</a><br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">Hash tables</a> provide a way of mapping any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> (a <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a>)
to an associated <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> (a <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a>).<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="section-reference" href="#section-HashTableConcepts">Hash Table Concepts</a>,
<a class="section-reference" href="chapter-22.xhtml#section-PrintingOtherObjects">Printing Other Objects</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The intent is that this mapping be implemented by a hashing mechanism,
such as that described in Section 6.4 ``Hashing'' of <span class="explicit-italic"> The Art of Computer Programming, Volume 3</span>
(pp506-549).  In spite of this intent, no <a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming implementation">conforming implementation</a> 
is required to use any particular technique to implement the mapping.<br/></dd></dl></div></div><br/>
<br/><div class="component" id="function-make-hash-table"><div class="header"><span class="left"><span class="name" id="function-make-hash-table">make-hash-table</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">make-hash-table</span>&nbsp;<span class="lambda-list"><span class="lambda-list-keyword">&amp;key</span> test size rehash-size rehash-threshold</span>&nbsp;→&nbsp;<span class="return-values">hash-table</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">test</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> for one of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a>
	       <a class="function-reference" href="chapter-5.xhtml#function-eq">eq</a>,
	       <a class="function-reference" href="chapter-5.xhtml#function-eql">eql</a>,
	       <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a>, or
<span class="issue-annotation"><a class="issue-reference" href="issues/hash-table-tests.xhtml#issue-hash-table-tests:add-equalp">X3J13 Issue HASH-TABLE-TESTS:ADD-EQUALP</a>	       <a class="function-reference" href="chapter-5.xhtml#function-equalp">equalp</a>.
</span>  The default is <a class="function-reference" href="chapter-5.xhtml#function-eql">eql</a>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/arguments-underspecified.xhtml#issue-arguments-underspecified:specify">X3J13 Issue ARGUMENTS-UNDERSPECIFIED:SPECIFY</a><span class="parameter">size</span>&mdash;a non-negative <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>.
</div>  The default is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.<br/><span class="parameter">rehash-size</span>&mdash;a <span class="glossary-reference error">glossary:real</span> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-or">or</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-number">1</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-float">float</a> <span class="syntax-cons">(<span class="syntax-number">1.0</span>)</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span>)</span>
</span></code>.
  The default is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-size.xhtml#issue-hash-table-size:intended-entries">X3J13 Issue HASH-TABLE-SIZE:INTENDED-ENTRIES</a>  
<span class="parameter">rehash-threshold</span>&mdash;a <span class="glossary-reference error">glossary:real</span> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <code><span class="syntax-root"><span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-real">real</a> <span class="syntax-number">0</span> <span class="syntax-number">1</span>)</span>
</span></code>.
  The default is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.
</div>  <br/><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Creates and returns a new <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">test</span> determines how <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">keys</a> are compared.
An <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> is said to be present in the <span class="parameter">hash-table</span>
if that <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-same">same</a> under the <span class="glossary-reference error">glossary:test</span> 
as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a> for some entry in the <span class="parameter">hash-table</span>.<br/><span class="parameter">size</span> is a hint to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> about how much initial space
to allocate in the <span class="parameter">hash-table</span>.
<div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-size.xhtml#issue-hash-table-size:intended-entries">X3J13 Issue HASH-TABLE-SIZE:INTENDED-ENTRIES</a>This information, taken together with the <span class="parameter">rehash-threshold</span>, controls
the approximate number of entries which it should be possible
to insert before the table has to grow.
</div>The actual size might be rounded up from <span class="parameter">size</span> to the next `good' size;
for example, some <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementations</a> might round to the next prime number.<br/><span class="parameter">rehash-size</span> specifies a minimum amount to increase the size of the 
<span class="parameter">hash-table</span> when it becomes full
enough to require rehashing; 
see <span class="parameter">rehash-theshold</span> below.
<div class="issue-annotation"><span class="issue-reference error">issue:HASH-TABLE-REHASH-SIZE-INTEGER</span>If <span class="parameter">rehash-size</span> is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>,
the expected growth rate for the table is additive and
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a> is the number of entries to add;
if it is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-float">float</a>,
the expected growth rate for the table is multiplicative and
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-float">float</a> is the ratio of the new size to the old size.
</div>As with <span class="parameter">size</span>, the actual size of the increase might be rounded up.<br/><span class="parameter">rehash-threshold</span> specifies how full the <span class="parameter">hash-table</span> can get 
before it must grow.
<div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-size.xhtml#issue-hash-table-size:intended-entries">X3J13 Issue HASH-TABLE-SIZE:INTENDED-ENTRIES</a>It specifies the maximum desired hash-table occupancy level.

<div class="issue-annotation"><span class="issue-reference error">issue:HASH-TABLE-REHASH-SIZE-INTEGER</span>The <span class="glossary-reference error">glossary:values</span> of <span class="parameter">rehash-size</span> and <span class="parameter">rehash-threshold</span> do not constrain the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> to use any particular method for computing when and by how much
the size of <span class="parameter">hash-table</span> should be enlarged.  Such decisions are   
<a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>, and these <span class="glossary-reference error">glossary:values</span> only hints
from the <a class="glossary-reference" href="chapter-26.xhtml#glossary-programmer">programmer</a> to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>, and the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>
is permitted to ignore them.
</div></div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 46142754&gt;</span>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-string">"one"</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-string">"one"</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a> <span class="syntax-keyword-symbol">:test</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQUAL 0/139 46145547&gt;</span>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-string">"one"</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-string">"one"</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a> <span class="syntax-keyword-symbol">:rehash-size</span> <span class="syntax-number">1.5</span> <span class="syntax-keyword-symbol">:rehash-threshold</span> <span class="syntax-number">0.7</span>)</span> 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 46156620&gt;</span>
</span></code></pre><br/><span class="issue-annotation"><a class="issue-reference" href="issues/hash-table-size.xhtml#issue-hash-table-size:intended-entries">X3J13 Issue HASH-TABLE-SIZE:INTENDED-ENTRIES</a></span>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-gethash">gethash</a>,
<a class="type-reference" href="#type-hash-table">hash-table</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/>
</dd></dl></div></div><br/><br/><br/><div class="component" id="function-hash-table-p"><div class="header"><span class="left"><span class="name" id="function-hash-table-p">hash-table-p</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">hash-table-p</span>&nbsp;<span class="lambda-list">object</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if <span class="parameter">object</span> is of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-hash-table">hash-table</a>;
otherwise, returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32511220&gt;</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-p">hash-table-p</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-p">hash-table-p</a> <span class="syntax-number">37</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-p">hash-table-p</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-symbol">.</span> <span class="syntax-number">2</span>)</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-p">hash-table-p</a> <span class="parameter">object</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="chapter-4.xhtml#function-typep">typep</a> <span class="parameter">object</span> <span class="syntax-quote">'<a class="type-reference" href="#type-hash-table">hash-table</a></span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-hash-table-count"><div class="header"><span class="left"><span class="name" id="function-hash-table-count">hash-table-count</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">hash-table-count</span>&nbsp;<span class="lambda-list">hash-table</span>&nbsp;→&nbsp;<span class="return-values">count</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">count</span>&mdash;a non-negative <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns the number of entries in the <span class="parameter">hash-table</span>.
If <span class="parameter">hash-table</span> has just been created 
or newly cleared (see <a class="function-reference" href="#function-clrhash">clrhash</a>)
the entry count is <code><span class="syntax-root"><span class="syntax-number">0</span>
</span></code>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32115135&gt;</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">57</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-string">"fifty-seven"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"fifty-seven"</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dotimes">dotimes</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">i</span> <span class="syntax-number">100</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-interned-symbol">i</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">100</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><a class="function-reference" href="#function-clrhash">clrhash</a>,
<a class="function-reference" href="#function-remhash">remhash</a>,
<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> of <span class="symbol-reference error">symbol:gethash</span><br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-hash-table-size">hash-table-size</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The following relationships are functionally correct, although in practice
using <a class="function-reference" href="#function-hash-table-count">hash-table-count</a> is probably much faster:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="parameter">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a> <span class="syntax-interned-symbol">for</span> <span class="syntax-interned-symbol">value</span> <span class="syntax-interned-symbol">being</span> <a class="special-operator-reference" href="chapter-3.xhtml#special-operator-the">the</a> <span class="syntax-interned-symbol">hash-values</span> <span class="syntax-interned-symbol">of</span> <span class="parameter">table</span> <a class="function-reference" href="chapter-17.xhtml#function-count">count</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math>
<span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">total</span> <span class="syntax-number">0</span>)</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="#function-maphash">maphash</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span>
               <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="declaration-reference" href="chapter-3.xhtml#declaration-ignore">ignore</a> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span>)</span>
               <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">total</span>)</span>)</span></span>
           <span class="parameter">table</span>)</span>
  <span class="syntax-interned-symbol">total</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-hash-table-rehash-size"><div class="header"><span class="left"><span class="name" id="function-hash-table-rehash-size">hash-table-rehash-size</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-access.xhtml#issue-hash-table-access:x3j13-mar-89">X3J13 Issue HASH-TABLE-ACCESS:X3J13-MAR-89</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">hash-table-rehash-size</span>&nbsp;<span class="lambda-list">hash-table</span>&nbsp;→&nbsp;<span class="return-values">rehash-size</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">rehash-size</span>&mdash;a <span class="glossary-reference error">glossary:real</span> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-or">or</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-number">1</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-float">float</a> <span class="syntax-cons">(<span class="syntax-number">1.0</span>)</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span>)</span>
</span></code>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns the current rehash size of <span class="parameter">hash-table</span>,
suitable for use in a call to <a class="function-reference" href="#function-make-hash-table">make-hash-table</a> 
in order to produce a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> 
with state corresponding to the current state of the <span class="parameter">hash-table</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a> <span class="syntax-keyword-symbol">:size</span> <span class="syntax-number">100</span> <span class="syntax-keyword-symbol">:rehash-size</span> <span class="syntax-number">1.4</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/100 2556371&gt;</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-rehash-size">hash-table-rehash-size</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1.4</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">hash-table</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-make-hash-table">make-hash-table</a>,
<a class="function-reference" href="#function-hash-table-rehash-threshold">hash-table-rehash-threshold</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><div class="issue-annotation"><span class="issue-reference error">issue:HASH-TABLE-REHASH-SIZE-INTEGER</span>If the hash table was created with an <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a> rehash size,
the result is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>,
indicating that the rate of growth of the <span class="parameter">hash-table</span> when rehashed
is intended to be additive;
otherwise,
the result is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-float">float</a>, 
indicating that the rate of growth of the <span class="parameter">hash-table</span> when rehashed
is intended to be multiplicative.
However, this value is only advice to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>;
the actual amount by which the <span class="parameter">hash-table</span> will grow upon rehash is
<a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.
</div>
</dd></dl></div></div></div><br/><br/>
<br/><div class="component" id="function-hash-table-rehash-threshold"><div class="header"><span class="left"><span class="name" id="function-hash-table-rehash-threshold">hash-table-rehash-threshold</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-access.xhtml#issue-hash-table-access:x3j13-mar-89">X3J13 Issue HASH-TABLE-ACCESS:X3J13-MAR-89</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">hash-table-rehash-threshold</span>&nbsp;<span class="lambda-list">hash-table</span>&nbsp;→&nbsp;<span class="return-values">rehash-threshold</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-size.xhtml#issue-hash-table-size:intended-entries">X3J13 Issue HASH-TABLE-SIZE:INTENDED-ENTRIES</a><span class="parameter">rehash-threshold</span>&mdash;a <span class="glossary-reference error">glossary:real</span> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <code><span class="syntax-root"><span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-real">real</a> <span class="syntax-number">0</span> <span class="syntax-number">1</span>)</span>
</span></code>.
</div>
</dd></dl><dl><dt class="label">Description</dt><dd>Returns the current rehash threshold of <span class="parameter">hash-table</span>, which is
suitable for use in a call to <a class="function-reference" href="#function-make-hash-table">make-hash-table</a> in order to
produce a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> with state corresponding to the current 
state of the <span class="parameter">hash-table</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a> <span class="syntax-keyword-symbol">:size</span> <span class="syntax-number">100</span> <span class="syntax-keyword-symbol">:rehash-threshold</span> <span class="syntax-number">0.5</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/100 2562446&gt;</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-rehash-threshold">hash-table-rehash-threshold</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0.5</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">hash-table</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-make-hash-table">make-hash-table</a>,
<a class="function-reference" href="#function-hash-table-rehash-size">hash-table-rehash-size</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div>
</div><br/><br/>
<br/><div class="component" id="function-hash-table-size"><div class="header"><span class="left"><span class="name" id="function-hash-table-size">hash-table-size</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-access.xhtml#issue-hash-table-access:x3j13-mar-89">X3J13 Issue HASH-TABLE-ACCESS:X3J13-MAR-89</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">hash-table-size</span>&nbsp;<span class="lambda-list">hash-table</span>&nbsp;→&nbsp;<span class="return-values">size</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">size</span>&mdash;a non-negative <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns the current size of <span class="parameter">hash-table</span>, which is suitable for use in
a call to <a class="function-reference" href="#function-make-hash-table">make-hash-table</a> in order to produce a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> 
with state corresponding to the current state of the <span class="parameter">hash-table</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">hash-table</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-hash-table-count">hash-table-count</a>,
<a class="function-reference" href="#function-make-hash-table">make-hash-table</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div>
</div><br/><br/>
<br/><div class="component" id="function-hash-table-test"><div class="header"><span class="left"><span class="name" id="function-hash-table-test">hash-table-test</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-access.xhtml#issue-hash-table-access:x3j13-mar-89">X3J13 Issue HASH-TABLE-ACCESS:X3J13-MAR-89</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">hash-table-test</span>&nbsp;<span class="lambda-list">hash-table</span>&nbsp;→&nbsp;<span class="return-values">test</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">test</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function designator">function designator</a>.
 For the four <a class="glossary-reference" href="chapter-26.xhtml#glossary-standardized">standardized</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> test <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a>
 (see <a class="function-reference" href="#function-make-hash-table">make-hash-table</a>), the <span class="parameter">test</span> value returned
 is always a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>.  If an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> permits additional 
 tests, it is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a> whether such tests are
 returned as <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function names</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns the test used for comparing <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">keys</a> in <span class="parameter">hash-table</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">hash-table</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-make-hash-table">make-hash-table</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="function-gethash"><div class="header"><span class="left"><span class="name" id="function-gethash">gethash</span></span><span class="right"><span class="ftype">Accessor</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">gethash</span>&nbsp;<span class="lambda-list">key hash-table <span class="lambda-list-keyword">&amp;optional</span> default</span>&nbsp;→&nbsp;<span class="return-values">value, present-p</span></span><br/>
<span class="setf-definition">(setf (<span class="name">gethash</span>&nbsp;<span class="lambda-list">key hash-table <span class="lambda-list-keyword">&amp;optional</span> default</span>) <span class="new-value">new-value</span>)</span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">key</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">default</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.
 The default is <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/><span class="parameter">value</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">present-p</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><span class="parameter">Value</span> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> in <span class="parameter">hash-table</span> whose <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a> 
is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-same">same</a> as <span class="parameter">key</span> under the <span class="parameter">hash-table</span>'s equivalence test.
If there is no such entry, <span class="parameter">value</span> is the <span class="parameter">default</span>.<br/><span class="parameter">Present-p</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if an entry is found; otherwise, it is <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/><a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> may be used with <a class="function-reference" href="#function-gethash">gethash</a> to modify the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a>
associated with a given <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a>, or to add a new entry.
<div class="issue-annotation"><span class="issue-reference error">issue:SETF-GET-DEFAULT</span>When a <a class="function-reference" href="#function-gethash">gethash</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> is used as a <a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="parameter">place</span>,
any <span class="parameter">default</span> which is supplied is evaluated according to normal
left-to-right evaluation rules, but its <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> is ignored.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32206334&gt;</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">table</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-string">"one"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"one"</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">table</span> <span class="syntax-string">"two"</span>)</span> <span class="syntax-string">"two"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"two"</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"one"</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"two"</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">table</span>)</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> 
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*counters*</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">*COUNTERS*</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-interned-symbol">*counters*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-interned-symbol">*counters*</span> <span class="syntax-number">0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">how-many</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">obj</span>)</span> <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">obj</span></span> <span class="syntax-interned-symbol">*counters*</span> <span class="syntax-number">0</span>)</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">HOW-MANY</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-defun">defun</a> <span class="syntax-interned-symbol">count-it</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">obj</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">how-many</span> <span class="syntax-interned-symbol">obj</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">COUNT-IT</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">bar</span> <span class="syntax-interned-symbol">foo</span> <span class="syntax-interned-symbol">foo</span> <span class="syntax-interned-symbol">bar</span> <span class="syntax-interned-symbol">bar</span> <span class="syntax-interned-symbol">baz</span>)</span></span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">count-it</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">how-many</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">how-many</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">how-many</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">quux</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-remhash">remhash</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-secondary value">secondary value</a>, <span class="parameter">present-p</span>,
can be used to distinguish the absence of an entry
from the presence of an entry that has a value of <span class="parameter">default</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-remhash"><div class="header"><span class="left"><span class="name" id="function-remhash">remhash</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">remhash</span>&nbsp;<span class="lambda-list">key hash-table</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">key</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Removes the entry for <span class="parameter">key</span> in <span class="parameter">hash-table</span>, if any.
Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if there was such an entry, or <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> otherwise.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32115666&gt;</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">100</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-string">"C"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"C"</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">100</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"C"</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-remhash">remhash</a> <span class="syntax-number">100</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">100</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-remhash">remhash</a> <span class="syntax-number">100</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>The <span class="parameter">hash-table</span> is modified.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-maphash"><div class="header"><span class="left"><span class="name" id="function-maphash">maphash</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">maphash</span>&nbsp;<span class="lambda-list">function hash-table</span>&nbsp;→&nbsp;<span class="return-values"><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> of two <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a>,
		     the <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a> and the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a>.<br/><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Iterates over all entries in the <span class="parameter">hash-table</span>.  For each entry,
the <span class="parameter">function</span> is called with two <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a>&ndash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a> 
and the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of that entry.<br/>The consequences are unspecified if any attempt is made to add or remove
an entry from the <span class="parameter">hash-table</span> while a <a class="function-reference" href="#function-maphash">maphash</a> is in progress,
with two exceptions:
   the <span class="parameter">function</span> can use can use <a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> of <a class="function-reference" href="#function-gethash">gethash</a>
   to change the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> part of the entry currently being processed, 
or it can use <a class="function-reference" href="#function-remhash">remhash</a> to remove that entry.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32304110&gt;</span>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dotimes">dotimes</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">i</span> <span class="syntax-number">10</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-interned-symbol">i</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">sum-of-squares</span> <span class="syntax-number">0</span>)</span>)</span>
    <span class="syntax-cons">(<a class="function-reference" href="#function-maphash">maphash</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">val</span>)</span> 
                 <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">square</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-interned-symbol">val</span>)</span>)</span>)</span>
                   <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">sum-of-squares</span> <span class="syntax-interned-symbol">square</span>)</span>
                   <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-interned-symbol">square</span>)</span>)</span>)</span></span>
             <span class="syntax-interned-symbol">table</span>)</span>
    <span class="syntax-interned-symbol">sum-of-squares</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">285</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">10</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-maphash">maphash</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">val</span>)</span>
               <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">val</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-remhash">remhash</a> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">table</span>)</span>)</span>)</span></span>
           <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">5</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-maphash">maphash</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">k</span> <span class="syntax-interned-symbol">v</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-interned-symbol">v</span>)</span>)</span>)</span></span> <span class="syntax-interned-symbol">table</span>)</span>
<span class="syntax-cons">(<span class="syntax-number">0</span> <span class="syntax-number">0</span>)</span> 
<span class="syntax-cons">(<span class="syntax-number">8</span> <span class="syntax-number">64</span>)</span> 
<span class="syntax-cons">(<span class="syntax-number">2</span> <span class="syntax-number">4</span>)</span> 
<span class="syntax-cons">(<span class="syntax-number">6</span> <span class="syntax-number">36</span>)</span> 
<span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">16</span>)</span> 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>None, other than any which might be done by the <span class="parameter">function</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a>,
<a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a>,
<div class="issue-annotation"><a class="issue-reference" href="issues/mapping-destructive-interaction.xhtml#issue-mapping-destructive-interaction:explicitly-vague">X3J13 Issue MAPPING-DESTRUCTIVE-INTERACTION:EXPLICITLY-VAGUE</a><a class="section-reference" href="chapter-3.xhtml#section-TraversalRules">Traversal Rules and Side Effects</a></div>
</dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-with-hash-table-iterator"><div class="header"><span class="left"><span class="name" id="macro-with-hash-table-iterator">with-hash-table-iterator</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span>
<div class="issue-annotation"><a class="issue-reference" href="issues/hash-table-package-generators.xhtml#issue-hash-table-package-generators:add-with-wrapper">X3J13 Issue HASH-TABLE-PACKAGE-GENERATORS:ADD-WITH-WRAPPER</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">with-hash-table-iterator</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span>name hash-table<span class="explicit-roman">)</span> 
	           <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a name suitable for the first argument to <a class="special-operator-reference" href="chapter-5.xhtml#special-operator-macrolet">macrolet</a>.<br/><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>, evaluated once, that should produce a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by <span class="parameter">forms</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Within the lexical scope of the body, <span class="parameter">name</span> is defined via <a class="special-operator-reference" href="chapter-5.xhtml#special-operator-macrolet">macrolet</a> 
such that successive invocations of <code><span class="syntax-root"><span class="syntax-cons">(<span class="parameter">name</span>)</span>
</span></code> return the items,
one by one, from the <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a> that is obtained by evaluating
<span class="parameter">hash-table</span> only once.<br/>An invocation <code><span class="syntax-root"><span class="syntax-cons">(<span class="parameter">name</span>)</span>
</span></code> returns three values as follows:<br/><ol><li>A <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a> that is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if an entry is returned.
</li><li>The key from the <span class="parameter">hash-table</span> entry.
</li><li>The value from the <span class="parameter">hash-table</span> entry.
</li></ol>
After all entries have been returned by successive invocations of
<code><span class="syntax-root"><span class="syntax-cons">(<span class="parameter">name</span>)</span>
</span></code>, then only one value is returned, namely <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/>It is unspecified what happens if any of the implicit interior state 
of an iteration is returned outside the dynamic extent of the 
<a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>
such as by returning some <a class="glossary-reference" href="chapter-26.xhtml#glossary-closure">closure</a> over the invocation <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/>Any number of invocations of <a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a> 
can be nested, and the body of the innermost one can invoke all of the
locally <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">established</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a>, provided all of those <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a>
have <a class="glossary-reference" href="chapter-26.xhtml#glossary-distinct">distinct</a> names.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd>The following function should return <a class="symbol-reference" href="chapter-5.xhtml#symbol-t">t</a> on any 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>, and signal
an error if the usage of <a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a> does not agree
with the corresponding usage of <a class="function-reference" href="#function-maphash">maphash</a>.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-defun">defun</a> <span class="syntax-interned-symbol">test-hash-table-iterator</span> <span class="syntax-cons">(<a class="type-reference" href="#type-hash-table">hash-table</a>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">all-entries</span> <span class="syntax-quote">'<span class="syntax-symbol">()</span></span>)</span>
        <span class="syntax-cons">(<span class="syntax-interned-symbol">generated-entries</span> <span class="syntax-quote">'<span class="syntax-symbol">()</span></span>)</span>
        <span class="syntax-cons">(<span class="syntax-interned-symbol">unique</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span>)</span>
    <span class="syntax-cons">(<a class="function-reference" href="#function-maphash">maphash</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span> <span class="syntax-interned-symbol">all-entries</span>)</span>)</span></span>
             <a class="type-reference" href="#type-hash-table">hash-table</a>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">generator-fn</span> <a class="type-reference" href="#type-hash-table">hash-table</a>)</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a>     
        <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">more?</span> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">generator-fn</span>)</span>
          <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-unless">unless</a> <span class="syntax-interned-symbol">more?</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-return">return</a>)</span>)</span>
          <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-eql">eql</a> <span class="syntax-interned-symbol">value</span> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-interned-symbol">key</span> <a class="type-reference" href="#type-hash-table">hash-table</a> <span class="syntax-interned-symbol">unique</span>)</span>)</span>
            <span class="syntax-cons">(<a class="function-reference" href="chapter-9.xhtml#function-error">error</a> <span class="syntax-string">"Key ~S not found for value ~S"</span> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span>)</span>
          <span class="syntax-cons">(<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span> <span class="syntax-interned-symbol">generated-entries</span>)</span>)</span>)</span>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-length">length</a> <span class="syntax-interned-symbol">all-entries</span>)</span>
               <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-length">length</a> <span class="syntax-interned-symbol">generated-entries</span>)</span>
               <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-length">length</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-union">union</a> <span class="syntax-interned-symbol">all-entries</span> <span class="syntax-interned-symbol">generated-entries</span>
                              <span class="syntax-keyword-symbol">:key</span> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-car">car</a></span> <span class="syntax-keyword-symbol">:test</span> <span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-test">hash-table-test</a> <a class="type-reference" href="#type-hash-table">hash-table</a>)</span>)</span>)</span>)</span>
      <span class="syntax-cons">(<a class="function-reference" href="chapter-9.xhtml#function-error">error</a> <span class="syntax-string">"Generated entries and Maphash entries don't correspond"</span>)</span>)</span>
    <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>)</span>
</span></code></pre>

The following could be an acceptable definition of 
<a class="function-reference" href="#function-maphash">maphash</a>, implemented by <a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a>.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-defun">defun</a> <a class="function-reference" href="#function-maphash">maphash</a> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-function">function</a> <a class="type-reference" href="#type-hash-table">hash-table</a>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">next-entry</span> <a class="type-reference" href="#type-hash-table">hash-table</a>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">more</span> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">next-entry</span>)</span>
            <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-unless">unless</a> <span class="syntax-interned-symbol">more</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-return">return</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span>
            <span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-funcall">funcall</a> <a class="special-operator-reference" href="chapter-5.xhtml#special-operator-function">function</a> <span class="syntax-interned-symbol">key</span> <span class="syntax-interned-symbol">value</span>)</span>)</span>)</span>)</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>The consequences are undefined if the local function named <span class="parameter">name</span>
<a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">established</a> by <a class="macro-reference" href="#macro-with-hash-table-iterator">with-hash-table-iterator</a> is called after it has
returned <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> as its <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/mapping-destructive-interaction.xhtml#issue-mapping-destructive-interaction:explicitly-vague">X3J13 Issue MAPPING-DESTRUCTIVE-INTERACTION:EXPLICITLY-VAGUE</a><a class="section-reference" href="chapter-3.xhtml#section-TraversalRules">Traversal Rules and Side Effects</a></div>
</dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div></div>
</div><br/><br/><br/><div class="component" id="function-clrhash"><div class="header"><span class="left"><span class="name" id="function-clrhash">clrhash</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">clrhash</span>&nbsp;<span class="lambda-list">hash-table</span>&nbsp;→&nbsp;<span class="return-values">hash-table</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">hash-table</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Removes all entries from <span class="parameter">hash-table</span>,
and then returns that empty <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">table</span> <span class="syntax-cons">(<a class="function-reference" href="#function-make-hash-table">make-hash-table</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32004073&gt;</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dotimes">dotimes</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">i</span> <span class="syntax-number">100</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">table</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-string">"~R"</span> <span class="syntax-interned-symbol">i</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">100</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">57</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"fifty-seven"</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-clrhash">clrhash</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;HASH-TABLE EQL 0/120 32004073&gt;</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-hash-table-count">hash-table-count</a> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-gethash">gethash</a> <span class="syntax-number">57</span> <span class="syntax-interned-symbol">table</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>The <span class="parameter">hash-table</span> is modified.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="function-sxhash"><div class="header"><span class="left"><span class="name" id="function-sxhash">sxhash</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:SXHASH-DEFINITION</span>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">sxhash</span>&nbsp;<span class="lambda-list">object</span>&nbsp;→&nbsp;<span class="return-values">hash-code</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">hash-code</span>&mdash;a non-negative <a class="glossary-reference" href="chapter-26.xhtml#glossary-fixnum">fixnum</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-sxhash">sxhash</a> returns a hash code for <span class="parameter">object</span>. <br/>The manner in which the hash code is computed is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>,
but subject to certain constraints:<br/><ol><li><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a> <span class="parameter">x</span> <span class="parameter">y</span>)</span>
</span></code> implies <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="parameter">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="parameter">y</span>)</span>)</span>
</span></code>.<br/></li><li>For any two <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>, <span class="parameter">x</span> and <span class="parameter">y</span>,
       both of which are 
          <a class="glossary-reference" href="chapter-26.xhtml#glossary-bit vector">bit vectors</a>,
          <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a>, 
          <a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">conses</a>,
          <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a>,
          <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathnames</a>,
          <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">strings</a>,
       or <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a>,
   and which are <a class="glossary-reference" href="chapter-26.xhtml#glossary-similar">similar</a>,
   <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="parameter">x</span>)</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="parameter">y</span>)</span>
</span></code>
   <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yield</a> the same mathematical value 
   even if <span class="parameter">x</span> and <span class="parameter">y</span> exist in different <a class="glossary-reference" href="chapter-26.xhtml#glossary-lisp image">Lisp images</a> of
   the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>.
   See <span class="section-reference error">section:LiteralsInCompiledFiles.</span><br/>
</li><li>The <span class="parameter">hash-code</span> for an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> is always the <a class="glossary-reference" href="chapter-26.xhtml#glossary-same">same</a>
  within a single <a class="glossary-reference" href="chapter-26.xhtml#glossary-session">session</a> provided that the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> is not
  visibly modified with regard to the equivalence test <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a>.
  See <span class="section-reference error">section:ModifyingHashKeys.</span><br/></li><li>The <span class="parameter">hash-code</span> is intended for hashing.  This places no verifiable
  constraint on a <a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming implementation">conforming implementation</a>, but the intent is that
  an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> should make a good-faith effort to produce
  <span class="parameter">hash-codes</span> that are well distributed within the range of
  non-negative <a class="glossary-reference" href="chapter-26.xhtml#glossary-fixnum">fixnums</a>.<br/></li><li>Computation of the <span class="parameter">hash-code</span> must terminate, 
  even if the <span class="parameter">object</span> contains circularities.  
</li></ol><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-list">list</a></span> <span class="syntax-string">"ab"</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-list">list</a></span> <span class="syntax-string">"ab"</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="syntax-string">"a"</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-16.xhtml#function-make-string">make-string</a> <span class="syntax-number">1</span> <span class="syntax-keyword-symbol">:initial-element</span> <span class="syntax-character">#\a</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">r</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-make-random-state">make-random-state</a>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="syntax-interned-symbol">r</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-sxhash">sxhash</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-make-random-state">make-random-state</a> <span class="syntax-interned-symbol">r</span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Many common hashing needs are satisfied by <a class="function-reference" href="#function-make-hash-table">make-hash-table</a> and the
related functions on <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a>.  <a class="function-reference" href="#function-sxhash">sxhash</a> is intended for use
where the pre-defined abstractions are insufficient.  Its main intent is to
allow the user a convenient means of implementing more complicated hashing
paradigms than are provided through <a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash tables</a>.<br/>The hash codes returned by <a class="function-reference" href="#function-sxhash">sxhash</a> are not necessarily related to 
any hashing strategy used by any other <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> in <span class="explicit-roman">Common Lisp</span>.<br/>For <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">types</a> that <a class="function-reference" href="chapter-5.xhtml#function-equal">equal</a> compares 
with <a class="function-reference" href="chapter-5.xhtml#function-eq">eq</a>, item 3 requires that the <span class="parameter">hash-code</span> be
based on some immutable quality of the identity of the object.
Another legitimate implementation technique would be to have 
<a class="function-reference" href="#function-sxhash">sxhash</a> assign (and cache) a random hash code for these
<a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>, since there is no requirement that <a class="glossary-reference" href="chapter-26.xhtml#glossary-similar">similar</a> but
non-<a class="function-reference" href="chapter-5.xhtml#function-eq">eq</a> objects have the same hash code.<br/>Although <a class="glossary-reference" href="chapter-26.xhtml#glossary-similarity">similarity</a> is defined for <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> in terms
of both the <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>'s <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">name</a> and the <a class="glossary-reference" href="chapter-26.xhtml#glossary-package">packages</a> in which 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-accessible">accessible</a>, item 3 disallows using <a class="glossary-reference" href="chapter-26.xhtml#glossary-package">package</a>
information to compute the hash code, since changes to the package status 
of a symbol are not visible to <span class="parameter">equal</span>.<br/></dd></dl></div></div>
</div><br/>
</section></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>