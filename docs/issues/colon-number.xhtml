<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — COLON-NUMBER</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">COLON-NUMBER</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-colon-number:undefined">Proposal UNDEFINED</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Cost to implementors">Cost to implementors</a><ol> </ol></li><li><a href="#section-Cost to users">Cost to users</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue COLON-NUMBER [NIL] [CLARIFICATION]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>passed, 1988 (I don't know at which meeting) </section><section id="section-References" class="section"><h2 class="section-title">References</h2>Parsing of Numbers and Symbols (p339-341, 343-344) </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>22-Oct-87, Version 1 by Pitman </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2>CLtL is unclear about whether a colon followed by a potential number is a potential number. There are passages which seem to address this issue unambiguously but fail. <br/></section><section class="status-passed proposal" id="issue-colon-number:undefined"><h2 class="section-title">Proposal UNDEFINED</h2>Clarify that syntax involving a leading colon followed by a potential number is not well-defined. That is, use of notation such as :1, :1/2, and :2^3 in a position where an expression appropriate for <a class="function-reference" href="../chapter-23.xhtml#function-read">read</a> is expected is an error. <br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>This makes the status quo apparent. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>Some implementations, such as Symbolics Lisp, claim the right to  interpret this as an ``is an error'' situation where their upward-compatible extension is to parse ``:1'' as the number 1 (incidentally, but uninterestingly, expressed in the <a class="type-reference" href="../chapter-10.xhtml#type-keyword">keyword</a> package). <br/>Other implementations tokenize ``:1'' as a single token, identify it as a symbol, and then parse it as :\1 would be parsed. <br/></section><section id="section-Cost to implementors" class="section"><h2 class="section-title">Cost to implementors</h2>None. This clarification forces no implementations to change. <br/></section><section id="section-Cost to users" class="section"><h2 class="section-title">Cost to users</h2>Slight. Some users may have mistakenly believed that this was an aspect of the language that was guaranteed and may have written programs that exploited that belief. Such incidences are probably very rare, however. Also, even in the few cases where such code fortuitously worked, implementations are likely to continue to support it so such code will probably continue to fortuitously work in many of those rare situations. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>Programmer expectations that any useful behavior can be portably relied upon in this pathological case should be soundly trounced. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>Arguably a slight improvement in visual aesthetics. What was already  a pretty marginal syntax is discouraged. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2>Pitman supports this clarification. He thinks this issue is not a big deal, but it does crop up often enough to be a nuisance. It would be nice to have everyone acknowledge a unified position, even if that only meant agreeing to disagree. <br/></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>