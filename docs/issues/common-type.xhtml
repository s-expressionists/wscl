<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — COMMON-TYPE</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">COMMON-TYPE</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem description">Problem description</a><ol> </ol></li><li><a href="#issue-common-type:remove">Proposal REMOVE</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current practice">Current practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Cost of non-adoption">Cost of non-adoption</a><ol> </ol></li><li><a href="#section-Performance impact">Performance impact</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Esthetics">Esthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue COMMON-TYPE [NIL] [CHANGE]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>Passed, Mar 89 X3J13 </section><section id="section-References" class="section"><h2 class="section-title">References</h2>CLtL p.35, p.76 </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>Version 1, 20-Mar-89, by Moon </section><section id="section-Problem description" class="section"><h2 class="section-title">Problem description</h2>  The type <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a> is defined in a very peculiar way and does not seem to   be useful for anything.  It can be extended by users using <a class="macro-reference" href="../chapter-8.xhtml#macro-defstruct">defstruct</a>,   but not <a class="macro-reference" href="../chapter-4.xhtml#macro-deftype">deftype</a> nor <a class="macro-reference" href="../chapter-7.xhtml#macro-defclass">defclass</a>, but it cannot be extended by implementations.   Whether certain types such as <a class="type-reference" href="../chapter-12.xhtml#type-number">number</a> and <a class="symbol-reference" href="../chapter-2.xhtml#symbol-array">array</a> are subtypes of <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a>   is <a class="glossary-reference" href="../chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.  The goal of having the <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a> type was   probably to improve portability, but it is unclear how it could actually   be used in that way. <br/></section><section class="status-passed proposal" id="issue-common-type:remove"><h2 class="section-title">Proposal REMOVE</h2>  Remove <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a> and <a class="index/code-reference" href="../chapter-A.xhtml#index/code-commonp">commonp</a> from the language. <br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>  Keeping the definition of <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a> accurate in the new specification, in   the face of changes elsewhere in the language such as the introduction   of CLOS and the possible introduction of character registries, is   difficult when no one is sure what <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a> is for.  If no one uses <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a>,   it would be less work to just get rid of it. <br/></section><section id="section-Current practice" class="section"><h2 class="section-title">Current practice</h2>  Every implementation probably implements <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a>.  Moon has never seen it   used except in a program to test whether its implementation matched CLtL. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>  None. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2>  None unless they are actually using <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a>. <br/></section><section id="section-Cost of non-adoption" class="section"><h2 class="section-title">Cost of non-adoption</h2>  Implementors would have to maintain <a class="keyword-reference" href="../chapter-19.xhtml#keyword-common">common</a>.  Users would have to try to   understand it, or figure out that they didn't care about it. <br/></section><section id="section-Performance impact" class="section"><h2 class="section-title">Performance impact</h2>  None. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>  Simpler language. <br/></section><section id="section-Esthetics" class="section"><h2 class="section-title">Esthetics</h2>  Simpler language. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2>  None. </section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>