<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — ROOM-DEFAULT-ARGUMENT</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">ROOM-DEFAULT-ARGUMENT</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-room-default-argument:new-value">Proposal NEW-VALUE</a><ol> </ol></li><li><a href="#section-Test Case">Test Case</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Cost of Non-Adoption">Cost of Non-Adoption</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue ROOM-DEFAULT-ARGUMENT [NIL] [ADDITION]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>Passed, Jan 89 X3J13 </section><section id="section-References" class="section"><h2 class="section-title">References</h2><a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> (p442) </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>12-Sep-88, Version 1 by Pitman </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2>  Passing no argument to <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> is not equivalent to any argument which   can be passed. This makes data-flow from another function which wants   to call <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> inconvenient. Rather than simply passing a value through,   the correct calling sequence must be selected as well. For example,   one might have to do something like   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-case">case</a> <span class="syntax-interned-symbol">FLAG</span>
    <span class="syntax-cons">(<span class="syntax-keyword-symbol">:DEFAULT</span> <span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-room">room</a>)</span>)</span>
    <span class="syntax-cons">(<span class="syntax-cons">(<a class="section-reference" href="../chapter-26.xhtml#section-T">T</a> <a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a>)</span> <span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> <span class="syntax-interned-symbol">FLAG</span>)</span>)</span>)</span>
</span></code></pre>   where <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> <span class="syntax-interned-symbol">FLAG</span>)</span>
</span></code> would suffice <br/></section><section class="status-passed proposal" id="issue-room-default-argument:new-value"><h2 class="section-title">Proposal NEW-VALUE</h2>  Specify that passing an argument of :DEFAULT is equivalent to passing   no argument to <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a>. <br/></section><section id="section-Test Case" class="section"><h2 class="section-title">Test Case</h2><pre>  <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> <span class="syntax-quote">'<span class="syntax-keyword-symbol">:DEFAULT</span></span>)</span>
</span></code> is functionally equivalent to <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-room">room</a>)</span>
</span></code>.<br/><br/></pre></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>  Minimal change needed to get around the stated problem. <br/>  Allows <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> to be describable without reference to supplied-p   information. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>  Symbolics Genera defines <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> using <a class="lambda-list-keyword-reference" href="../chapter-3.xhtml#lambda-list-keyword-rest">&amp;REST</a> and looks for <a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a>, <code><span class="syntax-root"><span class="syntax-cons">(<a class="section-reference" href="../chapter-26.xhtml#section-T">T</a>)</span>
</span></code>, or <code><span class="syntax-root"><span class="syntax-cons">(<a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a>)</span>
</span></code>.   [This reduces its ability to do compile-time number-of-argument checking.] <br/>  Some other implementations probably have a magic undocumented value   to avoid use of a SUPPLIED-P argument. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>  Probably it involves negligible resources to change this.   In most implementations, the resulting code would probably look better. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2>  None. This change is upward compatible. <br/></section><section id="section-Cost of Non-Adoption" class="section"><h2 class="section-title">Cost of Non-Adoption</h2>  The description of <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> will look yucky in the emerging specification.   The source code for <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> will look yucky.   [How's that for objective? -kmp]   Error checking in some implementations may be sub-optimal. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>  The description of <a class="function-reference" href="../chapter-25.xhtml#function-room">room</a> in the now-being-written specification would   be less complicated. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>  This proposal would make a minor improvement in aesthetics. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2>  This is obviously a low-priority issue, but would require such little   resources to fix that it seems worth doing. <br/>  Pitman supports this addition. <br/>  It's perhaps too bad that keywords like :SHORT, :MEDIUM, and :LONG   weren't chosen instead of <a class="section-reference" href="../chapter-26.xhtml#section-T">T</a> and <a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a>, since <a class="section-reference" href="../chapter-26.xhtml#section-T">T</a> and <a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a> have a bit of a   binary feel to them and it's hard to think of a good name for the   default case. <br/></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>