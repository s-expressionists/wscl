<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — COMPILER-WARNING-STREAM</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">COMPILER-WARNING-STREAM</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-compiler-warning-stream:error-output">Proposal ERROR-OUTPUT</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Adoption Cost">Adoption Cost</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Conversion Cost">Conversion Cost</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue COMPILER-WARNING-STREAM [NIL] [CLARIFICATION/CHANGE]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>passed, June 87 </section><section id="section-References" class="section"><h2 class="section-title">References</h2><a class="function-reference" href="../chapter-3.xhtml#function-compile">COMPILE</a> (p438), <a class="function-reference" href="../chapter-24.xhtml#function-compile-file">COMPILE-FILE</a> (p439) </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>Version 1 by Pitman 02/27/87 Version 2 at committee meeting 15-Mar-87 Version 3 Masinter 15-Mar-87 Version 4 by Fahlman, incorporate Dribble Version 5 by Masinter, 29-May-87, revert to Version 3 Version 6 by Masinter,  5-Jun-87, minor formatting </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2>The description of the <a class="function-reference" href="../chapter-3.xhtml#function-compile">COMPILE</a> and <a class="function-reference" href="../chapter-24.xhtml#function-compile-file">COMPILE-FILE</a> functions does not explicitly permit them to print warnings. If this is to be allowed, it should be an explicitly expressed part of the contract. <br/></section><section class="status-passed proposal" id="issue-compiler-warning-stream:error-output"><h2 class="section-title">Proposal ERROR-OUTPUT</h2><a class="function-reference" href="../chapter-3.xhtml#function-compile">COMPILE</a> and <a class="function-reference" href="../chapter-24.xhtml#function-compile-file">COMPILE-FILE</a> are permitted to output warnings; warnings should go to the stream that is the value of <a class="variable-reference" href="../chapter-21.xhtml#variable-*error-output*">*ERROR-OUTPUT*</a>. <br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>Compiler warning output is a widely accepted extension to the compilation. Warnings that come via the <a class="function-reference" href="../chapter-9.xhtml#function-warn">WARN</a> function will go to the stream that is the value of <a class="variable-reference" href="../chapter-21.xhtml#variable-*error-output*">*ERROR-OUTPUT*</a>. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>Some implementations send compiler warning output to <a class="variable-reference" href="../chapter-21.xhtml#variable-*error-output*">*ERROR-OUTPUT*</a>. Other implementations send it to <a class="variable-reference" href="../chapter-21.xhtml#variable-*standard-output*">*STANDARD-OUTPUT*</a>. <br/></section><section id="section-Adoption Cost" class="section"><h2 class="section-title">Adoption Cost</h2>In most cases, the change to the compiler to redirect output is expected to be very slight. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>Currently, it is difficult to redirect the output of <a class="function-reference" href="../chapter-3.xhtml#function-compile">COMPILE</a> and <a class="function-reference" href="../chapter-24.xhtml#function-compile-file">COMPILE-FILE</a> because it isn't clear where it's directed. <br/></section><section id="section-Conversion Cost" class="section"><h2 class="section-title">Conversion Cost</h2>Most user programs that care are probably already tolerant of both situations or naively expect that output will go to <a class="variable-reference" href="../chapter-21.xhtml#variable-*error-output*">*ERROR-OUTPUT*</a>. As such, most users will probably perceive this as a clarification. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>Most users will probably perceive this change as a simplification because it will allow the kind of warning that comes from <a class="function-reference" href="../chapter-9.xhtml#function-warn">WARN</a> and the kind of warning that comes from compilation to be conceptually grouped. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2>This was a problem in adapting MACSYMA to Common Lisp because Macsyma provides alternate user interfaces to the compiler which it needs to be able to control. <br/>The committee considered extending the proposal to describe the interaction with <a class="function-reference" href="../chapter-25.xhtml#function-dribble">DRIBBLE</a> on the warning output, but found that <a class="function-reference" href="../chapter-25.xhtml#function-dribble">DRIBBLE</a> was so underspecified as to make the task impossible. <a class="function-reference" href="../chapter-25.xhtml#function-dribble">DRIBBLE</a> should be considered in a separate proposal. <br/>The cleanup committee supports this change as stated. </section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>