<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — TIME-ZONE-NON-INTEGER</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">TIME-ZONE-NON-INTEGER</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-time-zone-non-integer:allow">Proposal ALLOW</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Conversion Cost">Conversion Cost</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue TIME-ZONE-NON-INTEGER [NIL] [CLARIFICATION]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>Passed v1 (as amended in v2) Mar-89 by 18-0 vote. </section><section id="section-References" class="section"><h2 class="section-title">References</h2>Section 25.4.1 (Time Functions) (p. 443-444) </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>1-Mar-89, Version 1 by Chapman 10-Apr-89, Version 2 by Pitman (amendments per X3J13) </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2> CLtL states that the time zone part of Decoded Time is an integer.  However, it is possible to have a non-integer time-zone. <br/></section><section class="status-passed proposal" id="issue-time-zone-non-integer:allow"><h2 class="section-title">Proposal ALLOW</h2> Specify that the time zone part of Decoded Time is  <ol><li> a rational number <code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">either</span> <span class="syntax-interned-symbol">an</span> <a class="type-reference" href="../chapter-12.xhtml#type-integer">integer</a> <a class="macro-reference" href="../chapter-5.xhtml#macro-or">or</a> <span class="syntax-interned-symbol">a</span> <a class="symbol-reference" href="../chapter-22.xhtml#symbol-ratio">ratio</a>)</span>
</span></code> </li><li> in the range -24 to 24 <code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">inclusive</span> <span class="syntax-interned-symbol">on</span> <span class="syntax-interned-symbol">both</span> <span class="syntax-interned-symbol">ends</span>)</span>
</span></code> </li><li> a multiple of 1/3600. </li></ol><br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2><ol><li> For <a class="package-reference" href="../chapter-11.xhtml#package-cl">cl</a> to accommodate all possible time designations, it is  necessary to allow time zone to be non-integer.  Some places  in the world are on half-hour or quarter-hour times. <br/> There is no demand for floating point time zones.  Since such  zones would introduce inexact arithmetic, we did not consider  adding them at this time. <br/></li><li> This prohibits the perverse use of very incredibly time zone  magnitudes to get around the year restriction on times  in portable code. <br/></li><li> This requires time zones to be represented as even multiples  of 1 second. <br/></li></ol></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2> VAX <a class="package-reference" href="../chapter-A.xhtml#package-lisp">lisp</a> allows time zone to be non-integer. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2> Very slight. Implementations which use integer-only arithmetic  in dealing with time zones might have to switch to a more generic  kind of arithmetic. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2> Depends on situation. Very slight negative to very strong positive  effects will be seen by users. <br/> In some cases, this legitimizes time zones which are already a  political necessity and may make life easier for users. <br/> In at least one known case, this will make things a little harder  because `very large' time zones will not be permitted.  However,   such time zones probably were not really portable to begin with  so this is more just a recognition of the status quo. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2> See Rationale. <br/></section><section id="section-Conversion Cost" class="section"><h2 class="section-title">Conversion Cost</h2> In most cases, no user code will have to be modified. <br/> In the one known case using `very large' time zones, the user may  have to write his own time manipulation software if he really wants  to be portable. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2> Probably slightly improved. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2> Haflich was claiming he might want to use very large negative time zones  to go back in history beyond 1900 <pre><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">where</span> <span class="syntax-interned-symbol">universal</span> <span class="syntax-interned-symbol">times</span> <span class="syntax-interned-symbol">supposedly</span> 
 <span class="syntax-interned-symbol">bottom</span> <span class="syntax-interned-symbol">out</span>)</span>
</span></code></pre>.  However, most implementations probably don't represent the  shifts in calendar system which occurred at various points before that  time, most implementors present at the Mar-89 meeting seemed to think this  `hack' was probably not really going to work portably anyway. </section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>