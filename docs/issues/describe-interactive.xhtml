<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — DESCRIBE-INTERACTIVE</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">DESCRIBE-INTERACTIVE</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-describe-interactive:explicitly-vague">Proposal EXPLICITLY-VAGUE</a><ol> <li><a href="#section-Test Case">Test Case</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Cost of Non-Adoption">Cost of Non-Adoption</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li></ol></li><li><a href="#issue-describe-interactive:no">Proposal NO</a><ol> <li><a href="#section-Test Case">Test Case</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Cost of Non-Adoption">Cost of Non-Adoption</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li></ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue DESCRIBE-INTERACTIVE [NIL] [CLARIFICATION (EXPLICITLY-VAGUE) / CHANGE (NO)]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>Proposal <a class="proposal-reference" href="#issue-describe-interactive:no">NO</a> passed Jan 89 X3J13 </section><section id="section-References" class="section"><h2 class="section-title">References</h2><a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> (p441) </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>12-Sep-88, Version 1 by Pitman 23-Sep-88, Version 2 by Masinter 19-Oct-88, Version 3 by Pierson, invert 15-Nov-88, Version 4 by Pierson, two-proposal version </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2>  CLtL is not clear about whether <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> may be interactive.   While CLtL describes <a class="function-reference" href="../chapter-25.xhtml#function-inspect">inspect</a> as an interactive as an   interactive version of <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a>, it doesn't make explicit   that <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> is non-interactive. In some implementations it is,    and in other implementations it is not. <br/>  Users of systems in which <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> is not interactive may presume   that it is safe to call <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> in a batch applications without   hanging the application, which can lead to problems. <br/></section><section class="status-unknown proposal" id="issue-describe-interactive:explicitly-vague"><h2 class="section-title">Proposal EXPLICITLY-VAGUE</h2>    Specify that <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> is permitted <pre><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">though</span> <a class="function-reference" href="../chapter-5.xhtml#function-not">not</a> <span class="syntax-interned-symbol">required</span>)</span>
</span></code></pre> to     require user input, and that such input should be negotiated     through <a class="variable-reference" href="../chapter-21.xhtml#variable-*query-io*">*query-io*</a>. <br/>    Descriptive information would continue to go to <a class="variable-reference" href="../chapter-21.xhtml#variable-*standard-output*">*standard-output*</a>. <br/><section id="section-Test Case" class="section"><h2 class="section-title">Test Case</h2><pre>  The following kind of interaction would be permissible in<br/>  implementations which chose to do it:<br/><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*MY-TABLE*</span> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-make-hash-table">make-hash-table</a>)</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">FOO</span></span> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span> <span class="syntax-number">1</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">BAR</span></span> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span> <span class="syntax-number">2</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">FOOBAR</span></span> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span> <span class="syntax-number">3</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span>
</span></code></pre><br/>   #&lt;EQ-HASH-TABLE 259&gt; has 3 entries.<br/>   Do you want to see its contents? (Yes or No) Yes<br/><br/></pre></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>  This validates current implementations. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>  Symbolics Genera asks some questions interactively when describing   some kinds of structured data structures, such as hash tables.   Since users can define their own <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> methods and took their cue   from the system, describing some user structures also require such   interactions. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>  None. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2>  User code which depended on <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> running without user interaction   would have to be modified. Such code is not currently fully portable,   however. <br/></section><section id="section-Cost of Non-Adoption" class="section"><h2 class="section-title">Cost of Non-Adoption</h2>  Users would not know the straight story about whether they should   expect interaction from <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a>. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>  Implementations which don't do interactive querying in <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> only   because they're not 100% sure it's kosher would be free to do it. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>  Some people might think it's not aesthetic for <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> to require user   intervention. Not saying whether it's permissible is probably less   aesthetic, though. <br/></section></section><section class="status-passed proposal" id="issue-describe-interactive:no"><h2 class="section-title">Proposal NO</h2>    Specify that <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> is forbidden to prompt for or require     user input.  Permit implementations to extend describe via keyword     arguments to prompt for or require user input as long as the default     action if no keyword arguments are supplied does not prompt for or     require user input. <br/>    This is an incompatible change for some implementations. <br/><section id="section-Test Case" class="section"><h2 class="section-title">Test Case</h2><pre>  The following kind of interaction would be permissible in<br/>  implementations which chose to do it:<br/><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*MY-TABLE*</span> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-make-hash-table">make-hash-table</a>)</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">FOO</span></span> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span> <span class="syntax-number">1</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">BAR</span></span> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span> <span class="syntax-number">2</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-18.xhtml#function-gethash">gethash</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">FOOBAR</span></span> <span class="syntax-interned-symbol">*MY-TABLE*</span>)</span> <span class="syntax-number">3</span>)</span>
</span></code></pre><br/>   <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> <span class="syntax-interned-symbol">*MY-TABLE*</span> <span class="syntax-keyword-symbol">:INTERACTIVE</span> <a class="section-reference" href="../chapter-26.xhtml#section-T">T</a>)</span>
</span></code></pre><br/>   #&lt;EQ-HASH-TABLE 259&gt; has 3 entries.<br/>   Do you want to see its contents? (Yes or No) Yes<br/><br/></pre></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>  <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> is the only hook a portable program has for providing   information about objects to the user.  The potential interactive   functions of <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> are also likely to be available via <a class="function-reference" href="../chapter-25.xhtml#function-inspect">inspect</a>. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>  Symbolics Genera asks some questions interactively when describing   some kinds of structured data structures, such as hash tables.   Since users can define their own <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> methods and took their cue   from the system, describing some user structures also require such   interactions. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>  Symbolics Genera and other non-conforming implementations will have   to change. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2>  User code which depends on <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> running with user interaction   will have to be modified. Such code is not currently portable,   however. <br/></section><section id="section-Cost of Non-Adoption" class="section"><h2 class="section-title">Cost of Non-Adoption</h2>  Users would not have any portable way to have progams inform the   user about object they are dealing with.  This might be important in   traces and logs of portable progams or in portable debugging tools. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>  It will be easier to provide some types of portable functionality. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>  This simplifies the language slightly. <br/></section></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2>  Pitman thinks it's important to clarify this issue, but he isn't fussy   about the particulars. <br/>  EXPLICITY-VAGUE proposal is the minimal proposal for compatibility   with current behavior. <br/>  Some members of the cleanup committee think that <a class="proposal-reference" href="#issue-describe-interactive:explicitly-vague">EXPLICITLY-VAGUE</a> is   really a change from the intent of CLtL. However, the current   sentiment is to be less rather than more specific about the behavior   of debugging tools (25.3 of CLtL). <br/>  It might be possible to extend <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> to have additional    keywords (:VERBOSE, :INTERACTIVE-ALLOWED) to cover    additional behavior.  <br/>  Pierson supports <a class="proposal-reference" href="#issue-describe-interactive:no">NO</a> because he thinks it's important for there to be   some way for portable programs to present this sort of information   to the user.  While the exact data and format presented is   implementation dependent and thus outside of the bounds of   standardization, the existance of such data is neither. <br/>  Moon opposes <a class="proposal-reference" href="#issue-describe-interactive:no">NO</a> because "it creates extra work for implementors and   users of at least one implementation, for no compelling reason." <br/>  Moon suggested as a compromise only allowing <a class="function-reference" href="../chapter-25.xhtml#function-describe">describe</a> to require   user input from "interactive streams".  Several other members of the   committee like this in principle but question whether it's feasible   since we have neither defined "interactive streams" nor provided any   portable way to tell if a stream is interactive. <br/></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>