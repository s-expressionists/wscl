<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — COPY-SYMBOL-PRINT-NAME</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">COPY-SYMBOL-PRINT-NAME</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-copy-symbol-print-name:equal">Proposal EQUAL</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue COPY-SYMBOL-PRINT-NAME [NIL] [CLARIFICATION]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>Passed, Mar 89 X3J13 </section><section id="section-References" class="section"><h2 class="section-title">References</h2><a class="function-reference" href="../chapter-10.xhtml#function-copy-symbol">COPY-SYMBOL</a> (p. 169) </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>1-MAR-89, Version 1 by Chapman 15-MAR-89, Version 2 by Chapman </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2>The description of <a class="function-reference" href="../chapter-10.xhtml#function-copy-symbol">COPY-SYMBOL</a> states that it "returns a new uninterned symbol with the same print name as sym <code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">its</span> <a class="function-reference" href="../chapter-14.xhtml#function-first">first</a> <span class="syntax-interned-symbol">argument</span>)</span>
</span></code>". The words "the same as" are not defined in CLtL. Do they mean <a class="function-reference" href="../chapter-5.xhtml#function-eq">EQ</a>, <a class="function-reference" href="../chapter-5.xhtml#function-equal">EQUAL</a>, ...? <br/></section><section class="status-passed proposal" id="issue-copy-symbol-print-name:equal"><h2 class="section-title">Proposal EQUAL</h2>The description of <a class="function-reference" href="../chapter-10.xhtml#function-copy-symbol">COPY-SYMBOL</a> should read as follows: "<a class="function-reference" href="../chapter-10.xhtml#function-copy-symbol">COPY-SYMBOL</a> returns an uninterned symbol whose print name is <a class="function-reference" href="../chapter-16.xhtml#function-string=">STRING=</a> to the print name of the symbol that is the first argument to <a class="function-reference" href="../chapter-10.xhtml#function-copy-symbol">COPY-SYMBOL</a>." <br/>Suggested implementation note: The string should not be copied unnecessarily. In this case, the uninterned symbol's print name would be <a class="function-reference" href="../chapter-5.xhtml#function-eq">EQ</a> to the print name of the argument symbol. <br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>This clarification resolves any possibility of ambiguity. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>Medley did this: the symbol names didn't really have a string header and some symbol names <code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="../chapter-3.xhtml#special-operator-the">the</a> <span class="syntax-string">"initial symbols"</span> )</span>
</span></code> had a different place for storing the actual characters than symbols created later. Unfortunately, that means that <a class="function-reference" href="../chapter-10.xhtml#function-symbol-name">SYMBOL-NAME</a> has to <a class="function-reference" href="../chapter-14.xhtml#function-cons">CONS</a>. It wasn't so much a problem for Interlisp since most of the "string" functions in Interlisp will take symbols, but in Common Lisp, it is a performance hit. Poor design, but there's no reason to require <a class="function-reference" href="../chapter-10.xhtml#function-symbol-name">SYMBOL-NAME</a> to return <a class="function-reference" href="../chapter-5.xhtml#function-eq">EQ</a> strings.  In this case, the strings aren't <a class="function-reference" href="../chapter-5.xhtml#function-eq">EQ</a> even though the string characters are shared. (Think of it as strings displaced to a shared area.) <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>Less ambiguity in the specification, and potentially more portable code. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>? <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>None. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2><br/>     &mdash;&ndash; End Forwarded Messages &mdash;&ndash; </section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>