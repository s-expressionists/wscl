<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — SETF-FIND-CLASS</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">SETF-FIND-CLASS</span><br/><ol class="local-toc"><li><a href="#section-References">References</a><ol> </ol></li><li><a href="#section-Edit history">Edit history</a><ol> </ol></li><li><a href="#section-Problem description">Problem description</a><ol> </ol></li><li><a href="#issue-setf-find-class:allow-nil">Proposal ALLOW-NIL</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current practice">Current practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Cost of non-adoption">Cost of non-adoption</a><ol> </ol></li><li><a href="#section-Performance impact">Performance impact</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Esthetics">Esthetics</a><ol> </ol></li><li><a href="#section-Discussion">Discussion</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue SETF-FIND-CLASS [NIL] [CLARIFICATION]</h1><section id="section-References" class="section"><h2 class="section-title">References</h2><a class="function-reference" href="../chapter-7.xhtml#function-find-class">find-class</a> in 88-002R </section><section id="section-Edit history" class="section"><h2 class="section-title">Edit history</h2>29-Apr-90, Version 1 by Moon 30-Apr-90, Version 2 by Moon (update current practice) 2-May-90, Version 3 by Moon (remove incorrect reference to Loosemore issue #7 of 27 Feb 90) 4-May-90, Version 4 by Moon (update discussion and current practice) </section><section id="section-Problem description" class="section"><h2 class="section-title">Problem description</h2>  Is <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-7.xhtml#function-find-class">find-class</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">FOO</span></span>)</span> <a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a>)</span>
</span></code></pre> permitted as a way to break the link from   a name to a class?  I can't find anything in the CLOS spec for or against   this. <br/>  This is Symbolics issue #27. <br/></section><section class="status-unknown proposal" id="issue-setf-find-class:allow-nil"><h2 class="section-title">Proposal ALLOW-NIL</h2>  Define <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-7.xhtml#function-find-class">find-class</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">FOO</span></span>)</span> <a class="section-reference" href="../chapter-1.xhtml#section-NIL">NIL</a>)</span>
</span></code></pre> to cause <a class="index/code-reference" href="../chapter-1.xhtml#index/code-foo">foo</a> no longer to name a class.   If <a class="index/code-reference" href="../chapter-1.xhtml#index/code-foo">foo</a> already does not name a class, the operation has no effect. <br/>  This does not affect the class formerly named by <a class="index/code-reference" href="../chapter-1.xhtml#index/code-foo">foo</a>, if any, except that   if <a class="index/code-reference" href="../chapter-1.xhtml#index/code-foo">foo</a> was that class's proper name, the class no longer has a proper name. <br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>  This is simpler than putting in a new function to break the association   between a name and a class.  When CMAKUNBOUND was removed from an early   draft of 88-002R, it was probably intended to add this <a class="macro-reference" href="../chapter-5.xhtml#macro-setf">setf</a> of <a class="function-reference" href="../chapter-7.xhtml#function-find-class">find-class</a>   feature to replace it, but the document was accidentally not updated. <br/></section><section id="section-Current practice" class="section"><h2 class="section-title">Current practice</h2>  Symbolics Genera 8.0, TI Explorer release 6.0, and Lucid 4.0.0 Beta-1   implement the proposal.  Other CLOS implementations were not surveyed. <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>  Easy. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2>  None. <br/></section><section id="section-Cost of non-adoption" class="section"><h2 class="section-title">Cost of non-adoption</h2>  There will be no portable way to break the association between a name and   a class. <br/></section><section id="section-Performance impact" class="section"><h2 class="section-title">Performance impact</h2>  None. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>  Adds a useful feature that was probably intended to be there all along. <br/></section><section id="section-Esthetics" class="section"><h2 class="section-title">Esthetics</h2>  More complete language. <br/></section><section id="section-Discussion" class="section"><h2 class="section-title">Discussion</h2>  Gregor Kiczales says he supports <a class="issue-reference" href="#issue-setf-find-class:allow-nil">SETF-FIND-CLASS:ALLOW-NIL</a>. </section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>