<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="../style.css"/><script src="../permalink.js"/><script src="../navigation.js"/><title>Well-specified Common Lisp — IN-SYNTAX</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="../chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="../symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="../figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="../issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="../note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="../chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">IN-SYNTAX</span><br/><ol class="local-toc"><li><a href="#section-Status">Status</a><ol> </ol></li><li><a href="#section-Edit History">Edit History</a><ol> </ol></li><li><a href="#section-Problem Description">Problem Description</a><ol> </ol></li><li><a href="#issue-in-syntax:minimal">Proposal MINIMAL</a><ol> </ol></li><li><a href="#section-Rationale">Rationale</a><ol> </ol></li><li><a href="#section-Current Practice">Current Practice</a><ol> </ol></li><li><a href="#section-Cost to Implementors">Cost to Implementors</a><ol> </ol></li><li><a href="#section-Cost to Users">Cost to Users</a><ol> </ol></li><li><a href="#section-Cost of Non-Adoption">Cost of Non-Adoption</a><ol> </ol></li><li><a href="#section-Benefits">Benefits</a><ol> </ol></li><li><a href="#section-Aesthetics">Aesthetics</a><ol> </ol></li></ol></nav><div class="content"><h1>X3J13 Issue IN-SYNTAX [NIL] [NIL]</h1><section id="section-Status" class="status-passed section"><h2 class="section-title">Status</h2>Passed, Mar 89 X3J13 </section><section id="section-Edit History" class="section"><h2 class="section-title">Edit History</h2>21-Oct-88, Version 1 by Pitman Version 2, KMP 3/30/89 Version 3,  9-Apr-89, Masinter (Include discussion from Version 1) </section><section id="section-Problem Description" class="section"><h2 class="section-title">Problem Description</h2>  There is no way to bind read syntax within a file. <br/>  As a result, applications which require extended syntax of some sort   tend to globally modify the lisp readtable at compile and load time,   sometimes interfering with other modules and/or user interaction. <br/>  Conscientious developers often avoid the creation of any stylized   syntax because of its likely effect on parts of the environment which   don't really belong to the application developer. This need for   paranoia is probably contrived and the result of what amounts to   an oversight in the design of Common Lisp. <br/></section><section class="status-passed proposal" id="issue-in-syntax:minimal"><h2 class="section-title">Proposal MINIMAL</h2>    Define that <a class="function-reference" href="../chapter-24.xhtml#function-compile-file">compile-file</a> and <a class="function-reference" href="../chapter-24.xhtml#function-load">load</a> bind <a class="variable-reference" href="../chapter-23.xhtml#variable-*readtable*">*readtable*</a> to its current value. <br/></section><section id="section-Rationale" class="section"><h2 class="section-title">Rationale</h2>   This allows portable programs to do <br/>     <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="../chapter-11.xhtml#macro-in-package">in-package</a> <span class="syntax-string">"FOO"</span>)</span>
</span></code>      <pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="../chapter-3.xhtml#special-operator-eval-when">eval-when</a> <span class="syntax-cons">(<a class="function-reference" href="../chapter-3.xhtml#function-eval">eval</a> <a class="function-reference" href="../chapter-24.xhtml#function-load">load</a> <a class="function-reference" href="../chapter-3.xhtml#function-compile">compile</a>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="../chapter-5.xhtml#special-operator-setq">setq</a> <a class="variable-reference" href="../chapter-23.xhtml#variable-*readtable*">*readtable*</a> <span class="syntax-interned-symbol">FOO:MY-READTABLE</span>)</span>)</span>
</span></code></pre> <br/>   at the top of a file without globally side-effecting the    environment. <br/>   Currently, there is no portable way to change the syntax only for    the duration of a file, which in turn makes customized syntax    difficult to use safely. <br/>   Programs that want to side effect the environment can instead    continue to modify <a class="variable-reference" href="../chapter-23.xhtml#variable-*readtable*">*readtable*</a>. <br/>    This is enough of a foothold to implement a more elaborate facility     for using readtables in a localized way. <br/></section><section id="section-Current Practice" class="section"><h2 class="section-title">Current Practice</h2>   mixed <br/></section><section id="section-Cost to Implementors" class="section"><h2 class="section-title">Cost to Implementors</h2>  Very small. <br/></section><section id="section-Cost to Users" class="section"><h2 class="section-title">Cost to Users</h2>small <br/></section><section id="section-Cost of Non-Adoption" class="section"><h2 class="section-title">Cost of Non-Adoption</h2>  Readtables would continue to be hard to use in a clean way. <br/></section><section id="section-Benefits" class="section"><h2 class="section-title">Benefits</h2>  If people could use readtables safely, we might see more interesting   experimentation with read syntax. <br/></section><section id="section-Aesthetics" class="section"><h2 class="section-title">Aesthetics</h2>  A slight improvement to aesthetics by controlling what was formerly   an unbounded side-effect <code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">modification</span> <span class="syntax-interned-symbol">to</span> <a class="special-operator-reference" href="../chapter-3.xhtml#special-operator-the">the</a> <span class="syntax-interned-symbol">global</span> <a class="type-reference" href="../chapter-23.xhtml#type-readtable">readtable</a>)</span>
</span></code>. <br/></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>