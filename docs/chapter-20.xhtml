<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="style.css"/><script src="permalink.js"/><script src="navigation.js"/><title>Well-specified Common Lisp — Files</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">Files</span><br/><ol class="local-toc"><li><a href="#section-FileSystemConcepts">File System Concepts</a><ol> <li><a href="#section-StreamsToPathnames">Coercion of Streams to Pathnames</a><ol> </ol></li><li><a href="#section-OpenAndClosedStreams">File Operations on Open and Closed Streams</a><ol> </ol></li><li><a href="#section-Truenames">Truenames</a><ol> <li><a href="#section-ExamplesofTruenames">Examples of Truenames</a><ol> </ol></li></ol></li></ol></li><li><a href="#section-Dictionary">Dictionary</a><ol> <li><a href="#function-directory">directory</a></li><li><a href="#function-probe-file">probe-file</a></li><li><a href="#function-ensure-directories-exist">ensure-directories-exist</a></li><li><a href="#function-truename">truename</a></li><li><a href="#function-file-author">file-author</a></li><li><a href="#function-file-write-date">file-write-date</a></li><li><a href="#function-rename-file">rename-file</a></li><li><a href="#function-delete-file">delete-file</a></li><li><a href="#type-file-error">file-error</a></li><li><a href="#function-file-error-pathname">file-error-pathname</a></li></ol></li></ol></nav><div class="content"><section id="section-ChapTwenty"><h1 class="section-title">20. Files</h1><section id="section-FileSystemConcepts"><h2 class="section-title">File System Concepts</h2>


This section describes the <span class="explicit-roman">Common Lisp</span> interface to file systems.
The model used by this interface assumes 
     that <span class="newterm">files</span> are named by <span class="newterm">filenames</span>,
     that a <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a> can be represented by a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>, 
 and that given a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a> a <span class="newterm">stream</span> can be constructed 
      that connects to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> whose <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a> it represents.<br/>For information about opening and closing <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a>,
and manipulating their contents, see <span class="section-reference error">section:Streams.</span><br/>Figure <span class="explicit-mono">()</span>&ndash; lists some <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> 
that are applicable to <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a> and directories.<br/><span class="float" id="figure-File and Directory Operations"><table><tbody><tr><td><a class="function-reference" href="chapter-24.xhtml#function-compile-file">compile-file</a></td><td><a class="function-reference" href="chapter-21.xhtml#function-file-length">file-length</a></td><td><a class="function-reference" href="chapter-21.xhtml#function-open">open</a></td></tr><tr><td><a class="function-reference" href="#function-delete-file">delete-file</a></td><td><a class="function-reference" href="chapter-21.xhtml#function-file-position">file-position</a></td><td><a class="function-reference" href="#function-probe-file">probe-file</a></td></tr><tr><td><a class="function-reference" href="#function-directory">directory</a></td><td><a class="function-reference" href="#function-file-write-date">file-write-date</a></td><td><a class="function-reference" href="#function-rename-file">rename-file</a></td></tr><tr><td><a class="function-reference" href="#function-file-author">file-author</a></td><td><a class="function-reference" href="chapter-24.xhtml#function-load">load</a></td><td><a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a></td></tr></tbody></table><div class="caption">File and Directory Operations</div></span><br/><section id="section-StreamsToPathnames"><h3 class="section-title">Coercion of Streams to Pathnames</h3><br/>A <span class="newterm">stream associated with a file</span> is either a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file stream">file stream</a>
or a <a class="glossary-reference" href="chapter-26.xhtml#glossary-synonym stream">synonym stream</a> whose target is a <span class="newterm">stream associated with a file</span>.
Such streams can be used as <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designators</a>.<br/>Normally, when a <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream associated with a file">stream associated with a file</a> is used as a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>, it denotes the <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a> used to 
open the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>; this may be, but is not required to be, the
actual name of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.<br/>Some functions, such as <a class="function-reference" href="#function-truename">truename</a> and <a class="function-reference" href="#function-delete-file">delete-file</a>,
coerce <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">streams</a> to <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathnames</a> in a different way that 
involves referring to the actual <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> that is open, which might
or might not be the file whose name was opened originally.  Such special
situations are always notated specifically and are not the default.<br/></section><section id="section-OpenAndClosedStreams"><h3 class="section-title">File Operations on Open and Closed Streams</h3><br/>
Many <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> that perform <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> operations accept either
<a class="glossary-reference" href="chapter-26.xhtml#glossary-open">open</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-closed">closed</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">streams</a> as <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a>;
see <span class="section-reference error">section:StreamArgsToStandardizedFns.</span><br/>Of these, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> in Figure <span class="explicit-mono">()</span>&ndash; treat <a class="glossary-reference" href="chapter-26.xhtml#glossary-open">open</a> and 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-closed">closed</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">streams</a> differently.<br/><span class="float" id="figure-File Functions that Treat Open and Closed Streams Differently"><table><tbody><tr><td><a class="function-reference" href="#function-delete-file">delete-file</a></td><td><a class="function-reference" href="#function-file-author">file-author</a></td><td><a class="function-reference" href="#function-probe-file">probe-file</a></td></tr><tr><td><a class="function-reference" href="#function-directory">directory</a></td><td><a class="function-reference" href="#function-file-write-date">file-write-date</a></td><td><a class="function-reference" href="#function-truename">truename</a></td></tr></tbody></table><div class="caption">File Functions that Treat Open and Closed Streams Differently</div></span><br/>Since treatment of <a class="glossary-reference" href="chapter-26.xhtml#glossary-open">open</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">streams</a> by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> 
may vary considerably between <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementations</a>, however, 
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-closed">closed</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a> might be the most reliable kind of
<a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> for some of these functions&mdash;in particular, those in
Figure <span class="explicit-mono">()</span>&ndash;.  For example, in some <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file systems</a>, 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-open">open</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a> are written under temporary names 
and not renamed until <a class="glossary-reference" href="chapter-26.xhtml#glossary-closed">closed</a>
and/or are held invisible until <a class="glossary-reference" href="chapter-26.xhtml#glossary-closed">closed</a>.
In general, any code that is intended to be portable should
use such <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> carefully.<br/><span class="float" id="figure-File Functions where Closed Streams Might Work Best"><table><tbody><tr><td><a class="function-reference" href="#function-directory">directory</a></td><td><a class="function-reference" href="#function-probe-file">probe-file</a></td><td><a class="function-reference" href="#function-truename">truename</a></td></tr></tbody></table><div class="caption">File Functions where Closed Streams Might Work Best</div></span>
</section><section id="section-Truenames"><h3 class="section-title">Truenames</h3><br/>Many <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file systems</a> permit more than one <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a> to designate 
a particular <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.<br/>Even where multiple names are possible, most <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file systems</a> have a convention
for generating a canonical <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a> in such situations.  Such a canonical
<a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a> (or the <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a> representing such a <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a>) is
called a <span class="newterm">truename</span>.  <br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> may differ from other <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filenames</a>
for the file because of
     symbolic links,
     version numbers,
     logical device translations in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>,
     <a class="glossary-reference" href="chapter-26.xhtml#glossary-logical pathname">logical pathname</a> translations within <span class="explicit-roman">Common Lisp</span>,
  or other artifacts of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> is often, but not necessarily, unique for
each <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.  For instance, a Unix <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> with multiple hard links 
could have several <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truenames</a>.<br/><section id="section-ExamplesofTruenames"><h4 class="section-title">Examples of Truenames</h4>For example, a DEC TOPS-20 system with <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a> <pre><code><span class="syntax-root"><span class="syntax-interned-symbol">PS:&lt;JOE&gt;FOO.TXT.1</span>
</span></code></pre> 
and <pre><code><span class="syntax-root"><span class="syntax-interned-symbol">PS:&lt;JOE&gt;FOO.TXT.2</span>
</span></code></pre> might permit the second <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> to be referred
to as <pre><code><span class="syntax-root"><span class="syntax-interned-symbol">PS:&lt;JOE&gt;FOO.TXT.0</span>
</span></code></pre>, since the ``<pre><code><span class="syntax-root"><span class="syntax-number">.0</span>
</span></code></pre>'' notation denotes ``newest''
version of several <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a>.
In the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>, a ``logical device'' ``<pre><code><span class="syntax-root"><span class="syntax-interned-symbol">JOE:</span>
</span></code></pre>'' might be 
taken to refer to <pre><code><span class="syntax-root"><span class="syntax-interned-symbol">PS:&lt;JOE&gt;</span>
</span></code></pre>'' and so the names <pre><code><span class="syntax-root"><span class="syntax-interned-symbol">JOE:FOO.TXT.2</span>
</span></code></pre> or
<pre><code><span class="syntax-root"><span class="syntax-interned-symbol">JOE:FOO.TXT.0</span>
</span></code></pre> might refer to <pre><code><span class="syntax-root"><span class="syntax-interned-symbol">PS:&lt;JOE&gt;FOO.TXT.2</span>
</span></code></pre>.
In all of these cases, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of the file would probably be
<pre><code><span class="syntax-root"><span class="syntax-interned-symbol">PS:&lt;JOE&gt;FOO.TXT.2</span>
</span></code></pre>.<br/>If a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> is a symbolic link to another <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> (in a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>
permitting such a thing), it is conventional for the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> to be
the canonical name of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> after any symbolic links have been followed;
that is, it is the canonical name of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> whose contents would
become available if an <a class="glossary-reference" href="chapter-26.xhtml#glossary-input">input</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a> to that <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> were 
opened.<br/>In the case of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> still being created (that is, of an <a class="glossary-reference" href="chapter-26.xhtml#glossary-output">output</a>
<a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a> open to such a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>), the exact <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of the file
might not be known until the <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a> is closed.  In this case, 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="function-reference" href="#function-truename">truename</a> might return different values for such a <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>
before and after it was closed.  In fact, before it is closed, the name returned
might not even be a valid name in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>&mdash;for example, while a
file is being written, it might have version <math xmlns="http://www.w3.org/1998/Math/MathML"/><span class="explicit-mono">:newest</span> and might only take on 
a specific numeric value later when the file is closed even in a <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>
where all files have numeric versions.<br/></section></section>
</section><br/><section id="section-Dictionary"><h2 class="section-title">Dictionary</h2>


<br/><div class="component" id="function-directory"><div class="header"><span class="left"><span class="name" id="function-directory">directory</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">directory</span>&nbsp;<span class="lambda-list">pathspec <span class="lambda-list-keyword">&amp;key</span></span>&nbsp;→&nbsp;<span class="return-values">pathnames</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">pathspec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>,
		   which may contain <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a> components.

<span class="parameter">pathnames</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of
<a class="glossary-reference" href="chapter-26.xhtml#glossary-physical pathname">physical pathnames</a>.

</dd></dl><dl><dt class="label">Description</dt><dd>Determines which, if any, <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a> that are present
in the file system have names matching <span class="parameter">pathspec</span>,
and returns a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-fresh">fresh</a><a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathnames</a> corresponding to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truenames</a> of
those <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">files</a>.<br/>An <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may be extended to accept 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-defined">implementation-defined</a> keyword arguments to <a class="function-reference" href="#function-directory">directory</a>.  <br/></dd></dl><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd>The host computer's file system.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>If the attempt to obtain a directory listing is not successful,
an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="type-reference" href="chapter-19.xhtml#type-pathname">pathname</a>,
<a class="type-reference" href="chapter-19.xhtml#type-logical-pathname">logical-pathname</a>,
<a class="function-reference" href="#function-ensure-directories-exist">ensure-directories-exist</a>,
<a class="section-reference" href="#section-FileSystemConcepts">File System Concepts</a>,
<a class="section-reference" href="#section-OpenAndClosedStreams">File Operations on Open and Closed Streams</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd>If the <span class="parameter">pathspec</span> is not <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>,
the resulting list will contain either zero or one elements.<br/><span class="explicit-roman">Common Lisp</span> specifies ``<span class="lambda-list-keyword">&amp;key</span>'' in the argument list to <a class="function-reference" href="#function-directory">directory</a> 
even though no <a class="glossary-reference" href="chapter-26.xhtml#glossary-standardized">standardized</a> keyword arguments to <a class="function-reference" href="#function-directory">directory</a> are defined.
``<pre><code><span class="syntax-root"><span class="syntax-keyword-symbol">:allow-other-keys</span> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
</span></code></pre>''
may be used in <a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming program">conforming programs</a> in order to quietly ignore any
additional keywords which are passed by the program but not supported
by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>.<br/></dd></dl></div><br/><br/><br/><div class="component" id="function-probe-file"><div class="header"><span class="left"><span class="name" id="function-probe-file">probe-file</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">probe-file</span>&nbsp;<span class="lambda-list">pathspec</span>&nbsp;→&nbsp;<span class="return-values">truename</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">pathspec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.

<span class="parameter">truename</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-physical pathname">physical pathname</a> or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.

</dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-probe-file">probe-file</a> tests whether a file exists.<br/><a class="function-reference" href="#function-probe-file">probe-file</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> if there is no file named <span class="parameter">pathspec</span>,
and otherwise returns the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of <span class="parameter">pathspec</span>.<br/>If the <span class="parameter">pathspec</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> is an open <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>,
then <a class="function-reference" href="#function-probe-file">probe-file</a> produces the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of its associated <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.
If <span class="parameter">pathspec</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>, whether open or closed,
it is coerced to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a> as if by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="function-reference" href="chapter-19.xhtml#function-pathname">pathname</a>.

</dd></dl><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd>The host computer's file system.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled if <span class="parameter">pathspec</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled
if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> cannot perform the requested operation.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-truename">truename</a>,
<a class="function-reference" href="chapter-21.xhtml#function-open">open</a>,
<a class="function-reference" href="#function-ensure-directories-exist">ensure-directories-exist</a>,
<a class="type-reference" href="chapter-19.xhtml#type-pathname">pathname</a>,
<a class="type-reference" href="chapter-19.xhtml#type-logical-pathname">logical-pathname</a>,
<a class="section-reference" href="#section-FileSystemConcepts">File System Concepts</a>,
<a class="section-reference" href="#section-OpenAndClosedStreams">File Operations on Open and Closed Streams</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div><br/><br/><br/><div class="component" id="function-ensure-directories-exist"><div class="header"><span class="left"><span class="name" id="function-ensure-directories-exist">ensure-directories-exist</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">ensure-directories-exist</span>&nbsp;<span class="lambda-list">pathspec <span class="lambda-list-keyword">&amp;key</span> verbose</span>&nbsp;→&nbsp;<span class="return-values">pathspec, created</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">pathspec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.<br/><span class="parameter">verbose</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/><span class="parameter">created</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Tests whether the directories containing the specified <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> actually exist,
and attempts to create them if they do not.<br/>If the containing directories do not exist and if <span class="parameter">verbose</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>, 
then the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> is permitted (but not required) 
to perform output to <a class="glossary-reference" href="chapter-26.xhtml#glossary-standard output">standard output</a> saying what directories were created.
If the containing directories exist, or if <span class="parameter">verbose</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>,
this function performs no output.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> is the given <span class="glossary-reference error">glossary:pathspec</span> so that this operation can
be straightforwardly composed with other file manipulation expressions.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-secondary value">secondary value</a>, <span class="parameter">created</span>, is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if any directories were
created.<br/></dd></dl><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd>The host computer's file system.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled if the host, device, or directory
part of <span class="parameter">pathspec</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

If the directory creation attempt is not successful,
an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled;
if this occurs, 
it might be the case that none, some, or all
of the requested creations have actually occurred 
within the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>.


</dd></dl><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-probe-file">probe-file</a>,
<a class="function-reference" href="chapter-21.xhtml#function-open">open</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div><br/><br/><br/><br/><div class="component" id="function-truename"><div class="header"><span class="left"><span class="name" id="function-truename">truename</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">truename</span>&nbsp;<span class="lambda-list">filespec</span>&nbsp;→&nbsp;<span class="return-values">truename</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">filespec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.

<span class="parameter">truename</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-physical pathname">physical pathname</a>.

</dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-truename">truename</a> tries to find the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> indicated by 
<span class="parameter">filespec</span> and returns its <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a>.
If the <span class="parameter">filespec</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> is an open <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>,
its associated <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> is used.
If <span class="parameter">filespec</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>,
<a class="function-reference" href="#function-truename">truename</a> can be used whether the <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>
is open or closed. It is permissible for <a class="function-reference" href="#function-truename">truename</a> 
to return more specific information after the <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>
is closed than when the <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a> was open.
If <span class="parameter">filespec</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a> 
it represents the name used to open the file. This may be, but is
not required to be, the actual name of the file. <br/></dd></dl><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root">;; An example involving version numbers.  Note that the precise nature of
;; the truename is implementation-dependent while the file is still open.
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a> <span class="syntax-string">"&gt;vistor&gt;test.text.newest"</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-19.xhtml#function-pathname">pathname</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>
           <span class="syntax-cons">(<a class="function-reference" href="#function-truename">truename</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.newest"</span></span><span class="syntax-verbatim">,</span> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.1"</span></span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.newest"</span></span><span class="syntax-verbatim">,</span> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.newest"</span></span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.newest"</span></span><span class="syntax-verbatim">,</span> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;_temp_._temp_.1"</span></span>

;; In this case, the file is closed when the truename is tried, so the
;; truename information is reliable.
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a> <span class="syntax-string">"&gt;vistor&gt;test.text.newest"</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-21.xhtml#function-close">close</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-19.xhtml#function-pathname">pathname</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>
           <span class="syntax-cons">(<a class="function-reference" href="#function-truename">truename</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.newest"</span></span><span class="syntax-verbatim">,</span> <span class="syntax-pathname">#P<span class="syntax-string">"S:&gt;vistor&gt;test.text.1"</span></span>

;; An example involving TOP-20's implementation-dependent concept 
;; of logical devices -- in this case, "DOC:" is shorthand for
;; "PS:&lt;DOCUMENTATION&gt;" ...
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a> <span class="syntax-string">"CMUC::DOC:DUMPER.HLP"</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-19.xhtml#function-pathname">pathname</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>
           <span class="syntax-cons">(<a class="function-reference" href="#function-truename">truename</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"CMUC::DOC:DUMPER.HLP"</span></span><span class="syntax-verbatim">,</span> <span class="syntax-pathname">#P<span class="syntax-string">"CMUC::PS:&lt;DOCUMENTATION&gt;DUMPER.HLP.13"</span></span>
</span></code></pre><br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled if an appropriate <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>
cannot be located within the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> for the given <span class="parameter">filespec</span>,
or if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> cannot perform the requested operation.

An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled if <span class="parameter">pathname</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="type-reference" href="chapter-19.xhtml#type-pathname">pathname</a>,
<a class="type-reference" href="chapter-19.xhtml#type-logical-pathname">logical-pathname</a>,
<a class="section-reference" href="#section-FileSystemConcepts">File System Concepts</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><a class="function-reference" href="#function-truename">truename</a> may be used to account for any <a class="glossary-reference" href="chapter-26.xhtml#glossary-filename">filename</a> translations 
performed by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a>.<br/></dd></dl></div><br/><br/>
<br/><div class="component" id="function-file-author"><div class="header"><span class="left"><span class="name" id="function-file-author">file-author</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">file-author</span>&nbsp;<span class="lambda-list">pathspec</span>&nbsp;→&nbsp;<span class="return-values">author</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">pathspec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.

<span class="parameter">author</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a> or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a> naming the author of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> specified by <span class="parameter">pathspec</span>,
or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if the author's name cannot be determined.<br/></dd></dl><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a> <span class="syntax-string">"&gt;relativity&gt;general.text"</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-file-author">file-author</a> <span class="syntax-interned-symbol">s</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"albert"</span>
</span></code></pre><br/></dd></dl><dl><dt class="label">Affected By</dt><dd>The host computer's file system.<br/>Other users of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> named by <span class="parameter">pathspec</span>.
</dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled if <span class="parameter">pathspec</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled
if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> cannot perform the requested operation.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="type-reference" href="chapter-19.xhtml#type-pathname">pathname</a>,
<a class="type-reference" href="chapter-19.xhtml#type-logical-pathname">logical-pathname</a>,
<a class="section-reference" href="#section-FileSystemConcepts">File System Concepts</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div><br/><br/><br/><div class="component" id="function-file-write-date"><div class="header"><span class="left"><span class="name" id="function-file-write-date">file-write-date</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">file-write-date</span>&nbsp;<span class="lambda-list">pathspec</span>&nbsp;→&nbsp;<span class="return-values">date</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">pathspec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.

<span class="parameter">date</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-universal time">universal time</a> or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns a <a class="glossary-reference" href="chapter-26.xhtml#glossary-universal time">universal time</a> representing the time at which the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> 
specified by <span class="parameter">pathspec</span> was last written (or created), 
or returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if such a time cannot be determined.<br/></dd></dl><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">s</span> <span class="syntax-string">"noel.text"</span> 
                    <span class="syntax-keyword-symbol">:direction</span> <span class="syntax-keyword-symbol">:output</span> <span class="syntax-keyword-symbol">:if-exists</span> <span class="syntax-keyword-symbol">:error</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <span class="syntax-interned-symbol">s</span> <span class="syntax-string">"~&amp;Dear Santa,~2%I was good this year.  ~
                Please leave lots of toys.~2%Love, Sue~
             ~2%attachments: milk, cookies~%"</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-truename">truename</a> <span class="syntax-interned-symbol">s</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"CUPID:/susan/noel.text"</span></span>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">s</span> <span class="syntax-string">"noel.text"</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-file-write-date">file-write-date</a> <span class="syntax-interned-symbol">s</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2902600800</span>
</span></code></pre><br/></dd></dl><dl><dt class="label">Affected By</dt><dd>The host computer's file system.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled if <span class="parameter">pathspec</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled
if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> cannot perform the requested operation.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="section-reference" href="chapter-25.xhtml#section-UniversalTime">Universal Time</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div><br/><br/>
<br/><div class="component" id="function-rename-file"><div class="header"><span class="left"><span class="name" id="function-rename-file">rename-file</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">rename-file</span>&nbsp;<span class="lambda-list">filespec new-name</span>&nbsp;→&nbsp;<span class="return-values">defaulted-new-name, old-truename, new-truename</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">filespec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.

<span class="parameter">new-name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a> 
other than a <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>.<br/><span class="parameter">defaulted-new-name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a><br/><span class="parameter">old-truename</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-physical pathname">physical pathname</a>.<br/><span class="parameter">new-truename</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-physical pathname">physical pathname</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-rename-file">rename-file</a> modifies the file system in such a way
that the file indicated by <span class="parameter">filespec</span> is renamed to
<span class="parameter">defaulted-new-name</span>.<br/>It is an error to specify a filename containing a <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a> component,
for <span class="parameter">filespec</span> to contain a <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> component where the file system does
not permit a <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> component, or for the result of defaulting missing
components of <span class="parameter">new-name</span> from <span class="parameter">filespec</span> to contain a <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> component
where the file system does not permit a <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> component.<br/>If <span class="parameter">new-name</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-logical pathname">logical pathname</a>, 
<a class="function-reference" href="#function-rename-file">rename-file</a> returns a <a class="glossary-reference" href="chapter-26.xhtml#glossary-logical pathname">logical pathname</a> as its <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>.

<a class="function-reference" href="#function-rename-file">rename-file</a> 
returns three values if successful.  The <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>, <span class="parameter">defaulted-new-name</span>,
is the resulting name which is composed of
<span class="parameter">new-name</span> with any missing components filled in by performing
a <a class="function-reference" href="chapter-19.xhtml#function-merge-pathnames">merge-pathnames</a> operation using <span class="parameter">filespec</span> as the defaults.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-secondary value">secondary value</a>, <span class="parameter">old-truename</span>,
is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> before it was renamed.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-tertiary value">tertiary value</a>, <span class="parameter">new-truename</span>,
is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-truename">truename</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> after it was renamed.<br/>If the <span class="parameter">filespec</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> is an open <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>,
then the <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a> itself and the file associated with it are 
affected (if the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file system">file system</a> permits).<br/></dd></dl><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root">;; An example involving logical pathnames.
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a> <span class="syntax-string">"sys:chemistry;lead.text"</span>
                         <span class="syntax-keyword-symbol">:direction</span> <span class="syntax-keyword-symbol">:output</span> <span class="syntax-keyword-symbol">:if-exists</span> <span class="syntax-keyword-symbol">:error</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-princ">princ</a> <span class="syntax-string">"eureka"</span> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-5.xhtml#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-19.xhtml#function-pathname">pathname</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-truename">truename</a> <a class="type-reference" href="chapter-21.xhtml#type-stream">stream</a>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"SYS:CHEMISTRY;LEAD.TEXT.NEWEST"</span></span><span class="syntax-verbatim">,</span> <span class="syntax-pathname">#P<span class="syntax-string">"Q:&gt;sys&gt;chem&gt;lead.text.1"</span></span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-rename-file">rename-file</a> <span class="syntax-string">"sys:chemistry;lead.text"</span> <span class="syntax-string">"gold.text"</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"SYS:CHEMISTRY;GOLD.TEXT.NEWEST"</span></span><span class="syntax-verbatim">,</span>
   <span class="syntax-pathname">#P<span class="syntax-string">"Q:&gt;sys&gt;chem&gt;lead.text.1"</span></span><span class="syntax-verbatim">,</span>
   <span class="syntax-pathname">#P<span class="syntax-string">"Q:&gt;sys&gt;chem&gt;gold.text.1"</span></span>
</span></code></pre><br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>If the renaming operation is not successful, an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled.<br/>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> might be signaled if <span class="parameter">filespec</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-truename">truename</a>,
<a class="type-reference" href="chapter-19.xhtml#type-pathname">pathname</a>,
<a class="type-reference" href="chapter-19.xhtml#type-logical-pathname">logical-pathname</a>,
<a class="section-reference" href="#section-FileSystemConcepts">File System Concepts</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div><br/><br/><br/><div class="component" id="function-delete-file"><div class="header"><span class="left"><span class="name" id="function-delete-file">delete-file</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">delete-file</span>&nbsp;<span class="lambda-list">filespec</span>&nbsp;→&nbsp;<span class="return-values"><a class="symbol-reference" href="chapter-5.xhtml#symbol-t">t</a></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">filespec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.

</dd></dl><dl><dt class="label">Description</dt><dd>Deletes the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a> specified by <span class="parameter">filespec</span>.<br/>If the <span class="parameter">filespec</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> is an open <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream">stream</a>,
then <span class="parameter">filespec</span> and the file associated with it are affected 
(if the file system permits),
in which case <span class="parameter">filespec</span> might be closed immediately,
and the deletion might be immediate or delayed until <span class="parameter">filespec</span> is explicitly closed,
depending on the requirements of the file system.<br/>It is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a> whether an attempt
to delete a nonexistent file is considered to be successful.<br/><a class="function-reference" href="#function-delete-file">delete-file</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if it succeeds,
or signals an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> if it does not.<br/>The consequences are undefined 
    if <span class="parameter">filespec</span> has a <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a> component,
 or if <span class="parameter">filespec</span> has a <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> component 
     and the file system does not permit a <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> component.<br/></dd></dl><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">s</span> <span class="syntax-string">"delete-me.text"</span> <span class="syntax-keyword-symbol">:direction</span> <span class="syntax-keyword-symbol">:output</span> <span class="syntax-keyword-symbol">:if-exists</span> <span class="syntax-keyword-symbol">:error</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-5.xhtml#special-operator-setq">setq</a> <span class="syntax-interned-symbol">p</span> <span class="syntax-cons">(<a class="function-reference" href="#function-probe-file">probe-file</a> <span class="syntax-string">"delete-me.text"</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-pathname">#P<span class="syntax-string">"R:&gt;fred&gt;delete-me.text.1"</span></span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-delete-file">delete-file</a> <span class="syntax-interned-symbol">p</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-probe-file">probe-file</a> <span class="syntax-string">"delete-me.text"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">s</span> <span class="syntax-string">"delete-me.text"</span> <span class="syntax-keyword-symbol">:direction</span> <span class="syntax-keyword-symbol">:output</span> <span class="syntax-keyword-symbol">:if-exists</span> <span class="syntax-keyword-symbol">:error</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-delete-file">delete-file</a> <span class="syntax-interned-symbol">s</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-probe-file">probe-file</a> <span class="syntax-string">"delete-me.text"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>If the deletion operation is not successful, an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> is signaled.<br/>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> might be signaled if <span class="parameter">filespec</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-wild">wild</a>.

</dd></dl><dl><dt class="label">See Also</dt><dd><a class="type-reference" href="chapter-19.xhtml#type-pathname">pathname</a>,
<a class="type-reference" href="chapter-19.xhtml#type-logical-pathname">logical-pathname</a>,
<a class="section-reference" href="#section-FileSystemConcepts">File System Concepts</a>,
<a class="section-reference" href="chapter-19.xhtml#section-PathnamesAsFilenames">Pathnames as Filenames</a>
</dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div><br/><br/>
<br/><div class="component" id="type-file-error"><div class="header"><span class="left"><span class="name" id="type-file-error">file-error</span></span><span class="right"><span class="ftype">Condition Type</span></span></div><br/><dl><dt class="label">Class Precedence List</dt><dd><a class="type-reference" href="#type-file-error">file-error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-error">error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-serious-condition">serious-condition</a>,
<a class="type-reference" href="chapter-9.xhtml#type-condition">condition</a>,
<a class="type-reference" href="chapter-4.xhtml#type-t">t</a><br/></dd></dl><dl><dt class="label">Description</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a> consists of error conditions that occur during 
an attempt to open or close a file, or during some low-level transactions 
with a file system.  The ``offending pathname'' is initialized by 
the <span class="keyword">:pathname</span> initialization argument to <a class="function-reference" href="chapter-9.xhtml#function-make-condition">make-condition</a>, and is <a class="glossary-reference" href="chapter-26.xhtml#glossary-access">accessed</a>
by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="function-reference" href="#function-file-error-pathname">file-error-pathname</a>.<br/></dd></dl><dl><dt class="label">See Also</dt><dd>file-error-pathname,
<a class="function-reference" href="chapter-21.xhtml#function-open">open</a>,
<a class="function-reference" href="#function-probe-file">probe-file</a>,
<a class="function-reference" href="#function-directory">directory</a>,
<a class="function-reference" href="#function-ensure-directories-exist">ensure-directories-exist</a><br/></dd></dl></div><br/>
<br/><div class="component" id="function-file-error-pathname"><div class="header"><span class="left"><span class="name" id="function-file-error-pathname">file-error-pathname</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">file-error-pathname</span>&nbsp;<span class="lambda-list">condition</span>&nbsp;→&nbsp;<span class="return-values">pathspec</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">condition</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-condition">condition</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a>.<br/><span class="parameter">pathspec</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname designator">pathname designator</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns the ``offending pathname'' of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-condition">condition</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-file-error">file-error</a>.<br/></dd></dl><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd/></dl><dl><dt class="label">See Also</dt><dd><a class="type-reference" href="#type-file-error">file-error</a>,
<a class="section-reference" href="chapter-9.xhtml#section-ChapNine">Conditions</a><br/></dd></dl><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/>
</dd></dl></div><br/>
</section></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>