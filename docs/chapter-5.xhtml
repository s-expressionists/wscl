<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
  "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><link rel="stylesheet" type="text/css" href="style.css"/><script src="permalink.js"/><script src="navigation.js"/><title>Well-specified Common Lisp — Data and Control Flow</title></head><body><main><nav class="sidebar"><span class="name">Entry Points</span><br/><ol><li><a href="chap-0.xhtml#section-Figures">Table of Contents</a></li><li><a href="symbol-index.xhtml#section-SymbolIndex">Symbol Index</a></li><li><a href="figure-index.xhtml#section-FigureIndex">Figure Index</a></li><li><a href="issue-index.xhtml#section-IssueIndices">Issue Index</a></li><li><a href="note-indices.xhtml#section-ReviewerNoteIndex">Note Indices</a></li><li><a href="chapter-26.xhtml#section-Glossary">Glossary</a></li></ol><hr/><span class="name">Data and Control Flow</span><br/><ol class="local-toc"><li><a href="#section-GeneralizedReference">Generalized Reference</a><ol> <li><a href="#section-OverviewofPlacesandGeneralizedReference">Overview of Places and Generalized Reference</a><ol> <li><a href="#section-GenRefSubFormEval">Evaluation of Subforms to Places</a><ol> <li><a href="#section-ExamplesofEvaluationofSubformstoPlaces">Examples of Evaluation of Subforms to Places</a><ol> </ol></li></ol></li><li><a href="#section-SetfExpansions">Setf Expansions</a><ol> <li><a href="#section-ExamplesofSetfExpansions">Examples of Setf Expansions</a><ol> </ol></li></ol></li></ol></li><li><a href="#section-KindsOfPlaces">Kinds of Places</a><ol> <li><a href="#section-VariableNamesasPlaces">Variable Names as Places</a><ol> </ol></li><li><a href="#section-FnFormsAsGenRefs">Function Call Forms as Places</a><ol> </ol></li><li><a href="#section-SETFofVALUES">VALUES Forms as Places</a><ol> </ol></li><li><a href="#section-THEFormsasPlaces">THE Forms as Places</a><ol> </ol></li><li><a href="#section-SETFofAPPLY">APPLY Forms as Places</a><ol> </ol></li><li><a href="#section-SetfExpansionsandPlaces">Setf Expansions and Places</a><ol> </ol></li><li><a href="#section-MacroFormsasPlaces">Macro Forms as Places</a><ol> </ol></li><li><a href="#section-SymbolMacrosasPlaces">Symbol Macros as Places</a><ol> </ol></li><li><a href="#section-OtherCompoundFormsasPlaces">Other Compound Forms as Places</a><ol> </ol></li></ol></li><li><a href="#section-TreatmentofOtherMacrosBasedonSETF">Treatment of Other Macros Based on SETF</a><ol> </ol></li></ol></li><li><a href="#section-TransferOfControl">Transfer of Control to an Exit Point</a><ol> </ol></li><li><a href="#section-Dictionary">Dictionary</a><ol> <li><a href="#function-apply">apply</a></li><li><a href="#macro-defun">defun</a></li><li><a href="#function-fdefinition">fdefinition</a></li><li><a href="#function-fboundp">fboundp</a></li><li><a href="#function-fmakunbound">fmakunbound</a></li><li><a href="#special-operator-flet">flet, labels, macrolet</a></li><li><a href="#function-funcall">funcall</a></li><li><a href="#special-operator-function">function</a></li><li><a href="#function-function-lambda-expression">function-lambda-expression</a></li><li><a href="#function-functionp">functionp</a></li><li><a href="#function-compiled-function-p">compiled-function-p</a></li><li><a href="#constant-call-arguments-limit">call-arguments-limit</a></li><li><a href="#constant-lambda-list-keywords">lambda-list-keywords</a></li><li><a href="#constant-lambda-parameters-limit">lambda-parameters-limit</a></li><li><a href="#macro-defconstant">defconstant</a></li><li><a href="#macro-defparameter">defparameter, defvar</a></li><li><a href="#macro-destructuring-bind">destructuring-bind</a></li><li><a href="#special-operator-let">let, let*</a></li><li><a href="#special-operator-progv">progv</a></li><li><a href="#special-operator-setq">setq</a></li><li><a href="#macro-psetq">psetq</a></li><li><a href="#special-operator-block">block</a></li><li><a href="#special-operator-catch">catch</a></li><li><a href="#special-operator-go">go</a></li><li><a href="#special-operator-return-from">return-from</a></li><li><a href="#macro-return">return</a></li><li><a href="#special-operator-tagbody">tagbody</a></li><li><a href="#special-operator-throw">throw</a></li><li><a href="#special-operator-unwind-protect">unwind-protect</a></li><li><a href="#constant-nil">nil</a></li><li><a href="#function-not">not</a></li><li><a href="#constant-t">t</a></li><li><a href="#function-eq">eq</a></li><li><a href="#function-eql">eql</a></li><li><a href="#function-equal">equal</a></li><li><a href="#function-equalp">equalp</a></li><li><a href="#function-identity">identity</a></li><li><a href="#function-complement">complement</a></li><li><a href="#function-constantly">constantly</a></li><li><a href="#function-every">every, some, notevery, notany</a></li><li><a href="#macro-and">and</a></li><li><a href="#macro-cond">cond</a></li><li><a href="#special-operator-if">if</a></li><li><a href="#macro-or">or</a></li><li><a href="#macro-when">when, unless</a></li><li><a href="#macro-case">case, ccase, ecase</a></li><li><a href="#macro-typecase">typecase, ctypecase, etypecase</a></li><li><a href="#macro-multiple-value-bind">multiple-value-bind</a></li><li><a href="#special-operator-multiple-value-call">multiple-value-call</a></li><li><a href="#macro-multiple-value-list">multiple-value-list</a></li><li><a href="#special-operator-multiple-value-prog1">multiple-value-prog1</a></li><li><a href="#macro-multiple-value-setq">multiple-value-setq</a></li><li><a href="#function-values">values</a></li><li><a href="#function-values-list">values-list</a></li><li><a href="#constant-multiple-values-limit">multiple-values-limit</a></li><li><a href="#macro-nth-value">nth-value</a></li><li><a href="#macro-prog">prog, prog*</a></li><li><a href="#macro-prog1">prog1, prog2</a></li><li><a href="#special-operator-progn">progn</a></li><li><a href="#macro-define-modify-macro">define-modify-macro</a></li><li><a href="#macro-defsetf">defsetf</a></li><li><a href="#macro-define-setf-expander">define-setf-expander</a></li><li><a href="#function-get-setf-expansion">get-setf-expansion</a></li><li><a href="#macro-setf">setf, psetf</a></li><li><a href="#macro-shiftf">shiftf</a></li><li><a href="#macro-rotatef">rotatef</a></li><li><a href="#type-control-error">control-error</a></li><li><a href="#type-program-error">program-error</a></li><li><a href="#type-undefined-function">undefined-function</a></li></ol></li></ol></nav><div class="content"><section id="section-ChapFive"><h1 class="section-title">5. Data and Control Flow</h1><section id="section-GeneralizedReference"><h2 class="section-title">Generalized Reference</h2>


<section id="section-OverviewofPlacesandGeneralizedReference"><h3 class="section-title">Overview of Places and Generalized Reference</h3>A <span class="newterm">generalized reference</span> is the use of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>,
sometimes called a <span class="newterm">place</span>,
as if it were a <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variable</a> that could be read and written.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> is 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> to which the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> evaluates.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> can be changed by using <a class="macro-reference" href="#macro-setf">setf</a>.
The concept of binding a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> is not defined in <span class="explicit-roman">Common Lisp</span>,
but an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> is permitted to extend the language by defining this concept.<br/>Figure <span class="explicit-mono">()</span>&ndash; contains examples of the use of <a class="macro-reference" href="#macro-setf">setf</a>.
Note that the values returned by evaluating the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> in column two 
are not necessarily the same as those obtained by evaluating the 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> in column three.
In general, the exact <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro expansion">macro expansion</a> of a <a class="macro-reference" href="#macro-setf">setf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> is not guaranteed 
and can even be <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>;
all that is guaranteed is 
 that the expansion is an update form that works
   for that particular <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>,
 that the left-to-right evaluation of <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> is preserved, 
and
 that the ultimate result of evaluating <a class="macro-reference" href="#macro-setf">setf</a> is the value
  or values being stored.<br/><span class="float" id="figure-Examples of setf"><table><thead><th>Access function</th><th>Update Function</th><th>Update using <a class="macro-reference" href="#macro-setf">setf</a></th></thead><tbody><tr><td><code><span class="syntax-root"><span class="syntax-interned-symbol">x</span>
</span></code>                </td><td> <code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">datum</span>)</span>
</span></code>   </td><td> <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">datum</span>)</span>
</span></code>                </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span>
</span></code>          </td><td> <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">datum</span>)</span>
</span></code> </td><td> <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">datum</span>)</span>
</span></code>          </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">x</span>)</span>
</span></code> </td><td> <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-set">set</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">datum</span>)</span>
</span></code>    </td><td> <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">datum</span>)</span>
</span></code> </td></tr></tbody></table><div class="caption">Examples of setf</div></span><br/>Figure <span class="explicit-mono">()</span>&ndash; shows <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> relating to
<span class="glossary-reference error">glossary:places</span> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized reference">generalized reference</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span>
<span class="float" id="figure-Operators relating to places and generalized reference."><table><tbody><tr><td><a class="macro-reference" href="chapter-9.xhtml#macro-assert">assert</a></td><td><a class="macro-reference" href="#macro-defsetf">defsetf</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a></td></tr><tr><td><a class="macro-reference" href="#macro-ccase">ccase</a></td><td><a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-remf">remf</a></td></tr><tr><td><a class="macro-reference" href="#macro-ctypecase">ctypecase</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a></td><td><a class="macro-reference" href="#macro-rotatef">rotatef</a></td></tr><tr><td><a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a></td><td><a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a></td><td><a class="macro-reference" href="#macro-setf">setf</a></td></tr><tr><td><a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-pop">pop</a></td><td><a class="macro-reference" href="#macro-shiftf">shiftf</a></td></tr><tr><td><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a></td><td><a class="macro-reference" href="#macro-psetf">psetf</a></td><td/></tr></tbody></table><div class="caption">Operators relating to places and generalized reference.</div></span>
</div>
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span>Some of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> above manipulate <span class="glossary-reference error">glossary:places</span>
and some manipulate <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expanders</a>.
A <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a> can be derived from any <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.
</span>New <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expanders</a> can be defined by using <a class="macro-reference" href="#macro-defsetf">defsetf</a> 
and <a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>.<br/>


<div class="issue-annotation"><a class="issue-reference" href="issues/push-evaluation-order.xhtml#issue-push-evaluation-order:item-first">X3J13 Issue PUSH-EVALUATION-ORDER:ITEM-FIRST</a><section id="section-GenRefSubFormEval"><h4 class="section-title">Evaluation of Subforms to Places</h4><br/>The following rules apply to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> in a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>:<br/><ol><li>The evaluation ordering of <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> within a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
is determined by the order specified by the second value returned by
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a>. 
</span>For all <span class="glossary-reference error">glossary:places</span> defined by this specification
(<span class="explicit-italic"> e.g.</span>,  <a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a>, <a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a>, <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>…</mi></math>),
this order of evaluation is left-to-right.
<a id="index/text-order of evaluation"></a><a id="index/text-evaluation order"></a>When a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> is derived from a macro expansion,
this rule is applied after the macro is expanded to find the appropriate <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>. <br/><span class="glossary-reference error">glossary:Places</span> defined by using <a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> or
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a></span>use the evaluation order defined by those definitions.
For example, consider the following:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">wrong-order</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">y</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">x</span></span>)</span></span>)</span>
</span></code></pre><br/>This following <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> evaluates <code><span class="syntax-root"><span class="syntax-interned-symbol">place2</span>
</span></code> first and
then <code><span class="syntax-root"><span class="syntax-interned-symbol">place1</span>
</span></code> because that is the order they are evaluated in
the macro expansion:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a> <span class="syntax-interned-symbol">value</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">wrong-order</span> <span class="syntax-interned-symbol">place1</span> <span class="syntax-interned-symbol">place2</span>)</span>)</span>
</span></code></pre><br/></li><li><span class="issue-annotation"><span class="issue-reference error">issue:JUN90-TRIVIAL-ISSUES</span>For the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> that manipulate <span class="glossary-reference error">glossary:places</span> 
  (<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a>,
   <a class="macro-reference" href="chapter-14.xhtml#macro-pushnew">pushnew</a>,
   <a class="macro-reference" href="chapter-14.xhtml#macro-remf">remf</a>,
   <a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a>,
   <a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a>, 
   <a class="macro-reference" href="#macro-shiftf">shiftf</a>,
   <a class="macro-reference" href="#macro-rotatef">rotatef</a>,
   <a class="macro-reference" href="#macro-psetf">psetf</a>,
   <a class="macro-reference" href="#macro-setf">setf</a>,
   <a class="macro-reference" href="chapter-14.xhtml#macro-pop">pop</a>, and those defined by <a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a>)
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of the macro call are evaluated exactly once
in left-to-right order, with the <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of the <span class="glossary-reference error">glossary:places</span>
evaluated in the order specified in (1).
</span>
<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a>, <a class="macro-reference" href="chapter-14.xhtml#macro-pushnew">pushnew</a>, <a class="macro-reference" href="chapter-14.xhtml#macro-remf">remf</a>, 
<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a>, <a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a>, <a class="macro-reference" href="#macro-shiftf">shiftf</a>, <a class="macro-reference" href="#macro-rotatef">rotatef</a>, 
<a class="macro-reference" href="#macro-psetf">psetf</a>, <a class="macro-reference" href="chapter-14.xhtml#macro-pop">pop</a> evaluate all <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> before modifying
any of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> locations.
<a class="macro-reference" href="#macro-setf">setf</a> (in the case when <a class="macro-reference" href="#macro-setf">setf</a> has more than two arguments) 
performs its operation on each pair in sequence. For example, in <br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">place1</span> <span class="syntax-interned-symbol">value1</span> <span class="syntax-interned-symbol">place2</span> <span class="syntax-interned-symbol">value2</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code></pre>
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of <code><span class="syntax-root"><span class="syntax-interned-symbol">place1</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-interned-symbol">value1</span>
</span></code> are evaluated, the location
specified by 
<code><span class="syntax-root"><span class="syntax-interned-symbol">place1</span>
</span></code> is modified to contain the value returned by 
<code><span class="syntax-root"><span class="syntax-interned-symbol">value1</span>
</span></code>, and
then the rest of the <a class="macro-reference" href="#macro-setf">setf</a> form is processed in a like manner.<br/></li><li>For <a class="macro-reference" href="chapter-9.xhtml#macro-check-type">check-type</a>, <a class="macro-reference" href="#macro-ctypecase">ctypecase</a>, and <a class="macro-reference" href="#macro-ccase">ccase</a>,
<a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> are evaluated once as in (1),
but might be evaluated again if the
type check fails in the case of <a class="macro-reference" href="chapter-9.xhtml#macro-check-type">check-type</a> 
or none of the cases hold in
<a class="macro-reference" href="#macro-ctypecase">ctypecase</a> and <a class="macro-reference" href="#macro-ccase">ccase</a>.<br/></li><li>For <a class="macro-reference" href="chapter-9.xhtml#macro-assert">assert</a>, the order of evaluation of the generalized 
references is not specified.<a id="index/text-order of evaluation"></a><a id="index/text-evaluation order"></a>

</li></ol>
Rules 2, 3 and 4 cover all <a class="glossary-reference" href="chapter-26.xhtml#glossary-standardized">standardized</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> that manipulate <span class="glossary-reference error">glossary:places</span>.<br/><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><section id="section-ExamplesofEvaluationofSubformstoPlaces"><h5 class="section-title">Examples of Evaluation of Subforms to Places</h5><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">ref2</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-symbol">()</span></span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-princ">princ</a> <span class="syntax-string">"1"</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">ref-1</span></span>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-princ">princ</a> <span class="syntax-string">"2"</span>)</span> <span class="syntax-interned-symbol">ref2</span>)</span>)</span>)</span>)</span> 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 12
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">REF1</span>)</span>

 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>)</span>)</span>
          <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span>)</span>)</span>
     <span class="syntax-interned-symbol">x</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">A</span>)</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">B</span>)</span>)</span>
</span></code></pre><br/><a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a> first evaluates <span class="explicit-mono">(setq x (list 'a)) <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> (a)</span>,
 then evaluates <span class="explicit-mono">(setq x (list 'b)) <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> (b)</span>,
 then modifies the <a class="glossary-reference" href="chapter-26.xhtml#glossary-car">car</a> of this latest value to be <span class="explicit-mono">((a) . b)</span>.<br/></section></div></section></div>

<section id="section-SetfExpansions"><h4 class="section-title">Setf Expansions</h4><br/>Sometimes it is possible to avoid evaluating <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> multiple times or in the wrong order.  A
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a></span>for a given access form can be expressed as an ordered collection of five <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>:<br/>
<dl><dt><span class="explicit-bold"> List of temporary variables</span></dt><dd>a list of symbols naming temporary variables to be bound
sequentially, as if by <a class="special-operator-reference" href="#special-operator-let*">let*</a>, to <span class="glossary-reference error">glossary:values</span> 
resulting from value forms.<br/></dd><dt><span class="explicit-bold"> List of value forms</span></dt><dd>a list of forms (typically, <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>) which when evaluated 
yield the values to which the corresponding temporary 
variables should be bound.<br/></dd><dt><span class="explicit-bold"> List of store variables</span></dt><dd>a list of symbols naming temporary store variables which are
to hold the new values that will be assigned to the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/></dd><dt><span class="explicit-bold"> Storing form</span></dt><dd>a form which can reference both the temporary and the store variables,
and which changes the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
and guarantees to return as its values the values of the store variables,
which are the correct values for <a class="macro-reference" href="#macro-setf">setf</a> to return.<br/></dd><dt><span class="explicit-bold"> Accessing form</span></dt><dd>a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> which can reference the temporary variables,
and which returns the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.
</dd></dl><br/>The value returned by the accessing form is
affected by execution of the storing form, but either of these
forms might be evaluated any number of times.<br/>

It is possible
to do more than one <a class="macro-reference" href="#macro-setf">setf</a> in parallel via
<a class="macro-reference" href="#macro-psetf">psetf</a>, <a class="macro-reference" href="#macro-shiftf">shiftf</a>, and <a class="macro-reference" href="#macro-rotatef">rotatef</a>.  
Because of this, the 
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a></span>must produce new temporary 
and store variable names every time.  For examples of how to do this,
see <a class="function-reference" href="chapter-10.xhtml#function-gensym">gensym</a>.

<div class="issue-annotation"><a class="issue-reference" href="issues/setf-functions-again.xhtml#issue-setf-functions-again:minimal-changes">X3J13 Issue SETF-FUNCTIONS-AGAIN:MINIMAL-CHANGES</a>For each <a class="glossary-reference" href="chapter-26.xhtml#glossary-standardized">standardized</a> accessor function <span class="parameter">F</span>,
unless it is explicitly documented otherwise,
it is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a> whether the ability to 
use an <span class="parameter">F</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> as a <a class="macro-reference" href="#macro-setf">setf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
is implemented by a <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> or a <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf function">setf function</a>.
Also, it follows from this that it is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a> 
whether the name <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">F</span>)</span>
</span></code> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-fbound">fbound</a>.
</div>
<div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><section id="section-ExamplesofSetfExpansions"><h5 class="section-title">Examples of Setf Expansions</h5><div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span>Examples of the contents of the constituents of <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansions</a>
follow.<br/>For a variable <span class="parameter">x</span>:<br/><span class="float" id="figure-Sample Setf Expansion of a Variable"><table><tbody><tr><td><code><span class="syntax-root"><span class="syntax-symbol">()</span>
</span></code>                     </td><td> ;list of temporary variables </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-symbol">()</span>
</span></code>                     </td><td> ;list of value forms         </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0001</span>)</span>
</span></code>                </td><td> ;list of store variables     </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="parameter">x</span> <span class="syntax-interned-symbol">g0001</span>)</span>
</span></code> </td><td> ;storing form                </td></tr><tr><td><span class="parameter">x</span>                  </td><td> ;accessing form              </td></tr></tbody></table><div class="caption">Sample Setf Expansion of a Variable</div></span><br/>For <span class="explicit-mono">(car <span class="parameter">exp</span>)</span>:<br/><span class="float" id="figure-Sample Setf Expansion of a CAR Form"><table><tbody><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0002</span>)</span>
</span></code>                            </td><td> ;list of temporary variables </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="parameter">exp</span>)</span>
</span></code>                      </td><td> ;list of value forms         </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0003</span>)</span>
</span></code>                            </td><td> ;list of store variables     </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a> <span class="syntax-interned-symbol">g0002</span> <span class="syntax-interned-symbol">g0003</span>)</span> <span class="syntax-interned-symbol">g0003</span>)</span>
</span></code> </td><td> ;storing form                </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">g0002</span>)</span>
</span></code>                        </td><td> ;accessing form              </td></tr></tbody></table><div class="caption">Sample Setf Expansion of a CAR Form</div></span><br/>For <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-subseq">subseq</a> <span class="parameter">seq</span> <span class="parameter">s</span> <span class="parameter">e</span>)</span>
</span></code>:<br/><span class="float" id="figure-Sample Setf Expansion of a SUBSEQ Form"><table><tbody><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0004</span> <span class="syntax-interned-symbol">g0005</span> <span class="syntax-interned-symbol">g0006</span>)</span>
</span></code>               </td><td> ;list of temporary variables    </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="parameter">seq</span> <span class="parameter">s</span> <span class="parameter">e</span>)</span>
</span></code> </td><td> ;list of value forms            </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0007</span>)</span>
</span></code>                           </td><td> ;list of store variables        </td></tr><tr><td colspan="2"><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-replace">replace</a> <span class="syntax-interned-symbol">g0004</span> <span class="syntax-interned-symbol">g0007</span> <span class="syntax-keyword-symbol">:start1</span> <span class="syntax-interned-symbol">g0005</span> <span class="syntax-keyword-symbol">:end1</span> <span class="syntax-interned-symbol">g0006</span>)</span> <span class="syntax-interned-symbol">g0007</span>)</span>
</span></code> </td><td> </td></tr><tr><td/><td> ;storing form                   </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-subseq">subseq</a> <span class="syntax-interned-symbol">g0004</span> <span class="syntax-interned-symbol">g0005</span> <span class="syntax-interned-symbol">g0006</span>)</span>
</span></code>        </td><td> ; accessing form                </td></tr></tbody></table><div class="caption">Sample Setf Expansion of a SUBSEQ Form</div></span><br/>In some cases, if a <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subform</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> is itself
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>, it is necessary to expand the <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subform</a>
in order to compute some of the values in the expansion of the outer
<a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.  For <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="parameter">bs</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="parameter">exp</span>)</span>)</span>
</span></code>:<br/><span class="float" id="figure-Sample Setf Expansion of a LDB Form"><table><tbody><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0001</span> <span class="syntax-interned-symbol">g0002</span>)</span>
</span></code>	              </td><td> ;list of temporary variables    </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="parameter">bs</span> <span class="parameter">exp</span>)</span>
</span></code>	      </td><td> ;list of value forms            </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">g0003</span>)</span>
</span></code>                           </td><td> ;list of store variables        </td></tr><tr><td colspan="2"><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a> <span class="syntax-interned-symbol">g0002</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-dpb">dpb</a> <span class="syntax-interned-symbol">g0003</span> <span class="syntax-interned-symbol">g0001</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">g0002</span>)</span>)</span>)</span> <span class="syntax-interned-symbol">g0003</span>)</span>
</span></code> </td><td>    </td></tr><tr><td/><td> ;storing form                   </td></tr><tr><td><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="syntax-interned-symbol">g0001</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">g0002</span>)</span>)</span>
</span></code>           </td><td> ; accessing form                </td></tr></tbody></table><div class="caption">Sample Setf Expansion of a LDB Form</div></span><br/></div>
</section></div></section></section><section id="section-KindsOfPlaces"><h3 class="section-title">Kinds of Places</h3><br/>Several kinds of <span class="glossary-reference error">glossary:places</span> are defined by <span class="explicit-roman">Common Lisp</span>; 
this section enumerates them.
This set can be extended by <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementations</a> and by <a class="glossary-reference" href="chapter-26.xhtml#glossary-programmer code">programmer code</a>.<br/>
<section id="section-VariableNamesasPlaces"><h4 class="section-title">Variable Names as Places</h4>The name of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical variable">lexical variable</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a> 
can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/></section><section id="section-FnFormsAsGenRefs"><h4 class="section-title">Function Call Forms as Places</h4><br/>A <a class="glossary-reference" href="chapter-26.xhtml#glossary-function form">function form</a> can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> if it falls
into one of the following categories:<br/><dl><dt>cons</dt><dd>A function call form whose first element is the name of
any one of the functions in Figure <span class="explicit-mono">()</span>&ndash;.

<div class="issue-annotation"><a class="issue-reference" href="issues/condition-accessors-setfable.xhtml#issue-condition-accessors-setfable:no">X3J13 Issue CONDITION-ACCESSORS-SETFABLE:NO</a>
<span class="editor-note" id="editor-note-note-that-what-are-i"><span class="editor-note-tooltip"><span class="editor">KMP</span>: Note that what are in some places still called `condition accessors'
		 are deliberately omitted from this table, and are not labeled as
		 accessors in their entries.  I have not yet had time to do a full
	         search for these items and eliminate stray references to them as `accessors',
		 which they are not, but I will do that at some point.</span>‣</span>
<div class="issue-annotation"><a class="issue-reference" href="issues/pathname-logical.xhtml#issue-pathname-logical:add">X3J13 Issue PATHNAME-LOGICAL:ADD</a><div class="issue-annotation"><a class="issue-reference" href="issues/aref-1d.xhtml#issue-aref-1d">X3J13 Issue AREF-1D</a><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a><span class="float" id="figure-Functions that setf can be used with---1"><table><tbody><tr><td><a class="function-reference" href="chapter-15.xhtml#function-aref">aref</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cdadr">cdadr</a></td><td><a class="function-reference" href="chapter-10.xhtml#function-get">get</a></td></tr><tr><td><a class="function-reference" href="chapter-15.xhtml#function-bit">bit</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cdar">cdar</a></td><td><a class="function-reference" href="chapter-18.xhtml#function-gethash">gethash</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caaaar">caaaar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cddaar">cddaar</a></td><td><a class="function-reference" href="chapter-19.xhtml#function-logical-pathname-translations">logical-pathname-translations</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caaadr">caaadr</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cddadr">cddadr</a></td><td><a class="function-reference" href="chapter-3.xhtml#function-macro-function">macro-function</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caaar">caaar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cddar">cddar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-ninth">ninth</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caadar">caadar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cdddar">cdddar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caaddr">caaddr</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cddddr">cddddr</a></td><td><a class="function-reference" href="chapter-23.xhtml#function-readtable-case">readtable-case</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caadr">caadr</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cdddr">cdddr</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-rest">rest</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caar">caar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cddr">cddr</a></td><td><a class="function-reference" href="chapter-15.xhtml#function-row-major-aref">row-major-aref</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cadaar">cadaar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a></td><td><a class="function-reference" href="chapter-15.xhtml#function-sbit">sbit</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cadadr">cadadr</a></td><td><a class="function-reference" href="chapter-16.xhtml#function-char">char</a></td><td><a class="function-reference" href="chapter-16.xhtml#function-schar">schar</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cadar">cadar</a></td><td><a class="function-reference" href="chapter-7.xhtml#function-class-name">class-name</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-second">second</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caddar">caddar</a></td><td><a class="function-reference" href="chapter-3.xhtml#function-compiler-macro-function">compiler-macro-function</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-seventh">seventh</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cadddr">cadddr</a></td><td><a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-sixth">sixth</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-caddr">caddr</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-eighth">eighth</a></td><td><a class="function-reference" href="chapter-7.xhtml#function-slot-value">slot-value</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a></td><td><a class="function-reference" href="chapter-17.xhtml#function-elt">elt</a></td><td><a class="function-reference" href="chapter-17.xhtml#function-subseq">subseq</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-car">car</a></td><td><a class="function-reference" href="#function-fdefinition">fdefinition</a></td><td><a class="function-reference" href="chapter-15.xhtml#function-svref">svref</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cdaaar">cdaaar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-fifth">fifth</a></td><td><a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cdaadr">cdaadr</a></td><td><a class="function-reference" href="chapter-15.xhtml#function-fill-pointer">fill-pointer</a></td><td><a class="function-reference" href="chapter-10.xhtml#function-symbol-plist">symbol-plist</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cdaar">cdaar</a></td><td><a class="function-reference" href="chapter-7.xhtml#function-find-class">find-class</a></td><td><a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cdadar">cdadar</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-first">first</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-tenth">tenth</a></td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-cdaddr">cdaddr</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-fourth">fourth</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-third">third</a></td></tr></tbody></table><div class="caption">Functions that setf can be used with&mdash;1</div></span></div></div></div></div>
In the case of <a class="function-reference" href="chapter-17.xhtml#function-subseq">subseq</a>, the replacement value must be a <a class="glossary-reference" href="chapter-26.xhtml#glossary-sequence">sequence</a>
whose elements might be contained by the sequence argument to <a class="function-reference" href="chapter-17.xhtml#function-subseq">subseq</a>,
but does not have to be a <a class="glossary-reference" href="chapter-26.xhtml#glossary-sequence">sequence</a> of the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> 
as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-sequence">sequence</a> of which the subsequence is specified.
If the length of the replacement value does not equal the length of
the subsequence to be replaced, then the shorter length determines
the number of elements to be stored, as for <a class="function-reference" href="chapter-17.xhtml#function-replace">replace</a>.<br/>  
</dd><dt>selector</dt><dd>A function call form whose first element is the name of
a selector function constructed by <a class="macro-reference" href="chapter-8.xhtml#macro-defstruct">defstruct</a>.
<span class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>The function name must refer to the global function definition,
rather than a locally defined <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.
</span>

</dd><dt><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>∙</mi></math></dt><dd>A function call form whose first element is the name of
any one of the functions in Figure <span class="explicit-mono">()</span>&ndash;, 
provided that the supplied argument
to that function is in turn a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> form;
in this case the new <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> has stored back into it the
result of applying the supplied ``update'' function.

</dd><div class="issue-annotation"><a class="issue-reference" href="issues/setf-sub-methods.xhtml#issue-setf-sub-methods:delayed-access-stores">X3J13 Issue SETF-SUB-METHODS:DELAYED-ACCESS-STORES</a>                        
<span class="float" id="figure-Functions that setf can be used with---2"><table><thead><th>Function name</th><th>Argument that is a <span class="parameter">place</span></th><th>Update function used</th></thead><tbody><tr><td><a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a>        </td><td> second </td><td> <a class="function-reference" href="chapter-12.xhtml#function-dpb">dpb</a>                     </td></tr><tr><td><a class="function-reference" href="chapter-12.xhtml#function-mask-field">mask-field</a> </td><td> second </td><td> <a class="function-reference" href="chapter-12.xhtml#function-deposit-field">deposit-field</a>           </td></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a>       </td><td> first  </td><td>  <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a> </td></tr></tbody></table><div class="caption">Functions that setf can be used with&mdash;2</div></span>
During the <a class="macro-reference" href="#macro-setf">setf</a> expansion of these <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>, it is necessary to call 
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> 
</span>in order to figure out how the inner, nested generalized variable must be treated.  <br/>The information from
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a></span>is used as follows.
<span class="error">unexpanded macro: (:OTHER-COMMAND-APPLICATION NIL :OUTPUT-FILE "chapter-5"
                   :NAME "begingroup" :BOUNDS (18599 . 18610))</span>	
		<br/>


<span class="issue-annotation"><span class="issue-reference error">issue:CHARACTER-PROPOSAL</span> 
</span> 
<dt><a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a></dt><dd>In a form such as:<br/><span class="explicit-mono">(setf (ldb <span class="parameter">byte-spec</span> <span class="parameter">place-form</span>) <span class="parameter">value-form</span>)</span><br/>the place referred to by the <span class="parameter">place-form</span> must always be both <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> 
and <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">written</a>;  note that the update is to the generalized variable 
specified by <span class="parameter">place-form</span>, not to any object of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a>.<br/>Thus this <a class="macro-reference" href="#macro-setf">setf</a> should generate code to do the following:<br/><ol><li>Evaluate <span class="parameter">byte-spec</span> (and bind it into a temporary variable).
</li><li>Bind the temporary variables for <span class="parameter">place-form</span>.
</li><li>Evaluate <span class="parameter">value-form</span>  (and bind 
<span class="issue-annotation"><a class="issue-reference" href="issues/setf-multiple-store-variables.xhtml#issue-setf-multiple-store-variables:allow">X3J13 Issue SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a>its value or values into the store variable).
</span></li><li>Do the <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> from <span class="parameter">place-form</span>.
</li><li>Do the <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">write</a> into <span class="parameter">place-form</span> with 
the given bits of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>
       fetched in step 4 replaced with the value from step 3.
</li></ol> 
    If the evaluation of <span class="parameter">value-form</span> 
in step 3 alters what is found in <span class="parameter">place-form</span>,
such as setting different bits of <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>,
    then the change of the bits denoted by 
<span class="parameter">byte-spec</span> is to that 
    altered <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>, 
because step 4 is done after the <span class="parameter">value-form</span>
    evaluation.  Nevertheless, the 
    evaluations required for <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> 
the temporary variables are done in steps 1 and 
    2, and thus the expected left-to-right evaluation order is seen.
For example:<br/><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-number">#x69</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">#x69</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-rotatef">rotatef</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-byte">byte</a> <span class="syntax-number">4</span> <span class="syntax-number">4</span>)</span> <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a>)</span> 
          <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-byte">byte</a> <span class="syntax-number">4</span> <span class="syntax-number">0</span>)</span> <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a>)</span>)</span>
 <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">#x96</span>
;;; This example is trying to swap two independent bit fields 
;;; in an integer.  Note that the generalized variable of 
;;; interest here is just the (possibly local) program variable
;;; integer.
</span></code></pre><br/></dd><dt><a class="function-reference" href="chapter-12.xhtml#function-mask-field">mask-field</a></dt><dd>This case is the same as <a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> in all essential aspects.<br/></dd><dt><a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a></dt><dd>In a form such as:<br/><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a> <span class="parameter">place-form</span> <span class="parameter">ind-form</span>)</span> <span class="parameter">value-form</span>)</span>
</span></code><br/>    the place referred to by <span class="parameter">place-form</span> must always be both <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a>
    and <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">written</a>;  note that the update is to the generalized variable 
    specified by <span class="parameter">place-form</span>, not necessarily to the particular 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a>
that is the property list in question.<br/>    Thus this <a class="macro-reference" href="#macro-setf">setf</a> should generate code to do the following:
<ol><li>Bind the temporary variables for <span class="parameter">place-form</span>.
</li><li>Evaluate <span class="parameter">ind-form</span> (and bind it into a temporary variable).
</li><li>Evaluate <span class="parameter">value-form</span> (and bind 
<span class="issue-annotation"><a class="issue-reference" href="issues/setf-multiple-store-variables.xhtml#issue-setf-multiple-store-variables:allow">X3J13 Issue SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a>its value or values into the store variable).
</span></li><li>Do the <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> from <span class="parameter">place-form</span>.
</li><li>Do the <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">write</a> into <span class="parameter">place-form</span> with a possibly-new property list
       obtained by combining the values from steps 2, 3, and 4.  
(Note that the phrase ``possibly-new property list'' can mean that 
    the former property list is somehow destructively re-used, or it can 
    mean partial or full copying of it.  
Since either copying or destructive re-use can occur, 
the treatment of the resultant value for the 
    possibly-new property list must proceed as if it were a different copy
    needing to be stored back into the generalized variable.)
</li></ol> 
    If the evaluation of <span class="parameter">value-form</span> 
in step 3 alters what is found in
<span class="parameter">place-form</span>, such as setting a different named property in the list,
    then the change of the property denoted by <span class="parameter">ind-form</span> 
is to that 
    altered list, because step 4 is done after the 
<span class="parameter">value-form</span>
    evaluation.  Nevertheless, the 
    evaluations required for <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> 
the temporary variables  are done in steps 1 and 
    2,  and thus the expected left-to-right evaluation order is seen.<br/>For example:<br/><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">s</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">r</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-number">1</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-number">2</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-number">3</span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-number">3</span>)</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">r</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> 
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">r</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <span class="syntax-number">6</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">6</span>
 <span class="syntax-interned-symbol">r</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-interned-symbol">s</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-number">6</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-number">3</span>)</span>)</span>
;;; Note that the (setq r nil) does not affect the actions of 
;;; the SETF because the value of R had already been saved in 
;;; a temporary variable as part of the step 1. Only the CAR
;;; of this value will be retrieved, and subsequently modified 
;;; after the value computation.
</span></code></pre><br/></dd></div></dl><br/></section><div class="issue-annotation"><span class="issue-reference error">issue:SETF-OF-VALUES</span><section id="section-SETFofVALUES"><h4 class="section-title">VALUES Forms as Places</h4><br/>A <a class="function-reference" href="#function-values">values</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>,
provided that each of its <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> is also a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> form.<br/>A form such as<br/><span class="explicit-mono">(setf (values <span class="parameter">place-1</span> … <span class="parameter">place-n</span>) <span class="parameter">values-form</span>)</span><br/>does the following:<br/><ol><li>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of each nested <span class="parameter">place</span> are evaluated
in left-to-right order.
</li><li>The <span class="parameter">values-form</span> is evaluated, and the first store
variable from each <span class="parameter">place</span> is bound to its return values as if by 
<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a>.  
</li><li>If the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a> for any <span class="parameter">place</span> 
involves more than one store variable, then the additional
store variables are bound to <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.
</li><li>The storing forms for each <span class="parameter">place</span> are evaluated in
left-to-right order.
</li></ol><br/>The storing form in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a> of <a class="function-reference" href="#function-values">values</a>
returns as <a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub> the values of the store
variables in step 2.  That is, the number of values returned is the
same as the number of <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> forms.  This may be more or fewer
values than are produced by the <span class="parameter">values-form</span>.<br/>
</section></div><br/><section id="section-THEFormsasPlaces"><h4 class="section-title">THE Forms as Places</h4>A <a class="special-operator-reference" href="chapter-3.xhtml#special-operator-the">the</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>,
in which case the declaration is transferred to the <span class="parameter">newvalue</span> form,
and the resulting <a class="macro-reference" href="#macro-setf">setf</a> is analyzed.  For example,<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-the">the</a> <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-number">3</span>)</span>)</span>
</span></code></pre>
is processed as if it were<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-the">the</a> <a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-number">3</span>)</span>)</span>)</span>
</span></code></pre><br/></section><div class="issue-annotation"><span class="issue-reference error">issue:SETF-APPLY-EXPANSION</span><div class="issue-annotation"><a class="issue-reference" href="issues/setf-of-apply.xhtml#issue-setf-of-apply:only-aref-and-friends">X3J13 Issue SETF-OF-APPLY:ONLY-AREF-AND-FRIENDS</a><div class="issue-annotation"><span class="issue-reference error">issue:JUN90-TRIVIAL-ISSUES</span><section id="section-SETFofAPPLY"><h4 class="section-title">APPLY Forms as Places</h4><br/>The following situations involving <a class="macro-reference" href="#macro-setf">setf</a> of <a class="function-reference" href="#function-apply">apply</a> must be supported:<br/><ul><li><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> #<span class="syntax-quote">'<a class="function-reference" href="chapter-15.xhtml#function-aref">aref</a></span> <span class="parameter">array</span>
				        <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">subscript</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>
					<span class="parameter">more-subscripts</span>)</span>
			  <span class="parameter">new-element</span>)</span>
</span></code>
</li><li><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> #<span class="syntax-quote">'<a class="function-reference" href="chapter-15.xhtml#function-bit">bit</a></span> <span class="parameter">array</span> 
				       <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">subscript</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>
				       <span class="parameter">more-subscripts</span>)</span>
			  <span class="parameter">new-element</span>)</span>
</span></code>
</li><li><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> #<span class="syntax-quote">'<a class="function-reference" href="chapter-15.xhtml#function-sbit">sbit</a></span> <span class="parameter">array</span> 
					<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">subscript</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>
					<span class="parameter">more-subscripts</span>)</span> 
			  <span class="parameter">new-element</span>)</span>
</span></code>
</li></ul><br/>In all three cases, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a> of <span class="parameter">array</span> designated
by the concatenation of <span class="parameter">subscripts</span> and <span class="parameter">more-subscripts</span>
(<span class="explicit-italic"> i.e.</span>,  the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a> which would be <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> by the call to
     <a class="glossary-reference" href="chapter-26.xhtml#glossary-apply">apply</a> if it were not part of a <a class="macro-reference" href="#macro-setf">setf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>)
is changed to have the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> given by <span class="parameter">new-element</span>.
<span class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>For these usages, the function name (<a class="function-reference" href="chapter-15.xhtml#function-aref">aref</a>, <a class="function-reference" href="chapter-15.xhtml#function-bit">bit</a>, or <a class="function-reference" href="chapter-15.xhtml#function-sbit">sbit</a>)
must refer to the global function definition, rather than a locally defined
<a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.
</span>
No other <a class="glossary-reference" href="chapter-26.xhtml#glossary-standardized">standardized</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> is required to be supported,
but an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may define such support.
An <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may also define support 
for <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-defined">implementation-defined</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a>.<br/>If a user-defined <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> is used in this context,
the following equivalence is true, except that care is taken
to preserve proper left-to-right evaluation of argument <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a>:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> #<span class="syntax-quote">'<span class="parameter">name</span></span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">arg</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span> <span class="parameter">val</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> #<span class="syntax-quote">'<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">name</span>)</span></span> <span class="parameter">val</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">arg</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>
</span></code></pre><br/>
</section></div></div></div>
<section id="section-SetfExpansionsandPlaces"><h4 class="section-title">Setf Expansions and Places</h4>Any <a class="glossary-reference" href="chapter-26.xhtml#glossary-compound form">compound form</a> for which the <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operator</a> has a
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a></span>defined can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.
<span class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>The 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operator</a>
must refer to the global function definition,
rather than a locally defined <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.
</span>
</section><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>
<section id="section-MacroFormsasPlaces"><h4 class="section-title">Macro Forms as Places</h4>A <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro form">macro form</a> can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>, 
in which case <span class="explicit-roman">Common Lisp</span> expands the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro form">macro form</a>
<span class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>as if by <a class="function-reference" href="chapter-3.xhtml#function-macroexpand-1">macroexpand-1</a></span>and then uses the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro expansion">macro expansion</a> in place of the original <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.
<div class="issue-annotation"><a class="issue-reference" href="issues/setf-macro-expansion.xhtml#issue-setf-macro-expansion:last">X3J13 Issue SETF-MACRO-EXPANSION:LAST</a>Such <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro expansion">macro expansion</a> is attempted only after exhausting all other possibilities
other than expanding into a call to a function named <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">reader</span>)</span>
</span></code>.
</div>
</section><section id="section-SymbolMacrosasPlaces"><h4 class="section-title">Symbol Macros as Places</h4><span class="issue-annotation"><a class="issue-reference" href="issues/symbol-macrolet-semantics.xhtml#issue-symbol-macrolet-semantics:special-form">X3J13 Issue SYMBOL-MACROLET-SEMANTICS:SPECIAL-FORM</a>
A reference to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> that has been <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">established</a> as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol macro">symbol macro</a> 
can be used as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.  In this case,
<a class="macro-reference" href="#macro-setf">setf</a> expands the reference and then analyzes the resulting <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.
</span>
</section><section id="section-OtherCompoundFormsasPlaces"><h4 class="section-title">Other Compound Forms as Places</h4>For any other <a class="glossary-reference" href="chapter-26.xhtml#glossary-compound form">compound form</a> for which the <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operator</a> is a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> <span class="parameter">f</span>,
the <a class="macro-reference" href="#macro-setf">setf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> expands into a call 
to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> named <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">f</span>)</span>
</span></code>.
The first <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> in the newly constructed <a class="glossary-reference" href="chapter-26.xhtml#glossary-function form">function form</a>
is <span class="parameter">newvalue</span> and the
     remaining <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> are the remaining <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">elements</a> of
     <span class="parameter">place</span>.
This expansion occurs regardless of whether <span class="parameter">f</span> or <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">f</span>)</span>
</span></code>
is defined as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> locally, globally, or not at all.
For example,<br/><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="parameter">f</span> <span class="parameter">arg1</span> <span class="parameter">arg2</span> <span class="syntax-interned-symbol">...</span>)</span> <span class="parameter">new-value</span>)</span>
</span></code><br/>expands into a form with the same effect and value as<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-uninterned-symbol">#:temp-1</span> <span class="syntax-interned-symbol">arg1</span>)</span>          <span class="syntax-line-comment syntax-comment">;force correct order of evaluation
</span>      <span class="syntax-cons">(<span class="syntax-uninterned-symbol">#:temp-2</span> <span class="syntax-interned-symbol">arg2</span>)</span>
      <span class="syntax-interned-symbol">...</span>
      <span class="syntax-cons">(<span class="syntax-uninterned-symbol">#:temp-0</span> <span class="parameter">new-value</span>)</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-function">function</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">f</span>)</span>)</span> <span class="syntax-uninterned-symbol">#:temp-0</span> <span class="syntax-uninterned-symbol">#:temp-1</span> <span class="syntax-uninterned-symbol">#:temp-2...</span>)</span>)</span>
</span></code></pre><br/>A <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> named <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">f</span>)</span>
</span></code> must return its first argument
as its only value in order to preserve the semantics of <a class="macro-reference" href="#macro-setf">setf</a>.<br/></section></div>

</section><section id="section-TreatmentofOtherMacrosBasedonSETF"><h3 class="section-title">Treatment of Other Macros Based on SETF</h3><div class="issue-annotation"><span class="issue-reference error">issue:READ-MODIFY-WRITE-EVALUATION-ORDER</span>
For each of the ``read-modify-write'' <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> in Figure <span class="explicit-mono">()</span>&ndash;, 
and for any additional <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> 
defined by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-programmer">programmer</a> using <a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a>,
an exception is made to the normal rule of left-to-right evaluation of arguments.
Evaluation of <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> occurs in left-to-right order,
with the exception that for the <span class="parameter">place</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a>, the actual
<a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> of the ``old value'' from that <span class="parameter">place</span> happens 
after all of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluations</a>, 
and just before a ``new value'' is computed and <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">written</a> back into the <span class="parameter">place</span>.<br/>Specifically, each of these <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> can be viewed as involving a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> with the following general syntax:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operator</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">preceding-form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <span class="parameter">place</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">following-form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>
</span></code></pre><br/>The evaluation of each such <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> proceeds like this:<br/><ol><li><a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">Evaluate</a> each of the <span class="parameter">preceding-forms</span>, in left-to-right order.
</li><li><a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">Evaluate</a> the <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of the <span class="parameter">place</span>,
 in the order specified by the second value of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a>
 for that <span class="parameter">place</span>.
</li><li><a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">Evaluate</a> each of the <span class="parameter">following-forms</span>, in left-to-right order.
</li><li><a class="glossary-reference" href="chapter-26.xhtml#glossary-read">Read</a> the old value from <span class="parameter">place</span>.
</li><li>Compute the new value.
</li><li>Store the new value into <span class="parameter">place</span>.
</li></ol><br/><span class="float" id="figure-Read-Modify-Write Macros"><table><tbody><tr><td><a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-pop">pop</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-pushnew">pushnew</a></td></tr><tr><td><a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-push">push</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-remf">remf</a></td></tr></tbody></table><div class="caption">Read-Modify-Write Macros</div></span><br/></div>
</section>
</section><section id="section-TransferOfControl"><h2 class="section-title">Transfer of Control to an Exit Point</h2>

<br/><div class="issue-annotation"><a class="issue-reference" href="issues/exit-extent.xhtml#issue-exit-extent:minimal">X3J13 Issue EXIT-EXTENT:MINIMAL</a>When a transfer of control is initiated by <a class="special-operator-reference" href="#special-operator-go">go</a>, 
<a class="special-operator-reference" href="#special-operator-return-from">return-from</a>, or <a class="special-operator-reference" href="#special-operator-throw">throw</a>
the following events occur in order to accomplish the transfer of control.
Note that for <a class="special-operator-reference" href="#special-operator-go">go</a>, 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit point</a> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> within the <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a>
that is being executed at the time the <a class="special-operator-reference" href="#special-operator-go">go</a> is performed;
for <a class="special-operator-reference" href="#special-operator-return-from">return-from</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit point</a> is the corresponding 
<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>;
and for <a class="special-operator-reference" href="#special-operator-throw">throw</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit point</a> is the corresponding 
<a class="special-operator-reference" href="#special-operator-catch">catch</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>. <br/><ol><li>Intervening <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit points</a> are ``abandoned''
 (<span class="explicit-italic"> i.e.</span>,  their <a class="glossary-reference" href="chapter-26.xhtml#glossary-extent">extent</a> ends 
      and it is no longer valid to attempt to transfer control through them).<br/></li><li>The cleanup clauses of any intervening <a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> clauses
 are evaluated.<br/></li><li>Intervening dynamic <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> of <a class="declaration-reference" href="chapter-3.xhtml#declaration-special">special</a> variables,
 <a class="glossary-reference" href="chapter-26.xhtml#glossary-catch tag">catch tags</a>, <a class="glossary-reference" href="chapter-26.xhtml#glossary-condition handler">condition handlers</a>, and <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restarts</a>
 are undone.<br/></li><li>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-extent">extent</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit point</a> being invoked ends,
 and control is passed to the target.
</li></ol> <br/>The extent of an exit being ``abandoned'' because it is being passed over
ends as soon as the transfer of control is initiated. That is,
event 1 occurs at the beginning of the initiation of the transfer of
control. 
The consequences are undefined if an attempt is made to transfer control 
to an <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit point</a> whose <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic extent">dynamic extent</a> has ended.<br/>Events 2 and 3 are actually performed interleaved, in the order
corresponding to the reverse order in which they were established.
The effect of this is that the cleanup clauses of an <a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>
see the same dynamic <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> 
of variables and <a class="glossary-reference" href="chapter-26.xhtml#glossary-catch tag">catch tags</a> as were
visible when the <a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> was entered.<br/>Event 4 occurs at the end of the transfer of control.<br/></div>
</section><br/><section id="section-Dictionary"><h2 class="section-title">Dictionary</h2>


<br/><div class="component" id="function-apply"><div class="header"><span class="left"><span class="name" id="function-apply">apply</span></span><span class="right"><span class="ftype">Function</span></span></div><br/>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">apply</span>&nbsp;<span class="lambda-list">function <span class="lambda-list-keyword">&amp;rest</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hboxargs<msup><mrow/><mo>+</mo></msup></math></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function designator">function designator</a>.
</div>
<span class="parameter">args</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-spreadable argument list designator">spreadable argument list designator</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by <span class="parameter">function</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="glossary-reference" href="chapter-26.xhtml#glossary-apply">Applies</a> the <span class="parameter">function</span> to the <span class="parameter">args</span>.<br/>
<div class="issue-annotation"><a class="issue-reference" href="issues/rest-list-allocation.xhtml#issue-rest-list-allocation:may-share">X3J13 Issue REST-LIST-ALLOCATION:MAY-SHARE</a>When the <span class="parameter">function</span> receives its arguments via <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">rest</a>, it is 
permissible (but not required) for the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> to <a class="glossary-reference" href="chapter-26.xhtml#glossary-bind">bind</a> 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-rest parameter">rest parameter</a>
to an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> that shares structure with the last argument to <a class="function-reference" href="#function-apply">apply</a>.
Because a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> can neither detect whether it was called via <a class="function-reference" href="#function-apply">apply</a>
nor whether (if so) the last argument to <a class="function-reference" href="#function-apply">apply</a> was a <a class="glossary-reference" href="chapter-26.xhtml#glossary-constant">constant</a>,
<a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming program">conforming programs</a> must neither rely on the <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> structure 
of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-rest list">rest list</a> to be freshly consed, nor modify that <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> structure. 
</div>
<a class="macro-reference" href="#macro-setf">setf</a> can be used with <a class="function-reference" href="#function-apply">apply</a> in certain circumstances;
see <span class="section-reference error">section:SETFofAPPLY.</span><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/rest-list-allocation.xhtml#issue-rest-list-allocation:may-share">X3J13 Issue REST-LIST-ALLOCATION:MAY-SHARE</a><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">f</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="function-reference" href="chapter-12.xhtml#function-+">+</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-interned-symbol">f</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">f</span> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function--">-</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;FUNCTION -&gt;</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-interned-symbol">f</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">-1</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-max">max</a></span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">2</span> <span class="syntax-number">7</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">7</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-number">4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-symbol">.</span> <span class="syntax-number">4</span>)</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span> <span class="syntax-quote">'<span class="syntax-symbol">()</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span>

 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defparameter">defparameter</a> <span class="syntax-interned-symbol">*some-list*</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span></span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">strange-test</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">*some-list*</span>)</span>)</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">strange-test</span></span> <span class="syntax-interned-symbol">*some-list*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>

 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">bad-boy</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-rplacd">rplacd</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">y</span></span>)</span>)</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">bad-boy</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span> <span class="syntax-interned-symbol">has</span> <span class="syntax-interned-symbol">undefined</span> <span class="syntax-interned-symbol">consequences.</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">bad-boy</span></span> <span class="syntax-interned-symbol">*some-list*</span>)</span> <span class="syntax-interned-symbol">has</span> <span class="syntax-interned-symbol">undefined</span> <span class="syntax-interned-symbol">consequences.</span>
</span></code></pre></div>
<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">size</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">keys</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">&amp;key</a> <span class="syntax-interned-symbol">double</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-allow-other-keys">&amp;allow-other-keys</a>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">v</span> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-15.xhtml#function-make-array">make-array</a></span> <span class="syntax-interned-symbol">size</span> <span class="syntax-keyword-symbol">:allow-other-keys</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-interned-symbol">keys</span>)</span>)</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">double</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-concatenate">concatenate</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-4.xhtml#function-type-of">type-of</a> <span class="syntax-interned-symbol">v</span>)</span> <span class="syntax-interned-symbol">v</span> <span class="syntax-interned-symbol">v</span>)</span> <span class="syntax-interned-symbol">v</span>)</span>)</span>)</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">foo</span> <span class="syntax-number">4</span> <span class="syntax-keyword-symbol">:initial-contents</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-interned-symbol">d</span>)</span></span> <span class="syntax-keyword-symbol">:double</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>
   <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-vector">#(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span> <span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-funcall">funcall</a>,
<a class="function-reference" href="#function-fdefinition">fdefinition</a>,
<a class="special-operator-reference" href="#special-operator-function">function</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a>,
<a class="section-reference" href="#section-SETFofAPPLY">APPLY Forms as Places</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-defun"><div class="header"><span class="left"><span class="name" id="macro-defun">defun</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">defun</span>&nbsp;<span class="lambda-list">function-name lambda-list <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">function-name</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function-name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.<br/><span class="parameter">lambda-list</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-ordinary lambda list">ordinary lambda list</a>.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">documentation</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>; not evaluated.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">block-name</span>&mdash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function block name">function block name</a> of the <span class="parameter">function-name</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Defines a new <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> named <span class="parameter">function-name</span> in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-global environment">global environment</a>.
The body of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> defined by <a class="macro-reference" href="#macro-defun">defun</a> consists 
of <span class="parameter">forms</span>; they are executed as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>
when the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> is called. 
<a class="macro-reference" href="#macro-defun">defun</a> can be used
     to define a new <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>,
     to install a corrected version of an incorrect definition,
     to redefine an already-defined <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>,
  or to redefine a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/><a class="macro-reference" href="#macro-defun">defun</a> implicitly puts a <a class="special-operator-reference" href="#special-operator-block">block</a> named <span class="parameter">block-name</span>
around the body <span class="parameter">forms</span> 
<div class="issue-annotation"><a class="issue-reference" href="issues/defmacro-block-scope.xhtml#issue-defmacro-block-scope:excludes-bindings">X3J13 Issue DEFMACRO-BLOCK-SCOPE:EXCLUDES-BINDINGS</a>(but not the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> in the <span class="parameter">lambda-list</span>)
</div>of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> defined.<br/><div class="issue-annotation"><span class="issue-reference error">issue:DOCUMENTATION-FUNCTION-BUGS</span><span class="parameter">Documentation</span> is attached as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a> 
    to <span class="parameter">name</span> (as kind <a class="special-operator-reference" href="#special-operator-function">function</a>)
and to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.
</div>
Evaluating <a class="macro-reference" href="#macro-defun">defun</a> causes <span class="parameter">function-name</span> to be a global name
for the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> specified by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a><br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="parameter">lambda-list</span>
  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="parameter">block-name</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
</span></code></pre><br/>processed in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a> in which <a class="macro-reference" href="#macro-defun">defun</a> was executed.<br/>(None of the arguments are evaluated at macro expansion time.)<br/><span class="issue-annotation"><span class="issue-reference error">issue:COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS</span><a class="macro-reference" href="#macro-defun">defun</a> is not required to perform any compile-time side effects.
In particular, <a class="macro-reference" href="#macro-defun">defun</a> does not make the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> definition available
at compile time.  An <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may choose to store information
about the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> for the purposes of compile-time error-checking
(such as checking the number of arguments on calls),
or to enable the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> to be expanded inline.
</span>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">recur</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-&gt;">&gt;</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">0</span>)</span>
    <span class="syntax-cons">(<span class="syntax-interned-symbol">recur</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1-">1-</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">RECUR</span> 
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">ex</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <span class="syntax-interned-symbol">c</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">d</span> <span class="syntax-number">66</span>)</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">keys</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">&amp;key</a> <span class="syntax-interned-symbol">test</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">start</span> <span class="syntax-number">0</span>)</span>)</span>
    <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-interned-symbol">d</span> <span class="syntax-interned-symbol">keys</span> <span class="syntax-interned-symbol">test</span> <span class="syntax-interned-symbol">start</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">EX</span> 
 <span class="syntax-cons">(<span class="syntax-interned-symbol">ex</span> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <span class="syntax-number">66</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <span class="syntax-number">0</span>)</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">ex</span> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span> <span class="syntax-keyword-symbol">:test</span> <span class="syntax-quote">'<a class="function-reference" href="#function-equal">equal</a></span> <span class="syntax-keyword-symbol">:start</span> <span class="syntax-number">50</span>)</span> 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span> <span class="syntax-cons">(<span class="syntax-keyword-symbol">:TEST</span> <a class="function-reference" href="#function-equal">EQUAL</a> <span class="syntax-keyword-symbol">:START</span> <span class="syntax-number">50</span>)</span> <a class="function-reference" href="#function-equal">EQUAL</a> <span class="syntax-number">50</span>)</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">ex</span> <span class="syntax-keyword-symbol">:test</span> <span class="syntax-number">1</span> <span class="syntax-keyword-symbol">:start</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-keyword-symbol">:TEST</span> <span class="syntax-number">1</span> <span class="syntax-keyword-symbol">:START</span> <span class="syntax-number">2</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <span class="syntax-number">0</span>)</span>

 ;; This function assumes its callers have checked the types of the
 ;; arguments, and authorizes the compiler to build in that assumption.
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">discriminant</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span>
   <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-number">number</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span>)</span>
   <span class="syntax-string">"Compute the discriminant for a quadratic equation."</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function--">-</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-number">4</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">c</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">DISCRIMINANT</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">discriminant</span> <span class="syntax-number">1</span> <span class="syntax-number">2/3</span> <span class="syntax-number">-2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">76/9</span>

 ;; This function assumes its callers have not checked the types of the
 ;; arguments, and performs explicit type checks before making any assumptions. 
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">careful-discriminant</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span>
   <span class="syntax-string">"Compute the discriminant for a quadratic equation."</span>
   <span class="syntax-cons">(<a class="macro-reference" href="chapter-9.xhtml#macro-check-type">check-type</a> <span class="syntax-interned-symbol">a</span> <a class="type-reference" href="chapter-12.xhtml#type-number">number</a>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="chapter-9.xhtml#macro-check-type">check-type</a> <span class="syntax-interned-symbol">b</span> <a class="type-reference" href="chapter-12.xhtml#type-number">number</a>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="chapter-9.xhtml#macro-check-type">check-type</a> <span class="syntax-interned-symbol">c</span> <a class="type-reference" href="chapter-12.xhtml#type-number">number</a>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-locally">locally</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-number">number</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function--">-</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-number">4</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">c</span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">CAREFUL-DISCRIMINANT</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">careful-discriminant</span> <span class="syntax-number">1</span> <span class="syntax-number">2/3</span> <span class="syntax-number">-2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">76/9</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-flet">flet</a>,
<a class="special-operator-reference" href="#special-operator-labels">labels</a>, 
<a class="special-operator-reference" href="#special-operator-block">block</a>,
<a class="special-operator-reference" href="#special-operator-return-from">return-from</a>,
<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a>, 
<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a>,
<a class="section-reference" href="chapter-3.xhtml#section-OrdinaryLambdaLists">Ordinary Lambda Lists</a>,
<a class="section-reference" href="chapter-3.xhtml#section-DocVsDecls">Syntactic Interaction of Documentation Strings and Declarations</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="special-operator-reference" href="#special-operator-return-from">return-from</a> can be used to return
prematurely from a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> defined by <a class="macro-reference" href="#macro-defun">defun</a>.<br/>Additional side effects might take place when additional information
(typically debugging information)
about the function definition is recorded. <br/></dd></dl></div></div></div>
</div><br/><br/><br/><div class="component" id="function-fdefinition"><div class="header"><span class="left"><span class="name" id="function-fdefinition">fdefinition</span></span><span class="right"><span class="ftype">Accessor</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">fdefinition</span>&nbsp;<span class="lambda-list">function-name</span>&nbsp;→&nbsp;<span class="return-values">definition</span></span><br/>
<span class="setf-definition">(setf (<span class="name">fdefinition</span>&nbsp;<span class="lambda-list">function-name</span>) <span class="new-value">new-definition</span>)</span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function-name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.
<span class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a>In the non-<a class="macro-reference" href="#macro-setf">setf</a> case, 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">name</a> must be <a class="glossary-reference" href="chapter-26.xhtml#glossary-fbound">fbound</a> in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-global environment">global environment</a>.
</span>
<span class="parameter">definition</span>&mdash;Current global function definition named by <span class="parameter">function-name</span>.  <br/><span class="parameter">new-definition</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-fdefinition">fdefinition</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-access">accesses</a> the current global function definition
named by <span class="parameter">function-name</span>.  The definition may be a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or may be an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> representing a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-special form">special form</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.
<div class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a>The value returned by <a class="function-reference" href="#function-fdefinition">fdefinition</a> when <a class="function-reference" href="#function-fboundp">fboundp</a> returns true
but the <span class="parameter">function-name</span> denotes a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> or 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-special form">special form</a> is not well-defined, but <a class="function-reference" href="#function-fdefinition">fdefinition</a> does not signal an error. 
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">function-name</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.<br/>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-undefined-function">undefined-function</a> is signaled 
in the non-<a class="macro-reference" href="#macro-setf">setf</a> case if <span class="parameter">function-name</span> is not <a class="glossary-reference" href="chapter-26.xhtml#glossary-fbound">fbound</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-fboundp">fboundp</a>,
<a class="function-reference" href="#function-fmakunbound">fmakunbound</a>,
<a class="function-reference" href="chapter-3.xhtml#function-macro-function">macro-function</a>,
<span class="issue-annotation"><span class="issue-reference error">issue:SPECIAL-FORM-P-MISNOMER</span><a class="function-reference" href="chapter-3.xhtml#function-special-operator-p">special-operator-p</a>,
</span><a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="function-reference" href="#function-fdefinition">fdefinition</a> cannot <a class="glossary-reference" href="chapter-26.xhtml#glossary-access">access</a> the value of a lexical function name
produced by <a class="special-operator-reference" href="#special-operator-flet">flet</a> or <a class="special-operator-reference" href="#special-operator-labels">labels</a>; it can <a class="glossary-reference" href="chapter-26.xhtml#glossary-access">access</a> only
the global function value.<br/><a class="macro-reference" href="#macro-setf">setf</a> can be used with 
<a class="function-reference" href="#function-fdefinition">fdefinition</a> to replace a global function
definition when the <span class="parameter">function-name</span>'s function definition 
does not represent a <a class="glossary-reference" href="chapter-26.xhtml#glossary-special form">special form</a>.
<div class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a><a class="macro-reference" href="#macro-setf">setf</a> of <a class="function-reference" href="#function-fdefinition">fdefinition</a> 
requires a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> as the new value.
It is an error to set the <a class="function-reference" href="#function-fdefinition">fdefinition</a> of a <span class="parameter">function-name</span>
to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>, a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a>, or the value returned
by <a class="function-reference" href="#function-fdefinition">fdefinition</a> on the name of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> 
or <a class="glossary-reference" href="chapter-26.xhtml#glossary-special form">special form</a>.
</div> 
</dd></dl></div></div></div><br/><br/><br/><div class="component" id="function-fboundp"><div class="header"><span class="left"><span class="name" id="function-fboundp">fboundp</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">fboundp</span>&nbsp;<span class="lambda-list">name</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Pronunciation</dt><dd><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi>\hbox<span class="explicit-bold"> <math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ef<math xmlns="http://www.w3.org/1998/Math/MathML"/><msup><mrow></mrow><mo><math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/></mo></msup><math xmlns="http://www.w3.org/1998/Math/MathML"/>ba.undp=e</span><mi>]</mi></math><br/></dd></dl></div><dl><dt class="label">Arguments and Values</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.
</div>
<span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if <span class="parameter">name</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-fbound">fbound</a>;
otherwise, returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-car">car</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<a class="macro-reference" href="#macro-nth-value">nth-value</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<a class="macro-reference" href="chapter-21.xhtml#macro-with-open-file">with-open-file</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">my-function</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MY-FUNCTION</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">saved-definition</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="#function-fmakunbound">fmakunbound</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span>
                          <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span>)</span>
     <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span> <span class="syntax-interned-symbol">saved-definition</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">my-macro</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quasiquote">`<span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">x</span></span></span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MY-MACRO</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-macro</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fmakunbound">fmakunbound</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MY-FUNCTION</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">my-function</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">my-function</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.        <br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">name</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a>, <a class="function-reference" href="#function-fmakunbound">fmakunbound</a>, <a class="function-reference" href="#function-fdefinition">fdefinition</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>It is permissible to call <a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> on any <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>
that is <a class="glossary-reference" href="chapter-26.xhtml#glossary-fbound">fbound</a>.<br/><a class="function-reference" href="#function-fboundp">fboundp</a> is sometimes used to ``guard''
an access to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function cell">function cell</a>, as in:
<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
</span></code></pre><br/><div class="issue-annotation"><a class="issue-reference" href="issues/setf-functions-again.xhtml#issue-setf-functions-again:minimal-changes">X3J13 Issue SETF-FUNCTIONS-AGAIN:MINIMAL-CHANGES</a>Defining a <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> <span class="parameter">F</span> does not cause the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf function">setf function</a>
<code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">F</span>)</span>
</span></code> to become defined.
</div>
</dd></dl></div></div><br/><br/><br/><div class="component" id="function-fmakunbound"><div class="header"><span class="left"><span class="name" id="function-fmakunbound">fmakunbound</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">fmakunbound</span>&nbsp;<span class="lambda-list">name</span>&nbsp;→&nbsp;<span class="return-values">name</span></span><br/><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Pronunciation</dt><dd><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi>\hbox<span class="explicit-bold"> <math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ef<math xmlns="http://www.w3.org/1998/Math/MathML"/><msup><mrow></mrow><mo><math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/></mo></msup><math xmlns="http://www.w3.org/1998/Math/MathML"/>mak<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ε</mi></math> n<math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ba.und</span><mi>]</mi></math>
 or <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi>\hbox<span class="explicit-bold"> <math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ef<math xmlns="http://www.w3.org/1998/Math/MathML"/><msup><mrow></mrow><mo><math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/></mo></msup><math xmlns="http://www.w3.org/1998/Math/MathML"/>m=a k<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ε</mi></math> n<math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ba.und</span><mi>]</mi></math><br/></dd></dl></div><dl><dt class="label">Arguments and Values</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.
</div>
</dd></dl><dl><dt class="label">Description</dt><dd>Removes the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> definition, if any, of <span class="parameter">name</span> 
in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-global environment">global environment</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">add-some</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">19</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">ADD-SOME</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">add-some</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">add-some</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">37</span>)</span>)</span>)</span>
    <span class="syntax-cons">(<a class="function-reference" href="#function-fmakunbound">fmakunbound</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">add-some</span></span>)</span>
    <span class="syntax-cons">(<span class="syntax-interned-symbol">add-some</span> <span class="syntax-number">1</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">38</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-fboundp">fboundp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">add-some</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/>
</dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
			      if <span class="parameter">name</span> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.<br/>The consequences are undefined if <span class="parameter">name</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-special operator">special operator</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-fboundp">fboundp</a>, <a class="function-reference" href="chapter-10.xhtml#function-makunbound">makunbound</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-flet"><div class="header"><span class="left"><span class="name" id="special-operator-flet">flet</span>, <span class="name" id="special-operator-labels">labels</span>, <span class="name" id="special-operator-macrolet">macrolet</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span>
<dl><dt class="label">Syntax</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/flet-declarations.xhtml#issue-flet-declarations:allow">X3J13 Issue FLET-DECLARATIONS:ALLOW</a><span class="special-operator-definition"><span class="name">flet</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="explicit-roman">(</span><span class="parameter">function-name</span> 
				                  <span class="parameter">lambda-list</span>
				      		  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">local-declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> 
				  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">local-documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math>
				      		  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">local-form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
			  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><span class="special-operator-definition"><span class="name">labels</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="explicit-roman">(</span><span class="parameter">function-name</span> 
				                  <span class="parameter">lambda-list</span>
				      		  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">local-declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> 
				  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">local-documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math>
				      		  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">local-form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
			  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><span class="special-operator-definition"><span class="name">macrolet</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="explicit-roman">(</span><span class="parameter">name</span> 
				                  <span class="parameter">lambda-list</span>
				      		  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">local-declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> 
				  <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">local-documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math>
				      		  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">local-form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
			  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/></div>
</dd></dl><dl><dt class="label">Arguments and Values</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a><span class="parameter">function-name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>.
</div>
<span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>.

<span class="parameter">lambda-list</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda list">lambda list</a>; 
		      for <a class="special-operator-reference" href="#special-operator-flet">flet</a> and <a class="special-operator-reference" href="#special-operator-labels">labels</a>,
			 it is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-ordinary lambda list">ordinary lambda list</a>;
		      for <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>,
			 it is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro lambda list">macro lambda list</a>.<br/><span class="parameter">local-declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">local-documentation</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>; not evaluated.<br/><span class="parameter">local-forms</span>, <span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> of the <span class="parameter">forms</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-flet">flet</a>, <a class="special-operator-reference" href="#special-operator-labels">labels</a>, and <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>
define local <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a>, and execute
<span class="parameter">forms</span> using the local definitions.
<span class="parameter">Forms</span> are executed  in order of occurrence.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/flet-implicit-block.xhtml#issue-flet-implicit-block:yes">X3J13 Issue FLET-IMPLICIT-BLOCK:YES</a><div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a><span class="issue-annotation"><a class="issue-reference" href="issues/defmacro-block-scope.xhtml#issue-defmacro-block-scope:excludes-bindings">X3J13 Issue DEFMACRO-BLOCK-SCOPE:EXCLUDES-BINDINGS</a>The body forms (but not the <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda list">lambda list</a>)
</span>of each <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> created by <a class="special-operator-reference" href="#special-operator-flet">flet</a> and <a class="special-operator-reference" href="#special-operator-labels">labels</a> 
and each <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> created by <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>
are enclosed in an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit block">implicit block</a> whose name 
is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function block name">function block name</a> of the <span class="parameter">function-name</span> or <span class="parameter">name</span>, 
as appropriate.
</div></div>
<div class="issue-annotation"><a class="issue-reference" href="issues/flet-declarations.xhtml#issue-flet-declarations">X3J13 Issue FLET-DECLARATIONS</a>The scope of the <span class="parameter">declarations</span>
between
the list of local function/macro definitions and the body <span class="parameter">forms</span>
in <a class="special-operator-reference" href="#special-operator-flet">flet</a> and <a class="special-operator-reference" href="#special-operator-labels">labels</a> 
does not include the bodies of the
locally defined <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a>, except that for <a class="special-operator-reference" href="#special-operator-labels">labels</a>,
any <a class="declaration-reference" href="chapter-3.xhtml#declaration-inline">inline</a>, <a class="declaration-reference" href="chapter-3.xhtml#declaration-notinline">notinline</a>, or <a class="declaration-reference" href="chapter-3.xhtml#declaration-ftype">ftype</a> declarations
that refer to the locally defined functions do apply to the local function
bodies. That is, their <a class="glossary-reference" href="chapter-26.xhtml#glossary-scope">scope</a> 
is the same as the function name that they
affect.  
<span class="issue-annotation"><a class="issue-reference" href="issues/declaration-scope.xhtml#issue-declaration-scope:no-hoisting">X3J13 Issue DECLARATION-SCOPE:NO-HOISTING</a></span>The scope of these <span class="parameter">declarations</span> 
does not include the bodies of the macro expander
functions defined by <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>.  
</div>

<dl><dt> flet</dt><dd><a class="special-operator-reference" href="#special-operator-flet">flet</a> defines locally named <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> and executes a series of
<span class="parameter">forms</span> with these definition <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>.  Any number of
such local <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> can be defined.  <br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-scope">scope</a> of the name <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> encompasses only the body.
Within the
body of <a class="special-operator-reference" href="#special-operator-flet">flet</a>, 
<span class="parameter">function-names</span> matching those defined
by <a class="special-operator-reference" href="#special-operator-flet">flet</a> 
refer to the locally defined <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> 
rather than to
the global function definitions of the same name.
<div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a>Also, within the scope of <a class="special-operator-reference" href="#special-operator-flet">flet</a>, 
global <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> definitions of the <span class="parameter">function-name</span>
defined by <a class="special-operator-reference" href="#special-operator-flet">flet</a> do not apply. 
Note that this applies to 
<span class="explicit-mono">(defsetf <span class="explicit-italic"> f</span> ...)</span>, not
<span class="explicit-mono">(defmethod (setf <span class="explicit-italic"> f</span>) ...)</span>.
</div></div>
The names of <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> defined by <a class="special-operator-reference" href="#special-operator-flet">flet</a> 
are in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a>; they retain
their local definitions only within the body of <a class="special-operator-reference" href="#special-operator-flet">flet</a>.
The function definition bindings are visible only in
the body of <a class="special-operator-reference" href="#special-operator-flet">flet</a>, not the definitions themselves.  Within the
function definitions, local function names
that match those being
defined refer to <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> or 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> defined outside the <a class="special-operator-reference" href="#special-operator-flet">flet</a>.
<a class="special-operator-reference" href="#special-operator-flet">flet</a> can locally <a class="glossary-reference" href="chapter-26.xhtml#glossary-shadow">shadow</a> a global function name,
and the new definition can refer to the global definition.<br/>Any <span class="parameter">local-documentation</span> is attached to the corresponding local <span class="parameter">function</span>
(if one is actually created) as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a>.<br/></dd><dt> labels</dt><dd><a class="special-operator-reference" href="#special-operator-labels">labels</a> is equivalent to <a class="special-operator-reference" href="#special-operator-flet">flet</a> except that
the scope of the defined function names for <a class="special-operator-reference" href="#special-operator-labels">labels</a> 
encompasses the function definitions themselves as well as the body.
<div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><span class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a></span></div>
</dd><dt> macrolet</dt><dd><a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> establishes local <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> definitions,
using the same format used by <a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a>Within the body of <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>, 
global <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> definitions of the <span class="parameter">names</span> defined by the 
<a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> do not apply; rather, <a class="macro-reference" href="#macro-setf">setf</a> expands the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-macro form">macro form</a> and recursively process the resulting <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.
</div></div>

The macro-expansion functions defined by <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> 
are defined in the 
<span class="issue-annotation"><span class="issue-reference error">issue:DEFINING-MACROS-NON-TOP-LEVEL</span><a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a> in which the <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> form appears.
Declarations and <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> and 
<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-symbol-macrolet">symbol-macrolet</a> definitions
affect the local macro definitions in a <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>, but the
consequences are undefined if the local macro definitions reference
any local <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variable</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> that are visible in that
<a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a>.
</span>
Any <span class="parameter">local-documentation</span> is attached to the corresponding local <span class="parameter">macro function</span>
as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a>.<br/></dd></dl><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">flag</span>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">fudge</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">z</span>)</span>
                <span class="syntax-line-comment syntax-comment">;The parameters x and flag are not accessible
</span>                <span class="syntax-line-comment syntax-comment">; at this point; a reference to flag would be to
</span>                <span class="syntax-line-comment syntax-comment">; the global variable of that name.
</span>                ` <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">flag</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">z</span> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">z</span>)</span> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">z</span>)</span>)</span>)</span>
   <span class="syntax-line-comment syntax-comment">;The parameters x and flag are accessible here.
</span>    <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span>
       <span class="syntax-cons">(<span class="syntax-interned-symbol">fudge</span> <span class="syntax-interned-symbol">x</span>)</span>
       <span class="syntax-cons">(<span class="syntax-interned-symbol">fudge</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">1</span>)</span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">flag</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">flag</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">flag</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">1</span>)</span>)</span>)</span>)</span>
</span></code></pre>
after macro expansion.  The occurrences of <code><span class="syntax-root"><span class="syntax-interned-symbol">x</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-interned-symbol">flag</span>
</span></code> legitimately
refer to the parameters of the function <code><span class="syntax-root"><span class="syntax-interned-symbol">foo</span>
</span></code> because those parameters are
visible at the site of the macro call which produced the expansion.<br/><span class="issue-annotation"><a class="issue-reference" href="issues/lisp-symbol-redefinition.xhtml#issue-lisp-symbol-redefinition:mar89-x3j13">X3J13 Issue LISP-SYMBOL-REDEFINITION:MAR89-X3J13</a></span>
<pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">flet1</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-interned-symbol">n</span>)</span>)</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">flet1</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-number">2</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">flet1</span> <span class="syntax-interned-symbol">n</span>)</span>)</span>)</span>)</span>
      <span class="syntax-cons">(<span class="syntax-interned-symbol">flet1</span> <span class="syntax-number">2</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">6</span>

 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-symbol">()</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">top-level</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">DUMMY-FUNCTION</span> 
 <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">dummy-function</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">TOP-LEVEL</span> 
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-symbol">()</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-11.xhtml#function-shadow">shadow</a></span>)</span>)</span> 
      <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">dummy-function</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="function-reference" href="chapter-11.xhtml#function-shadow">SHADOW</a> 
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">dummy-function</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-function</span></span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> 
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-symbol">()</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-11.xhtml#function-shadow">shadow</a></span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">dummy-function</span></span>)</span>
       <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-function</span></span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> 

 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">recursive-times</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">k</span> <span class="syntax-interned-symbol">n</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-labels">labels</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">temp</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span>)</span> 
              <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-zerop">zerop</a> <span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-number">0</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">temp</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1-">1-</a> <span class="syntax-interned-symbol">n</span>)</span>)</span>)</span>)</span>)</span>)</span>
     <span class="syntax-cons">(<span class="syntax-interned-symbol">temp</span> <span class="syntax-interned-symbol">n</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">RECURSIVE-TIMES</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">recursive-times</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">6</span>

 <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">mlets</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-environment">&amp;environment</a> <span class="syntax-interned-symbol">env</span>)</span> 
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">form</span> <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-interned-symbol">babbit</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">x</span></span>)</span></span>)</span>)</span>
      <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-macroexpand">macroexpand</a> <span class="syntax-interned-symbol">form</span> <span class="syntax-interned-symbol">env</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MLETS</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">babbit</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">z</span>)</span> <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">z</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">z</span></span>)</span></span>)</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">mlets</span> <span class="syntax-number">5</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">10</span>
</span></code></pre><br/><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">safesqrt</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-sqrt">sqrt</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-abs">abs</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>
  <span class="syntax-line-comment syntax-comment">;; The safesqrt function is used in two places.
</span>   <span class="syntax-cons">(<span class="syntax-interned-symbol">safesqrt</span> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-map">map</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-list">list</a></span> <span class="syntax-function">#'<span class="syntax-interned-symbol">safesqrt</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span></span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3.291173</span>
</span></code></pre><br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">integer-power</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span> <span class="syntax-interned-symbol">k</span>)</span>     
  <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-interned-symbol">n</span>)</span>)</span>         
  <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-25.xhtml#symbol-type">type</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-number">0</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span> <span class="syntax-interned-symbol">k</span>)</span>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-labels">labels</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">expt0</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">k</span> <span class="syntax-interned-symbol">a</span>)</span>
             <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-25.xhtml#symbol-type">type</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-number">0</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span> <span class="syntax-interned-symbol">k</span>)</span>)</span>
             <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-zerop">zerop</a> <span class="syntax-interned-symbol">k</span>)</span> <span class="syntax-interned-symbol">a</span>)</span>
                   <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-evenp">evenp</a> <span class="syntax-interned-symbol">k</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">expt1</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-number">2</span>)</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>
                   <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">expt0</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>)</span>)</span>)</span>
           <span class="syntax-cons">(<span class="syntax-interned-symbol">expt1</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">k</span> <span class="syntax-interned-symbol">a</span>)</span>
             <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-25.xhtml#symbol-type">type</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-number">0</span> <a class="function-reference" href="chapter-12.xhtml#function-*">*</a>)</span> <span class="syntax-interned-symbol">k</span>)</span>)</span>
             <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-evenp">evenp</a> <span class="syntax-interned-symbol">k</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">expt1</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-number">2</span>)</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>
                   <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">expt0</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>)</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<span class="syntax-interned-symbol">expt0</span> <span class="syntax-interned-symbol">n</span> <span class="syntax-interned-symbol">k</span> <span class="syntax-number">1</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">INTEGER-POWER</span>
</span></code></pre><br/><div class="issue-annotation"><a class="issue-reference" href="issues/flet-declarations.xhtml#issue-flet-declarations">X3J13 Issue FLET-DECLARATIONS</a><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">example</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">l</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">attach</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
            <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">l</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-append">append</a> <span class="syntax-interned-symbol">l</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>)</span>
     <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="declaration-reference" href="chapter-3.xhtml#declaration-inline">inline</a> <span class="syntax-interned-symbol">attach</span>)</span>)</span>
     <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
         <span class="syntax-cons">(<span class="syntax-interned-symbol">attach</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
     <span class="syntax-interned-symbol">l</span>)</span>)</span>

 <span class="syntax-cons">(<span class="syntax-interned-symbol">example</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">apple</span> <span class="syntax-interned-symbol">apricot</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">banana</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">c</span> <span class="syntax-interned-symbol">cherry</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">d</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">e</span>)</span>)</span></span>
          <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-number">5</span>)</span> <span class="syntax-cons">(<span class="syntax-number">6</span> <span class="syntax-number">3</span> <span class="syntax-number">2</span>)</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-number">5</span>)</span> <span class="syntax-cons">(<span class="syntax-number">6</span> <span class="syntax-number">3</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">APPLE</span> <span class="syntax-interned-symbol">APRICOT</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">BANANA</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">CHERRY</span>)</span>)</span>
</span></code></pre></div>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a>,
<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a>,
<a class="macro-reference" href="#macro-defun">defun</a>,
<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="special-operator-reference" href="#special-operator-let">let</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a>,
<a class="section-reference" href="chapter-3.xhtml#section-DocVsDecls">Syntactic Interaction of Documentation Strings and Declarations</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>It is not possible to define recursive <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> with <a class="special-operator-reference" href="#special-operator-flet">flet</a>.
<a class="special-operator-reference" href="#special-operator-labels">labels</a> can be used to define mutually recursive <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a>.<br/>If a <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>,
the body <span class="parameter">forms</span> are also processed as <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level forms</a>.
See <span class="section-reference error">section:FileCompilation.</span><br/></dd></dl></div></div>
</div><br/><br/>
<br/><div class="component" id="function-funcall"><div class="header"><span class="left"><span class="name" id="function-funcall">funcall</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">funcall</span>&nbsp;<span class="lambda-list">function <span class="lambda-list-keyword">&amp;rest</span> args</span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function designator">function designator</a>.<br/><span class="parameter">args</span>&mdash;<a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> to the <span class="parameter">function</span>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">function</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-funcall">funcall</a> applies <span class="parameter">function</span> to <span class="parameter">args</span>.
<div class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a>If <span class="parameter">function</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>,
it is coerced to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> as if by
finding its <a class="glossary-reference" href="chapter-26.xhtml#glossary-functional value">functional value</a> in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-global environment">global environment</a>.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">6</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-car">car</a></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-17.xhtml#function-position">position</a></span> <span class="syntax-number">1</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">2</span> <span class="syntax-number">1</span>)</span></span> <span class="syntax-keyword-symbol">:start</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-symbol">.</span> <span class="syntax-number">2</span>)</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-interned-symbol">kons</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">x</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">y</span></span>)</span></span>)</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span>)</span>)</span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a></span>
              <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a></span> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span>
              <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">KONS</span> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-symbol">.</span> <span class="syntax-number">2</span>)</span> <span class="syntax-number">3</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-undefined-function">undefined-function</a> should be signaled if <span class="parameter">function</span> 
is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> that does not have a global definition as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>
or that has a global definition as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> or a <a class="glossary-reference" href="chapter-26.xhtml#glossary-special operator">special operator</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-apply">apply</a>, <a class="special-operator-reference" href="#special-operator-function">function</a>, <a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="parameter">function</span> <span class="parameter">arg1</span> <span class="parameter">arg2</span> <span class="syntax-interned-symbol">...</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="parameter">function</span> <span class="parameter">arg1</span> <span class="parameter">arg2</span> <span class="syntax-interned-symbol">...</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="parameter">function</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="parameter">arg1</span> <span class="parameter">arg2</span> <span class="syntax-interned-symbol">...</span>)</span>)</span>
</span></code></pre><br/>The difference between <a class="function-reference" href="#function-funcall">funcall</a> and an ordinary function call is that
in the former case the <span class="parameter">function</span> is obtained by ordinary <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a>
of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>, and in the latter case it is obtained by the special 
interpretation of the function position that normally occurs.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-function"><div class="header"><span class="left"><span class="name" id="special-operator-function">function</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/>
<div class="issue-annotation"><a class="issue-reference" href="issues/function-name.xhtml#issue-function-name:large">X3J13 Issue FUNCTION-NAME:LARGE</a>
<dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">function</span>&nbsp;<span class="lambda-list">name</span>&nbsp;→&nbsp;<span class="return-values">function</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a>.<br/><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of <a class="special-operator-reference" href="#special-operator-function">function</a> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-functional value">functional value</a> of <span class="parameter">name</span>
in the current <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a>.<br/>If <span class="parameter">name</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>, the functional definition of that name
is that
established by the innermost lexically enclosing
<a class="special-operator-reference" href="#special-operator-flet">flet</a>, <a class="special-operator-reference" href="#special-operator-labels">labels</a>, or <a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>,
if there is one.  Otherwise the global functional definition of the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>
is returned.<br/>If <span class="parameter">name</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a>, then a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical closure">lexical closure</a>
is returned.  In situations where a <a class="glossary-reference" href="chapter-26.xhtml#glossary-closure">closure</a> over the same set of
<a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> might be produced more than once, the various resulting
<span class="glossary-reference error">glossary:closures</span> might or might not be <a class="function-reference" href="#function-eq">eq</a>.<br/><span class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a>It is an error to use <a class="special-operator-reference" href="#special-operator-function">function</a> on a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a> 
that does not denote a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> in the lexical environment in
which the <a class="special-operator-reference" href="#special-operator-function">function</a> form appears. 
Specifically, it is an error to use <a class="special-operator-reference" href="#special-operator-function">function</a> on a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> 
that denotes a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-special form">special form</a>.
An implementation may choose not to signal this error for
performance reasons, but implementations are forbidden from
defining the failure to signal an error as a useful behavior.
</span>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">adder</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-function">function</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span>)</span>
</span></code></pre>
The result of <code><span class="syntax-root"><span class="syntax-cons">(<span class="syntax-interned-symbol">adder</span> <span class="syntax-number">3</span>)</span>
</span></code> is a function that adds <code><span class="syntax-root"><span class="syntax-number">3</span>
</span></code> to its argument:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">add3</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">adder</span> <span class="syntax-number">3</span>)</span>)</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-interned-symbol">add3</span> <span class="syntax-number">5</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">8</span>
</span></code></pre>
This works because <a class="special-operator-reference" href="#special-operator-function">function</a> creates a <a class="glossary-reference" href="chapter-26.xhtml#glossary-closure">closure</a> of
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a> that is able to refer to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> <code><span class="syntax-root"><span class="syntax-number">3</span>
</span></code>
of the variable <code><span class="syntax-root"><span class="syntax-interned-symbol">x</span>
</span></code> even after control has returned from the function <code><span class="syntax-root"><span class="syntax-interned-symbol">adder</span>
</span></code>.<br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.

</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-defun">defun</a>,
<a class="function-reference" href="#function-fdefinition">fdefinition</a>,
<a class="special-operator-reference" href="#special-operator-flet">flet</a>,
<a class="special-operator-reference" href="#special-operator-labels">labels</a>,
<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a>,
<a class="section-reference" href="chapter-3.xhtml#section-SymbolsAsForms">Symbols as Forms</a>,
<a class="section-reference" href="chapter-2.xhtml#section-SharpsignQuote">Sharpsign Single-Quote</a>,
<a class="section-reference" href="chapter-22.xhtml#section-PrintingOtherObjects">Printing Other Objects</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The notation <span class="explicit-mono">#'<span class="parameter">name</span></span> may be used as an abbreviation
for <span class="explicit-mono">(function <span class="parameter">name</span>)</span>.
</dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="function-function-lambda-expression"><div class="header"><span class="left"><span class="name" id="function-function-lambda-expression">function-lambda-expression</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/function-definition.xhtml#issue-function-definition:jan89-x3j13">X3J13 Issue FUNCTION-DEFINITION:JAN89-X3J13</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">function-lambda-expression</span>&nbsp;<span class="lambda-list">function</span>&nbsp;→&nbsp;<span class="return-values">lambda-expression, closure-p, name</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/><span class="parameter">lambda-expression</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a> or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/><span class="parameter">closure-p</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/><span class="parameter">name</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns information about <span class="parameter">function</span> as follows:<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>, <span class="parameter">lambda-expression</span>,
is <span class="parameter">function</span>'s defining <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a>, 
or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if the information is not available.  The <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a>
may have been pre-processed in some ways, but it should remain a suitable 
argument to <a class="function-reference" href="chapter-3.xhtml#function-compile">compile</a> or <a class="special-operator-reference" href="#special-operator-function">function</a>.
Any <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may legitimately return <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> 
as the <span class="parameter">lambda-expression</span> of any <span class="parameter">function</span>.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-secondary value">secondary value</a>, <span class="parameter">closure-p</span>,
is <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if <span class="parameter">function</span>'s definition was enclosed
in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-null lexical environment">null lexical environment</a> or something <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-nil">non-nil</a> if
<span class="parameter">function</span>'s definition might have been enclosed in some 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-non-null lexical environment">non-null lexical environment</a>.
Any <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may legitimately return <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
as the <span class="parameter">closure-p</span> of any <span class="parameter">function</span>.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-tertiary value">tertiary value</a>, <span class="parameter">name</span>,
is the ``name'' of <span class="parameter">function</span>. 
The name is intended for debugging only and is not necessarily one that would
be valid for use as a name in <a class="macro-reference" href="#macro-defun">defun</a> or <a class="special-operator-reference" href="#special-operator-function">function</a>, for example.
By convention, <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> is used to mean that <span class="parameter">function</span> has no name.
Any <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a> may legitimately return <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> 
as the <span class="parameter">name</span> of any <span class="parameter">function</span>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd>The following examples illustrate some possible return values, but
are not intended to be exhaustive:<br/><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-function-lambda-expression">function-lambda-expression</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>

 <span class="syntax-cons">(<a class="function-reference" href="#function-function-lambda-expression">function-lambda-expression</a>
    <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span></span>)</span></span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 
 <span class="syntax-cons">(<a class="function-reference" href="#function-function-lambda-expression">function-lambda-expression</a> 
    <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-interned-symbol">x</span>)</span></span>)</span></span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-symbol">()</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>not<mi>→</mi></mover></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>not<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-symbol">()</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
  
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">foo</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span>)</span> <span class="syntax-function">#'<span class="syntax-interned-symbol">foo</span></span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-function-lambda-expression">function-lambda-expression</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">bar</span></span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">BLOCK</a> <span class="syntax-interned-symbol">FOO</span> <span class="syntax-interned-symbol">X</span>)</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">BLOCK</a> <span class="syntax-interned-symbol">FOO</span> <span class="syntax-interned-symbol">X</span>)</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <span class="syntax-interned-symbol">FOO</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<span class="syntax-two-package-markers syntax-interned-symbol">SI::BLOCK-LAMBDA</span> <span class="syntax-interned-symbol">FOO</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-interned-symbol">X</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <span class="syntax-interned-symbol">FOO</span>
 
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-symbol">()</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">bar</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
     <span class="syntax-function">#'<span class="syntax-interned-symbol">bar</span></span>)</span>)</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-function-lambda-expression">function-lambda-expression</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">foo</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">BLOCK</a> <span class="syntax-interned-symbol">BAR</span> <span class="syntax-interned-symbol">X</span>)</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">BLOCK</a> <span class="syntax-interned-symbol">BAR</span> <span class="syntax-interned-symbol">X</span>)</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a><span class="syntax-verbatim">,</span> <span class="syntax-cons">(<span class="syntax-keyword-symbol">:INTERNAL</span> <span class="syntax-interned-symbol">FOO</span> <span class="syntax-number">0</span> <span class="syntax-interned-symbol">BAR</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">BLOCK</a> <span class="syntax-interned-symbol">BAR</span> <span class="syntax-interned-symbol">X</span>)</span>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a><span class="syntax-verbatim">,</span> <span class="syntax-string">"BAR in FOO"</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Although <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementations</a> are free to return ``<a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>, <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>, <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>'' in all cases, 
they are encouraged to return a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a> as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>
in the case where the argument was created by a call to <a class="function-reference" href="chapter-3.xhtml#function-compile">compile</a> 
or <a class="function-reference" href="chapter-3.xhtml#function-eval">eval</a> (as opposed to being created by <span class="glossary-reference error">glossary:loading</span> a <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiled file">compiled file</a>).<br/></dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="function-functionp"><div class="header"><span class="left"><span class="name" id="function-functionp">functionp</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/function-type.xhtml#issue-function-type:x3j13-march-88">X3J13 Issue FUNCTION-TYPE:X3J13-MARCH-88</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">functionp</span>&nbsp;<span class="lambda-list">object</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if <span class="parameter">object</span> is of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-function">function</a>;
otherwise, returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-append">append</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-append">append</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-function">symbol-function</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-14.xhtml#function-append">append</a></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">f</span> <span class="syntax-symbol">()</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">f</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-compile">compile</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-quote">'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-number">259</span>)</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-number">12</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-quote">'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-functionp">functionp</a> <span class="parameter">object</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="chapter-4.xhtml#function-typep">typep</a> <span class="parameter">object</span> <span class="syntax-quote">'<a class="special-operator-reference" href="#special-operator-function">function</a></span>)</span>
</span></code></pre><br/></dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="function-compiled-function-p"><div class="header"><span class="left"><span class="name" id="function-compiled-function-p">compiled-function-p</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">compiled-function-p</span>&nbsp;<span class="lambda-list">object</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if <span class="parameter">object</span> is of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-compiled-function">compiled-function</a>;
otherwise, returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">f</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">F</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">f</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">f</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-compile">compile</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">f</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">F</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">f</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">f</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-compile">compile</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-quote">'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span></span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="syntax-quote">'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="chapter-3.xhtml#function-compile">compile</a>,
<a class="function-reference" href="chapter-24.xhtml#function-compile-file">compile-file</a>,
<a class="type-reference" href="chapter-4.xhtml#type-compiled-function">compiled-function</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-compiled-function-p">compiled-function-p</a> <span class="parameter">object</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="chapter-4.xhtml#function-typep">typep</a> <span class="parameter">object</span> <span class="syntax-quote">'<a class="type-reference" href="chapter-4.xhtml#type-compiled-function">compiled-function</a></span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="constant-call-arguments-limit"><div class="header"><span class="left"><span class="name" id="constant-call-arguments-limit">call-arguments-limit</span></span><span class="right"><span class="ftype">Constant Variable</span></span></div><br/><dl><dt class="label">Constant Value</dt><dd>An integer not smaller than <code><span class="syntax-root"><span class="syntax-number">50</span>
</span></code> and at least as great as 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of <a class="constant-reference" href="#constant-lambda-parameters-limit">lambda-parameters-limit</a>, 
the exact magnitude of which is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>The upper exclusive bound on the number of <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> that 
may be passed to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="constant-reference" href="#constant-lambda-parameters-limit">lambda-parameters-limit</a>, <a class="constant-reference" href="#constant-multiple-values-limit">multiple-values-limit</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="constant-lambda-list-keywords"><div class="header"><span class="left"><span class="name" id="constant-lambda-list-keywords">lambda-list-keywords</span></span><span class="right"><span class="ftype">Constant Variable</span></span></div><br/><dl><dt class="label">Constant Value</dt><dd>a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a>, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">elements</a> of which are <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>, 
but which must contain at least the <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> 
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-allow-other-keys">allow-other-keys</a>,
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-aux">aux</a>,
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-body">body</a>,
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-environment">environment</a>,
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">key</a>,
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">optional</a>,
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">rest</a>,
and
 <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-whole">whole</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>A <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of all the <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda list keyword">lambda list keywords</a> used 
in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementation</a>, including the additional ones
used only by <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> definition <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-defun">defun</a>,
<a class="special-operator-reference" href="#special-operator-flet">flet</a>,
<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a>,
<a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>,
<a class="section-reference" href="chapter-3.xhtml#section-EvaluationModel">The Evaluation Model</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="constant-lambda-parameters-limit"><div class="header"><span class="left"><span class="name" id="constant-lambda-parameters-limit">lambda-parameters-limit</span></span><span class="right"><span class="ftype">Constant Variable</span></span></div><br/><dl><dt class="label">Constant Value</dt><dd><a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>, but not smaller than <code><span class="syntax-root"><span class="syntax-number">50</span>
</span></code>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>A positive <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a> that is the upper exclusive bound on 
the number of <a class="glossary-reference" href="chapter-26.xhtml#glossary-parameter">parameter</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">names</a> that can appear 
in a single <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda list">lambda list</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="constant-reference" href="#constant-call-arguments-limit">call-arguments-limit</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Implementors are encouraged to make the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of
<a class="constant-reference" href="#constant-lambda-parameters-limit">lambda-parameters-limit</a> as large as possible.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-defconstant"><div class="header"><span class="left"><span class="name" id="macro-defconstant">defconstant</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">defconstant</span>&nbsp;<span class="lambda-list">name initial-value <span class="explicit-roman">[</span>documentation<span class="explicit-roman">]</span></span>&nbsp;→&nbsp;<span class="return-values">name</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>; not evaluated.<br/><span class="parameter">initial-value</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/defvar-documentation.xhtml#issue-defvar-documentation:unevaluated">X3J13 Issue DEFVAR-DOCUMENTATION:UNEVALUATED</a><span class="parameter">documentation</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>; not evaluated.
</div>
</dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-defconstant">defconstant</a> 
causes the global variable named by <span class="parameter">name</span> to be 
given a value that is the result of evaluating <span class="parameter">initial-value</span>.

A constant defined by <a class="macro-reference" href="#macro-defconstant">defconstant</a> can be redefined
with <a class="macro-reference" href="#macro-defconstant">defconstant</a>.
However, the consequences are undefined if an attempt is made to assign
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> using another operator, or to
assign it to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-different">different</a>
<a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> using a subsequent
<a class="macro-reference" href="#macro-defconstant">defconstant</a>.<br/>If <span class="parameter">documentation</span> is supplied, it is attached to <span class="parameter">name</span> as a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a> of kind <a class="symbol-reference" href="chapter-25.xhtml#symbol-variable">variable</a>. <br/><span class="issue-annotation"><span class="issue-reference error">issue:DEFINING-MACROS-NON-TOP-LEVEL</span><a class="macro-reference" href="#macro-defconstant">defconstant</a> 
normally appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>, but it is meaningful
for it to appear as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-top-level form">non-top-level form</a>.
However, the compile-time side
effects described below
only take place when <a class="macro-reference" href="#macro-defconstant">defconstant</a> appears as a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>.
</span> <br/>The consequences are undefined if there are any 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>
of the variable named by <span class="parameter">name</span> at the time <a class="macro-reference" href="#macro-defconstant">defconstant</a> 
is executed or if the value is not <a class="function-reference" href="#function-eql">eql</a> to the value of
<span class="parameter">initial-value</span>.<br/><span class="issue-annotation"><span class="issue-reference error">issue:DEFCONSTANT-SPECIAL</span>The consequences are undefined when constant <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> are rebound
as either lexical or dynamic variables.  In other words, a reference to a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> declared with <a class="macro-reference" href="#macro-defconstant">defconstant</a> always refers to its global value.
</span> 
The side effects of the execution of <a class="macro-reference" href="#macro-defconstant">defconstant</a> must
be equivalent to at least the side effects of the execution of the following
code:<br/>
<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-quote">'<span class="explicit-italic"> name</span></span>)</span> <span class="explicit-italic"> initial-value</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a> <span class="syntax-quote">'<span class="explicit-italic"> name</span></span> <span class="syntax-quote">'<a class="symbol-reference" href="chapter-25.xhtml#symbol-variable">variable</a></span>)</span> <span class="syntax-quote">'<span class="explicit-italic"> documentation</span></span>)</span>
</span></code></pre><br/><div class="issue-annotation"><span class="issue-reference error">issue:COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS</span>If a <a class="macro-reference" href="#macro-defconstant">defconstant</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must recognize that <span class="parameter">name</span> names
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-constant variable">constant variable</a>.  An implementation may choose to
evaluate the value-form at compile time, load time, or both.
Therefore, users must ensure that the <span class="parameter">initial-value</span>
can be <span class="glossary-reference error">glossary:evaluated</span> at compile time
(regardless of whether or not references to <span class="parameter">name</span>
appear in the file) and that it always <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">evaluates</a>
to the same value.
</div>
<span class="editor-note" id="editor-note-does-``same-value''-"><span class="editor-note-tooltip"><span class="editor">KMP</span>: Does ``same value'' here mean eql or similar?</span>‣</span>
<span class="reviewer-note" id="reviewer-note-probably-depends-on-"><span class="reviewer-note-tooltip"><span class="reviewer">Moon</span>: Probably depends on whether load time is compared to compile time,
		or two compiles.</span>‣</span><br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defconstant">defconstant</a> <span class="syntax-interned-symbol">this-is-a-constant</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">never-changing</span></span> <span class="syntax-string">"for a test"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">THIS-IS-A-CONSTANT</span>
<span class="syntax-interned-symbol">this-is-a-constant</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">NEVER-CHANGING</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">this-is-a-constant</span></span> <span class="syntax-quote">'<a class="symbol-reference" href="chapter-25.xhtml#symbol-variable">variable</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"for a test"</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-constantp">constantp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">this-is-a-constant</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
</span></code></pre><br/>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="chapter-3.xhtml#macro-declaim">declaim</a>,
<a class="macro-reference" href="#macro-defparameter">defparameter</a>, 
<a class="macro-reference" href="#macro-defvar">defvar</a>,
<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="function-reference" href="chapter-3.xhtml#function-proclaim">proclaim</a>,
<a class="section-reference" href="chapter-3.xhtml#section-ConstantVars">Constant Variables</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Compilation">Compilation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-defparameter"><div class="header"><span class="left"><span class="name" id="macro-defparameter">defparameter</span>, <span class="name" id="macro-defvar">defvar</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">defparameter</span>&nbsp;<span class="lambda-list">name         initial-value <span class="explicit-roman">[</span>documentation<span class="explicit-roman">]</span> </span>&nbsp;→&nbsp;<span class="return-values">name</span></span><br/>
<span class="function-definition"><span class="name">defvar</span>&nbsp;<span class="lambda-list">name <span class="explicit-mono">[</span>initial-value <span class="explicit-roman">[</span>documentation<span class="explicit-roman">]</span><span class="explicit-mono">]</span></span>&nbsp;→&nbsp;<span class="return-values">name</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>; not evaluated.<br/><span class="issue-annotation"><a class="issue-reference" href="issues/defvar-init-time.xhtml#issue-defvar-init-time:not-delayed">X3J13 Issue DEFVAR-INIT-TIME:NOT-DELAYED</a></span>
<span class="parameter">initial-value</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; 
     for <a class="macro-reference" href="#macro-defparameter">defparameter</a>, it is always <span class="glossary-reference error">glossary:evaluated</span>,
 but for <a class="macro-reference" href="#macro-defvar">defvar</a> it is <span class="glossary-reference error">glossary:evaluated</span> 
     only if <span class="parameter">name</span> is not already <a class="glossary-reference" href="chapter-26.xhtml#glossary-bound">bound</a>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/defvar-documentation.xhtml#issue-defvar-documentation:unevaluated">X3J13 Issue DEFVAR-DOCUMENTATION:UNEVALUATED</a><span class="parameter">documentation</span>&mdash;a <span class="parameter">string</span>; not evaluated.
</div>
</dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-defparameter">defparameter</a> and <a class="macro-reference" href="#macro-defvar">defvar</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">establish</a> <span class="parameter">name</span> 
as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a>.<br/><a class="macro-reference" href="#macro-defparameter">defparameter</a> unconditionally
<a class="glossary-reference" href="chapter-26.xhtml#glossary-assign">assigns</a> the <span class="parameter">initial-value</span> to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a> named <span class="parameter">name</span>.
<a class="macro-reference" href="#macro-defvar">defvar</a>, by contrast, <a class="glossary-reference" href="chapter-26.xhtml#glossary-assign">assigns</a> <span class="parameter">initial-value</span> (if supplied) 
to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a> named <span class="parameter">name</span> 
only if <span class="parameter">name</span> is not already <a class="glossary-reference" href="chapter-26.xhtml#glossary-bound">bound</a>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/defvar-initialization.xhtml#issue-defvar-initialization:conservative">X3J13 Issue DEFVAR-INITIALIZATION:CONSERVATIVE</a>If no <span class="parameter">initial-value</span> is supplied,
<a class="macro-reference" href="#macro-defvar">defvar</a> leaves the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value cell">value cell</a> of 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a> named <span class="parameter">name</span> undisturbed;
    if <span class="parameter">name</span> was previously <a class="glossary-reference" href="chapter-26.xhtml#glossary-bound">bound</a>, its old <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> persists,
and if it was previously <a class="glossary-reference" href="chapter-26.xhtml#glossary-unbound">unbound</a>, it remains <a class="glossary-reference" href="chapter-26.xhtml#glossary-unbound">unbound</a>.
</div>
If <span class="parameter">documentation</span> is supplied, it is attached to <span class="parameter">name</span> as a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a> of kind <a class="symbol-reference" href="chapter-25.xhtml#symbol-variable">variable</a>. <br/><span class="issue-annotation"><span class="issue-reference error">issue:DEFINING-MACROS-NON-TOP-LEVEL</span><a class="macro-reference" href="#macro-defparameter">defparameter</a> and <a class="macro-reference" href="#macro-defvar">defvar</a> normally appear as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>, 
but it is meaningful for them to appear as <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-top-level form">non-top-level forms</a>.  However,
the compile-time side effects described below only take place when
they appear as <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level forms</a>.
</span>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defparameter">defparameter</a> <span class="syntax-interned-symbol">*p*</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">*P*</span>
 <span class="syntax-interned-symbol">*p*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-constantp">constantp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">*p*</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">*p*</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defparameter">defparameter</a> <span class="syntax-interned-symbol">*p*</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">*P*</span>
 <span class="syntax-interned-symbol">*p*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>

 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*v*</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">*V*</span>
 <span class="syntax-interned-symbol">*v*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-constantp">constantp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">*v*</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">*v*</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*v*</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">*V*</span>
 <span class="syntax-interned-symbol">*v*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>

 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-symbol">()</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">*p*</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">p</span></span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">*v*</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">v</span></span>)</span>)</span>
     <span class="syntax-cons">(<span class="syntax-interned-symbol">bar</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">FOO</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">bar</span> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">*p*</span> <span class="syntax-interned-symbol">*v*</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">BAR</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">foo</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">P</span> <span class="syntax-interned-symbol">V</span>)</span>
</span></code></pre><br/>The principal operational distinction between <a class="macro-reference" href="#macro-defparameter">defparameter</a> and <a class="macro-reference" href="#macro-defvar">defvar</a>
is that <a class="macro-reference" href="#macro-defparameter">defparameter</a> makes an unconditional assignment to <span class="parameter">name</span>,
while <a class="macro-reference" href="#macro-defvar">defvar</a> makes a conditional one.  In practice, this means that
<a class="macro-reference" href="#macro-defparameter">defparameter</a> is useful in situations where loading or reloading the definition
would want to pick up a new value of the variable, while <a class="macro-reference" href="#macro-defvar">defvar</a> is used in
situations where the old value would want to be retained if the file were loaded or reloaded.
For example, one might create a file which contained:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*the-interesting-numbers*</span> <span class="syntax-quote">'<span class="syntax-symbol">()</span></span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">define-interesting-number</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">name</span> <span class="syntax-interned-symbol">n</span>)</span>
  <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defvar">defvar</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">n</span></span>)</span>
          <span class="syntax-cons">(<a class="macro-reference" href="chapter-14.xhtml#macro-pushnew">pushnew</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span> <span class="syntax-interned-symbol">*the-interesting-numbers*</span>)</span>
          <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span>)</span></span>)</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">define-interesting-number</span> <span class="syntax-interned-symbol">*my-height*</span> <span class="syntax-number">168</span>)</span> ;cm
<span class="syntax-cons">(<span class="syntax-interned-symbol">define-interesting-number</span> <span class="syntax-interned-symbol">*my-weight*</span> <span class="syntax-number">13</span>)</span>  ;stones
</span></code></pre><br/>Here the initial value, <code><span class="syntax-root"><span class="syntax-symbol">()</span>
</span></code>, for the variable <code><span class="syntax-root"><span class="syntax-interned-symbol">*the-interesting-numbers*</span>
</span></code>
is just a seed that we are never likely to want to reset to something else
once something has been grown from it.  As such, we have used <a class="macro-reference" href="#macro-defvar">defvar</a> 
to avoid having the <code><span class="syntax-root"><span class="syntax-interned-symbol">*interesting-numbers*</span>
</span></code> information reset if the file is
loaded a second time.  It is true that the two calls to
<span class="macro-reference error">macro:define-interesting-number</span> here would be reprocessed, but
if there were additional calls in another file, they would not be and that 
information would be lost.  On the other hand, consider the following code:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defparameter">defparameter</a> <span class="syntax-interned-symbol">*default-beep-count*</span> <span class="syntax-number">3</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">beep</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span> <span class="syntax-interned-symbol">*default-beep-count*</span>)</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dotimes">dotimes</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">si:%beep</span> <span class="syntax-number">1000.</span> <span class="syntax-number">100000.</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-sleep">sleep</a> <span class="syntax-number">0.1</span>)</span>)</span>)</span>
</span></code></pre><br/>Here we could easily imagine editing the code to change the initial value of
<code><span class="syntax-root"><span class="syntax-interned-symbol">*default-beep-count*</span>
</span></code>, and then reloading the file to pick up the new value.
In order to make value updating easy, we have used <a class="macro-reference" href="#macro-defparameter">defparameter</a>.<br/>On the other hand, there is potential value to using <a class="macro-reference" href="#macro-defvar">defvar</a> in this
situation.  For example, suppose that someone had predefined an alternate
value for <code><span class="syntax-root"><span class="syntax-interned-symbol">*default-beep-count*</span>
</span></code>, or had loaded the file and then manually
changed the value.  In both cases, if we had used <a class="macro-reference" href="#macro-defvar">defvar</a> instead of
<a class="macro-reference" href="#macro-defparameter">defparameter</a>, those user preferences would not be overridden by
(re)loading the file.<br/>The choice of whether to use <a class="macro-reference" href="#macro-defparameter">defparameter</a> or <a class="macro-reference" href="#macro-defvar">defvar</a> has
visible consequences to programs, but is nevertheless often made for subjective
reasons.<br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><div class="issue-annotation"><span class="issue-reference error">issue:COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS</span>If a <a class="macro-reference" href="#macro-defvar">defvar</a> or <a class="macro-reference" href="#macro-defparameter">defparameter</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must recognize that the <span class="parameter">name</span> has been
proclaimed <a class="declaration-reference" href="chapter-3.xhtml#declaration-special">special</a>.  However, it must neither <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">evaluate</a> 
the <span class="parameter">initial-value</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> nor <a class="glossary-reference" href="chapter-26.xhtml#glossary-assign">assign</a> the 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a> named <span class="parameter">name</span> at compile time.
</div>
There may be additional (<a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-defined">implementation-defined</a>) compile-time or 
run-time side effects, as long as such effects do not interfere with the
correct operation of <a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming program">conforming programs</a>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><a class="macro-reference" href="#macro-defvar">defvar</a> is affected by whether <span class="parameter">name</span> is already <a class="glossary-reference" href="chapter-26.xhtml#glossary-bound">bound</a>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="chapter-3.xhtml#macro-declaim">declaim</a>,
<a class="macro-reference" href="#macro-defconstant">defconstant</a>,
<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Compilation">Compilation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>It is customary to name <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variables</a> with an <a class="glossary-reference" href="chapter-26.xhtml#glossary-asterisk">asterisk</a>
at the beginning and end of the name.  e.g., <code><span class="syntax-root"><span class="syntax-interned-symbol">*foo*</span>
</span></code> is a good name for
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a>, but not for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical variable">lexical variable</a>;
<code><span class="syntax-root"><span class="syntax-interned-symbol">foo</span>
</span></code> is a good name for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical variable">lexical variable</a>, 
but not for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a>.
This naming convention is observed for all <a class="glossary-reference" href="chapter-26.xhtml#glossary-defined name">defined names</a> in <span class="explicit-roman">Common Lisp</span>;
however, neither <a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming program">conforming programs</a> nor <a class="glossary-reference" href="chapter-26.xhtml#glossary-conforming implementation">conforming implementations</a>
are obliged to adhere to this convention.<br/>The intent of the permission for additional side effects is to allow
<a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementations</a> to do normal ``bookkeeping'' that accompanies
definitions.  For example, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro expansion">macro expansion</a> of a <a class="macro-reference" href="#macro-defvar">defvar</a>
or <a class="macro-reference" href="#macro-defparameter">defparameter</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> might include code that arranges to
record the name of the source file in which the definition occurs.<br/><a class="macro-reference" href="#macro-defparameter">defparameter</a> and <a class="macro-reference" href="#macro-defvar">defvar</a> might be defined as follows:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <a class="macro-reference" href="#macro-defparameter">defparameter</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">name</span> <span class="syntax-interned-symbol">initial-value</span> 
                        <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">documentation-p</span>)</span>)</span>
  <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-declaim">declaim</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span>)</span>)</span>
          <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span>)</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">initial-value</span></span>)</span>
          <span class="syntax-unquote">,<span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-interned-symbol">documentation-p</span>
             <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a> <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span> <span class="syntax-quote">'<a class="symbol-reference" href="chapter-25.xhtml#symbol-variable">variable</a></span>)</span> <span class="syntax-quote">'<span class="syntax-unquote">,<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a></span></span>)</span></span>)</span></span>
          <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span>)</span></span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <a class="macro-reference" href="#macro-defvar">defvar</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">name</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a>
                       <span class="syntax-cons">(<span class="syntax-interned-symbol">initial-value</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">initial-value-p</span>)</span>
                       <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">documentation-p</span>)</span>)</span>
  <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-declaim">declaim</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span>)</span>)</span>
          <span class="syntax-unquote">,<span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-interned-symbol">initial-value-p</span>
             <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-boundp">boundp</a> <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span>)</span>
                <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span>)</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">initial-value</span></span>)</span>)</span></span>)</span></span>
          <span class="syntax-unquote">,<span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-interned-symbol">documentation-p</span>
             <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a> <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span> <span class="syntax-quote">'<a class="symbol-reference" href="chapter-25.xhtml#symbol-variable">variable</a></span>)</span> <span class="syntax-quote">'<span class="syntax-unquote">,<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a></span></span>)</span></span>)</span></span>
          <span class="syntax-quote">'<span class="syntax-unquote">,<span class="syntax-interned-symbol">name</span></span></span>)</span></span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-destructuring-bind"><div class="header"><span class="left"><span class="name" id="macro-destructuring-bind">destructuring-bind</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span><div class="issue-annotation"><a class="issue-reference" href="issues/destructuring-bind.xhtml#issue-destructuring-bind:new-macro">X3J13 Issue DESTRUCTURING-BIND:NEW-MACRO</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">destructuring-bind</span>&nbsp;<span class="lambda-list">lambda-list expression <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">lambda-list</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-destructuring lambda list">destructuring lambda list</a>.<br/><span class="parameter">expression</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated. <br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-destructuring-bind">destructuring-bind</a> binds the variables specified in <span class="parameter">lambda-list</span>
to the corresponding values in the tree structure resulting from the evaluation 
of <span class="parameter">expression</span>; then <a class="macro-reference" href="#macro-destructuring-bind">destructuring-bind</a> evaluates <span class="parameter">forms</span>.<br/>

The <span class="parameter">lambda-list</span> supports destructuring as described in
<a class="section-reference" href="chapter-3.xhtml#section-DestructuringLambdaLists">Destructuring Lambda Lists</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">iota</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a> <span class="syntax-interned-symbol">for</span> <span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">from</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">to</span> <span class="syntax-interned-symbol">n</span> <span class="syntax-interned-symbol">collect</span> <span class="syntax-interned-symbol">i</span>)</span>)</span>       ;helper
<span class="syntax-cons">(<a class="macro-reference" href="#macro-destructuring-bind">destructuring-bind</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">bee</span></span>)</span>)</span> <span class="syntax-interned-symbol">one</span> <span class="syntax-interned-symbol">two</span> <span class="syntax-interned-symbol">three</span>)</span>
    <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">alpha</span>)</span> <span class="syntax-unquote">,@<span class="syntax-cons">(<span class="syntax-interned-symbol">iota</span> <span class="syntax-number">3</span>)</span></span>)</span></span>
  <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">three</span> <span class="syntax-interned-symbol">two</span> <span class="syntax-interned-symbol">one</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">ALPHA</span> <span class="syntax-interned-symbol">BEE</span> <span class="syntax-number">3</span> <span class="syntax-number">2</span> <span class="syntax-number">1</span>)</span>
</span></code></pre><br/> 
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>If the result of evaluating the <span class="parameter">expression</span> does not match the 
destructuring pattern, an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-9.xhtml#type-error">error</a> should be signaled. <br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-macrolet">macrolet</a>, <a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div></div>
</div><br/><br/><br/><div class="component" id="special-operator-let"><div class="header"><span class="left"><span class="name" id="special-operator-let">let</span>, <span class="name" id="special-operator-let*">let*</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span>
<dl><dt class="label">Syntax</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/variable-list-asymmetry.xhtml#issue-variable-list-asymmetry:symmetrize">X3J13 Issue VARIABLE-LIST-ASYMMETRY:SYMMETRIZE</a><span class="special-operator-definition"><span class="name">let</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span> | <span class="explicit-roman">(</span><span class="parameter">var</span> <span class="explicit-roman">[</span><span class="parameter">init-form</span><span class="explicit-roman">]</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><span class="special-operator-definition"><span class="name">let*</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span> | <span class="explicit-roman">(</span><span class="parameter">var</span> <span class="explicit-roman">[</span><span class="parameter">init-form</span><span class="explicit-roman">]</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/></div>
</dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">var</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>.<br/><span class="parameter">init-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-let">let</a> and <a class="special-operator-reference" href="#special-operator-let*">let*</a>
create new variable <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> and
execute a series of <span class="parameter">forms</span> that use these <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>.
<a class="special-operator-reference" href="#special-operator-let">let</a> performs the <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> in parallel and 
<a class="special-operator-reference" href="#special-operator-let*">let*</a> does them sequentially.<br/>
The form<br/><div class="issue-annotation"><span class="issue-reference error">issue:KMP-COMMENTS-ON-SANDRA-COMMENTS</span><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="parameter">var1</span> <span class="parameter">init-form-1</span>)</span>
      <span class="syntax-cons">(<span class="parameter">var2</span> <span class="parameter">init-form-2</span>)</span>
      <span class="syntax-interned-symbol">...</span>
      <span class="syntax-cons">(<span class="parameter">varm</span> <span class="parameter">init-form-m</span>)</span>)</span>
  <span class="parameter">declaration1</span>
  <span class="parameter">declaration2</span>
  <span class="syntax-interned-symbol">...</span>
  <span class="parameter">declarationp</span>
  <span class="parameter">form1</span>
  <span class="parameter">form2</span>
  <span class="syntax-interned-symbol">...</span>
  <span class="parameter">formn</span>)</span>
</span></code></pre>
first evaluates the expressions <span class="parameter">init-form-1</span>, <span class="parameter">init-form-2</span>, and so on,
</div>in that order, saving the resulting values.
Then all of the variables <span class="parameter">varj</span> are bound to the corresponding
values; each <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> is lexical unless
there is a <a class="declaration-reference" href="chapter-3.xhtml#declaration-special">special</a> declaration to the contrary.
The expressions <span class="parameter">formk</span> are then evaluated
in order; the values of all but the last are discarded
(that is, the body of a <a class="special-operator-reference" href="#special-operator-let">let</a> 
is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>).<br/>
<a class="special-operator-reference" href="#special-operator-let*">let*</a>
is similar to <a class="special-operator-reference" href="#special-operator-let">let</a>, but the <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> of variables
are performed sequentially rather than in parallel.  
The expression for the <span class="parameter">init-form</span> of a 
<span class="parameter">var</span> can refer to <span class="parameter">vars</span>
previously bound in the <a class="special-operator-reference" href="#special-operator-let*">let*</a>.<br/>The form<br/><div class="issue-annotation"><span class="issue-reference error">issue:KMP-COMMENTS-ON-SANDRA-COMMENTS</span><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let*">let*</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="parameter">var1</span> <span class="parameter">init-form-1</span>)</span>
       <span class="syntax-cons">(<span class="parameter">var2</span> <span class="parameter">init-form-2</span>)</span>
       <span class="syntax-interned-symbol">...</span>
       <span class="syntax-cons">(<span class="parameter">varm</span> <span class="parameter">init-form-m</span>)</span>)</span>
  <span class="parameter">declaration1</span>
  <span class="parameter">declaration2</span>
  <span class="syntax-interned-symbol">...</span>
  <span class="parameter">declarationp</span>
  <span class="parameter">form1</span>
  <span class="parameter">form2</span>
  <span class="syntax-interned-symbol">...</span>
  <span class="parameter">formn</span>)</span>
</span></code></pre>
first evaluates the expression <span class="parameter">init-form-1</span>, then binds the variable
<span class="parameter">var1</span> to that value; then it evaluates <span class="parameter">init-form-2</span> and binds 
</div><span class="parameter">var2</span>, and so on.
The expressions <span class="parameter">formj</span> are then evaluated
in order; the values of all but the last are discarded
(that is, the body of <a class="special-operator-reference" href="#special-operator-let*">let*</a> is an implicit <a class="special-operator-reference" href="#special-operator-progn">progn</a>).<br/>For both <a class="special-operator-reference" href="#special-operator-let">let</a> and <a class="special-operator-reference" href="#special-operator-let*">let*</a>,
if there is not an <span class="parameter">init-form</span> associated with a <span class="parameter">var</span>,
<span class="parameter">var</span> is initialized to <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.  <br/>
The special form <a class="special-operator-reference" href="#special-operator-let">let</a> 
has the property that the <a class="glossary-reference" href="chapter-26.xhtml#glossary-scope">scope</a> 
of the name binding does not include any
initial value form.
For <a class="special-operator-reference" href="#special-operator-let*">let*</a>, a variable's <a class="glossary-reference" href="chapter-26.xhtml#glossary-scope">scope</a> also includes the 
     remaining initial value forms for subsequent variable bindings.<br/>


</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">top</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">TOP</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-symbol">()</span> <span class="syntax-interned-symbol">a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">DUMMY-FUNCTION</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">inside</span></span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-string">"~S ~S ~S"</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"INSIDE TOP TOP"</span> 
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let*">let*</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">inside</span></span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-string">"~S ~S ~S"</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"INSIDE INSIDE TOP"</span> 
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">inside</span></span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">a</span>)</span>)</span>
   <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-interned-symbol">a</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-string">"~S ~S ~S"</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-string">"INSIDE TOP INSIDE"</span>
</span></code></pre><br/>
The code<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
  <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-gcd">gcd</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">z</span>)</span>)</span>
  <span class="syntax-interned-symbol">...</span>)</span>
</span></code></pre>
is incorrect; although <code><span class="syntax-root"><span class="syntax-interned-symbol">x</span>
</span></code> is indeed set before it is used,
and is set to a value of the declared type <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>, nevertheless
<code><span class="syntax-root"><span class="syntax-interned-symbol">x</span>
</span></code> initially takes on the value <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> in violation of the type
declaration.<br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-progv">progv</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="special-operator-progv"><div class="header"><span class="left"><span class="name" id="special-operator-progv">progv</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">progv</span>&nbsp;<span class="lambda-list"><span class="parameter">symbols</span> <span class="parameter">values</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">symbols</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a>; evaluated.<br/><span class="parameter">values</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>; evaluated.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-progv">progv</a> creates new dynamic variable <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> and
executes each <span class="parameter">form</span> using those <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>.
Each <span class="parameter">form</span> is evaluated in  order.<br/><a class="special-operator-reference" href="#special-operator-progv">progv</a> allows <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> one or more dynamic
variables whose names may be determined at run time.  
Each <span class="parameter">form</span> is evaluated in order 
with the dynamic variables whose names are in 
<span class="parameter">symbols</span> bound to corresponding <span class="parameter">values</span>.
If too few <span class="parameter">values</span> 
are supplied, the remaining <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> are bound and then
made to have no value. If too many <span class="parameter">values</span> are
supplied, the excess values are ignored.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> of the dynamic variables are undone on
exit from <a class="special-operator-reference" href="#special-operator-progv">progv</a>. <br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">*x*</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progv">progv</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">*x*</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">2</span>)</span></span> <span class="syntax-interned-symbol">*x*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-interned-symbol">*x*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>

<span class="syntax-interned-symbol">Assuming</span> <span class="syntax-interned-symbol">*x*</span> <span class="syntax-interned-symbol">is</span> <a class="function-reference" href="#function-not">not</a> <span class="syntax-interned-symbol">globally</span> <a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a><span class="syntax-verbatim">,</span>

 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">*x*</span> <span class="syntax-number">3</span>)</span>)</span> 
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progv">progv</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">*x*</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">4</span>)</span></span> 
      <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">*x*</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">*x*</span></span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-let">let</a>, <a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Among other things, <a class="special-operator-reference" href="#special-operator-progv">progv</a> is useful when writing 
interpreters for languages embedded in <span class="explicit-roman">Lisp</span>; it provides a handle
on the mechanism for <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variables</a>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-setq"><div class="header"><span class="left"><span class="name" id="special-operator-setq">setq</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">setq</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">pair</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">result</span></span><br/><br/><tr><td>pair</td><td>::=</td><td>var form</td></tr><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Pronunciation</dt><dd><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi>\hbox<span class="explicit-bold"> <math xmlns="http://www.w3.org/1998/Math/MathML"/><msup><mrow></mrow><mo><math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/></mo></msup><math xmlns="http://www.w3.org/1998/Math/MathML"/>set<math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ky"u</span><mi>]</mi></math><br/></dd></dl></div><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">var</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> naming a <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variable</a> other than a <a class="glossary-reference" href="chapter-26.xhtml#glossary-constant variable">constant variable</a>.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">result</span>&mdash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> of the last <span class="parameter">form</span>,
		 or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if no <span class="parameter">pairs</span> were supplied.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Assigns values to <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variables</a>.<br/><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="explicit-italic"> var1</span> <span class="explicit-italic"> form1</span> <span class="explicit-italic"> var2</span> <span class="explicit-italic"> form2</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code>
is the simple variable assignment statement of <span class="explicit-roman">Lisp</span>.
First <span class="parameter">form1</span> is evaluated
and the result is stored in the variable <span class="parameter">var1</span>, then <span class="parameter">form2</span>
is evaluated and the result stored in <span class="parameter">var2</span>, and so forth.
<a class="special-operator-reference" href="#special-operator-setq">setq</a> may be used for assignment of both lexical
and dynamic variables.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/symbol-macrolet-semantics.xhtml#issue-symbol-macrolet-semantics:special-form">X3J13 Issue SYMBOL-MACROLET-SEMANTICS:SPECIAL-FORM</a>If any <span class="parameter">var</span> refers to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> 
made by <a class="special-operator-reference" href="chapter-3.xhtml#special-operator-symbol-macrolet">symbol-macrolet</a>,
then that <span class="parameter">var</span> is treated as if <a class="macro-reference" href="#macro-setf">setf</a>
(not <a class="special-operator-reference" href="#special-operator-setq">setq</a>) had been used.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> ;; A simple use of SETQ to establish values for variables.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>

 ;; Use of SETQ to update values by sequential assignment.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">7</span>
 <span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
 <span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">7</span>

 ;; This illustrates the use of SETQ on a symbol macro.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">10</span> <span class="syntax-number">20</span> <span class="syntax-number">30</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-symbol-macrolet">symbol-macrolet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">z</span>)</span> <span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">y</span>)</span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">z</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-number">21</span> <span class="syntax-number">22</span> <span class="syntax-number">30</span>)</span> <span class="syntax-number">21</span> <span class="syntax-number">22</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> of each <span class="parameter">form</span> is assigned to the corresponding <span class="parameter">var</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-psetq">psetq</a>,
<a class="function-reference" href="chapter-10.xhtml#function-set">set</a>,
<a class="macro-reference" href="#macro-setf">setf</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-psetq"><div class="header"><span class="left"><span class="name" id="macro-psetq">psetq</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">psetq</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">pair</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a></span></span><br/><br/><tr><td>pair</td><td>::=</td><td>var form</td></tr><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Pronunciation</dt><dd><a class="macro-reference" href="#macro-psetq">psetq</a>: <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi>\hbox<span class="explicit-bold"> <math xmlns="http://www.w3.org/1998/Math/MathML"/>|<span class="error">unexpanded non-math macro: (:OTHER-COMMAND-APPLICATION (# #) :OUTPUT-FILE
                            "chapter-5" :NAME "kern" :BOUNDS (12488 . 12498))</span><msup><mrow></mrow><mo>|</mo></msup><math xmlns="http://www.w3.org/1998/Math/MathML"/>p=e<math xmlns="http://www.w3.org/1998/Math/MathML"/><msup><mrow></mrow><mo><math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/></mo></msup><math xmlns="http://www.w3.org/1998/Math/MathML"/>set<math xmlns="http://www.w3.org/1998/Math/MathML"/>|<math xmlns="http://www.w3.org/1998/Math/MathML"/>ky"u</span><mi>]</mi></math><br/></dd></dl></div><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">var</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> naming a <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variable</a> other than a <a class="glossary-reference" href="chapter-26.xhtml#glossary-constant variable">constant variable</a>.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Assigns values to <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variables</a>.<br/>This is just like <a class="special-operator-reference" href="#special-operator-setq">setq</a>, except that the assignments 
happen ``in parallel.''  That is, first all of the forms are
evaluated, and only then are the variables set to the resulting values.
In this way, the assignment to one variable does not affect the value
computation of another in the way that would occur with <a class="special-operator-reference" href="#special-operator-setq">setq</a>'s 
sequential assignment.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/symbol-macrolet-semantics.xhtml#issue-symbol-macrolet-semantics:special-form">X3J13 Issue SYMBOL-MACROLET-SEMANTICS:SPECIAL-FORM</a>If any <span class="parameter">var</span> refers to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> 
made by <a class="special-operator-reference" href="chapter-3.xhtml#special-operator-symbol-macrolet">symbol-macrolet</a>,
then that <span class="parameter">var</span> is treated as if <a class="macro-reference" href="#macro-psetf">psetf</a> (not <a class="macro-reference" href="#macro-psetq">psetq</a>)
had been used.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> ;; A simple use of PSETQ to establish values for variables.
 ;; As a matter of style, many programmers would prefer SETQ 
 ;; in a simple situation like this where parallel assignment
 ;; is not needed, but the two have equivalent effect.
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-psetq">psetq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>

 ;; Use of PSETQ to update values by parallel assignment.
 ;; The effect here is very different than if SETQ had been used.
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-psetq">psetq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>

 ;; Use of PSETQ on a symbol macro.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">10</span> <span class="syntax-number">20</span> <span class="syntax-number">30</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-symbol-macrolet">symbol-macrolet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
     <span class="syntax-cons">(<a class="macro-reference" href="#macro-psetq">psetq</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">z</span>)</span> <span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">y</span>)</span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">z</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-number">21</span> <span class="syntax-number">11</span> <span class="syntax-number">30</span>)</span> <span class="syntax-number">21</span> <span class="syntax-number">11</span>)</span>

 ;; Use of parallel assignment to swap values of A and B.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-number">2</span>)</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-psetq">psetq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>  <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">a</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <span class="syntax-number">1</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>The values of <span class="parameter">forms</span> are assigned to <span class="parameter">vars</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-psetf">psetf</a>,
<a class="special-operator-reference" href="#special-operator-setq">setq</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/>
<br/><div class="component" id="special-operator-block"><div class="header"><span class="left"><span class="name" id="special-operator-block">block</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">block</span>&nbsp;<span class="lambda-list"><span class="parameter">name</span> <span class="parameter">form</span><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> if a <a class="glossary-reference" href="chapter-26.xhtml#glossary-normal return">normal return</a> occurs,
   or else, if an <a class="glossary-reference" href="chapter-26.xhtml#glossary-explicit return">explicit return</a> occurs, the <span class="glossary-reference error">glossary:values</span> that were transferred.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-block">block</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">establishes</a> a <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> named <span class="parameter">name</span>
and then evaluates <span class="parameter">forms</span> as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/>
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-special operator">special operators</a> <a class="special-operator-reference" href="#special-operator-block">block</a> and <a class="special-operator-reference" href="#special-operator-return-from">return-from</a> work together to
provide a structured, lexical, non-local exit facility.  At any point lexically
contained within <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>, <a class="special-operator-reference" href="#special-operator-return-from">return-from</a> can be used with the
given <span class="parameter">name</span> to return control and values from the <a class="special-operator-reference" href="#special-operator-block">block</a> 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>, except when an intervening <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> with the same name
has been <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">established</a>, in which case the outer <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> is 
shadowed by the inner one.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> named <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">name</a> has
<a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical scope">lexical scope</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic extent">dynamic extent</a>.  <br/>
Once established, a <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> may only be exited once, 
whether by <a class="glossary-reference" href="chapter-26.xhtml#glossary-normal return">normal return</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-explicit return">explicit return</a>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">empty</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">whocares</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span><span class="syntax-verbatim">,</span> <span class="syntax-number">4</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">1</span>)</span>)</span> 
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">stop</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">stop</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">3</span>)</span>)</span>
  <span class="syntax-interned-symbol">x</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">early</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">early</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">outer</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">inner</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">outer</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">twin</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">twin</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">twin</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
;; Contrast behavior of this example with corresponding example of CATCH.
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">b</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">b1</span> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">1</span>)</span>)</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">unreachable</span></span>)</span>)</span>
    <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.                                    <br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-return">return</a>, <a class="special-operator-reference" href="#special-operator-return-from">return-from</a>, <a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd/></dl></div></div><br/><br/><br/><div class="component" id="special-operator-catch"><div class="header"><span class="left"><span class="name" id="special-operator-catch">catch</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">catch</span>&nbsp;<span class="lambda-list"><span class="parameter">tag</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">tag</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-catch tag">catch tag</a>; evaluated.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;if the <span class="parameter">forms</span> exit normally,
	           the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">forms</span>;
		  if a throw occurs to the <span class="parameter">tag</span>,
		   the <span class="glossary-reference error">glossary:values</span> that are thrown.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-catch">catch</a> is used as the destination of a non-local 
control transfer by <a class="special-operator-reference" href="#special-operator-throw">throw</a>.
<span class="parameter">Tags</span> are used to find the <a class="special-operator-reference" href="#special-operator-catch">catch</a>
to which a <a class="special-operator-reference" href="#special-operator-throw">throw</a> is transferring control.
<code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="explicit-italic"> form</span>)</span>
</span></code> catches a 
<code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="explicit-italic"> form</span>)</span>
</span></code> but not a
<code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span> <span class="explicit-italic"> form</span>)</span>
</span></code>.<br/>The order of execution of <a class="special-operator-reference" href="#special-operator-catch">catch</a> follows:<a id="index/text-order of evaluation"></a><a id="index/text-evaluation order"></a><br/><ol><li><span class="parameter">Tag</span> is evaluated.
It serves as the name of the
<a class="special-operator-reference" href="#special-operator-catch">catch</a>.  <br/></li><li><span class="parameter">Forms</span> are then evaluated as an implicit <a class="special-operator-reference" href="#special-operator-progn">progn</a>,
and the results of the last <span class="parameter">form</span> are returned unless a 
<a class="special-operator-reference" href="#special-operator-throw">throw</a> occurs.<br/></li><li>If a <a class="special-operator-reference" href="#special-operator-throw">throw</a> occurs 
during the execution of one of the <span class="parameter">forms</span>, control
is transferred  to the <a class="special-operator-reference" href="#special-operator-catch">catch</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> whose <span class="parameter">tag</span> 
is <a class="function-reference" href="#function-eq">eq</a> to
the tag argument of the <a class="special-operator-reference" href="#special-operator-throw">throw</a>
and which is the most recently established <a class="special-operator-reference" href="#special-operator-catch">catch</a> with that 
<span class="parameter">tag</span>.
No further evaluation of <span class="parameter">forms</span> occurs.

</li><li>The <span class="parameter">tag</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">established</a> 
by <a class="special-operator-reference" href="#special-operator-catch">catch</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-disestablish">disestablished</a>
just before the results are returned.<br/></li></ol><br/>If during the execution of one of the <span class="parameter">forms</span>, a <a class="special-operator-reference" href="#special-operator-throw">throw</a>
is executed whose tag is <a class="function-reference" href="#function-eq">eq</a> to the <a class="special-operator-reference" href="#special-operator-catch">catch</a> tag, 
then the values specified by the <a class="special-operator-reference" href="#special-operator-throw">throw</a> are
returned as the result of the dynamically most recently established
<a class="special-operator-reference" href="#special-operator-catch">catch</a> form with that tag.

The mechanism for <a class="special-operator-reference" href="#special-operator-catch">catch</a> and <a class="special-operator-reference" href="#special-operator-throw">throw</a> works even
if <a class="special-operator-reference" href="#special-operator-throw">throw</a> is not within the lexical scope of <a class="special-operator-reference" href="#special-operator-catch">catch</a>.
<a class="special-operator-reference" href="#special-operator-throw">throw</a> must occur within the <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic extent">dynamic extent</a> 
of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of the body of a <a class="special-operator-reference" href="#special-operator-catch">catch</a> with a corresponding <span class="parameter">tag</span>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-tag</span></span> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-tag</span></span> <span class="syntax-number">3</span>)</span> <span class="syntax-number">4</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-tag</span></span> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">throw-back</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">tag</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-interned-symbol">tag</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">THROW-BACK</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-tag</span></span> <span class="syntax-cons">(<span class="syntax-interned-symbol">throw-back</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy-tag</span></span>)</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>

 ;; Contrast behavior of this example with corresponding example of BLOCK.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">c1</span> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-number">1</span>)</span>)</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-cons">(<span class="syntax-interned-symbol">c1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">unreachable</span></span>)</span>)</span>
     <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>. 
</dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>An error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-control-error">control-error</a> is signaled
if <a class="special-operator-reference" href="#special-operator-throw">throw</a> is done
when there is no suitable <a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="parameter">tag</span>. 
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-throw">throw</a>, <a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>It is customary for <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> to be used
as <span class="parameter">tags</span>, but any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> is permitted.  
However, numbers should not be
used because the comparison is done using <a class="function-reference" href="#function-eq">eq</a>.<br/><a class="special-operator-reference" href="#special-operator-catch">catch</a> differs from <a class="special-operator-reference" href="#special-operator-block">block</a> in that 
<a class="special-operator-reference" href="#special-operator-catch">catch</a>
tags have dynamic <a class="glossary-reference" href="chapter-26.xhtml#glossary-scope">scope</a> while 
<a class="special-operator-reference" href="#special-operator-block">block</a> names have <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical scope">lexical scope</a>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-go"><div class="header"><span class="left"><span class="name" id="special-operator-go">go</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">go</span>&nbsp;<span class="lambda-list">tag</span>&nbsp;→&nbsp;|</span><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">tag</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-go tag">go tag</a>.

</dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-go">go</a> transfers control to the point in the body 
of an enclosing <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> form labeled by a
tag <a class="function-reference" href="#function-eql">eql</a> to <span class="parameter">tag</span>.  
If there is no such <span class="parameter">tag</span>  in the body, the
bodies of lexically containing <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>
(if any) are examined as well.
If several tags are <a class="function-reference" href="#function-eql">eql</a> 
to <span class="parameter">tag</span>, control is transferred to
whichever matching <span class="parameter">tag</span> 
is contained in the innermost <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> form that
contains the <a class="special-operator-reference" href="#special-operator-go">go</a>.
The consequences are undefined
if there is no matching <span class="parameter">tag</span> lexically visible
to the point of the <a class="special-operator-reference" href="#special-operator-go">go</a>.<br/>
The transfer of control initiated by <a class="special-operator-reference" href="#special-operator-go">go</a> is performed
as described in <a class="section-reference" href="#section-TransferOfControl">Transfer of Control to an Exit Point</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">2</span>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">lp</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">3</span>)</span>
  <span class="syntax-interned-symbol">lp</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">4</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-interned-symbol">val</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">6</span> 
</span></code></pre><br/> <br/><div class="issue-annotation"><a class="issue-reference" href="issues/exit-extent.xhtml#issue-exit-extent:minimal">X3J13 Issue EXIT-EXTENT:MINIMAL</a>
The following is in error because there is a normal exit 
of the <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> before the 
<a class="special-operator-reference" href="#special-operator-go">go</a> is executed.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span> 
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>)</span></span>)</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-interned-symbol">a</span>)</span>)</span>
</span></code></pre><br/>The following is in error because the <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> is passed over
before the <a class="special-operator-reference" href="#special-operator-go">go</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> is executed.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>
           <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">a</span>)</span>)</span></span>)</span>)</span>)</span>)</span>
</span></code></pre></div>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/>
</dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-return-from"><div class="header"><span class="left"><span class="name" id="special-operator-return-from">return-from</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">return-from</span>&nbsp;<span class="lambda-list"><span class="parameter">name</span> <span class="explicit-roman">[</span><span class="parameter">result</span><span class="explicit-roman">]</span></span>&nbsp;→&nbsp;|</span><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-block tag">block tag</a>; not evaluated.<br/><span class="parameter">result</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated.
  The default is <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns control and <a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub> from a lexically enclosing <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a>.<br/>A <a class="special-operator-reference" href="#special-operator-block">block</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> named <span class="parameter">name</span> must lexically enclose
the occurrence of <a class="special-operator-reference" href="#special-operator-return-from">return-from</a>;  any <span class="glossary-reference error">glossary:values</span> <span class="glossary-reference error">glossary:yielded</span>
by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <span class="parameter">result</span> are immediately returned from
the innermost such lexically enclosing <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a>.<br/>
The transfer of control initiated by <a class="special-operator-reference" href="#special-operator-return-from">return-from</a> is performed
as described in <a class="section-reference" href="#section-TransferOfControl">Transfer of Control to an Exit Point</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/exit-extent.xhtml#issue-exit-extent:minimal">X3J13 Issue EXIT-EXTENT:MINIMAL</a><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">alpha</span>)</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-number">1</span>)</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span>)</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">0</span>)</span>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dotimes">dotimes</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">i</span> <span class="syntax-number">10</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">i</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a>)</span>)</span>)</span>
    <span class="syntax-interned-symbol">a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">dummy</span></span>)</span>)</span>
    <span class="syntax-number">44</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">TEMP</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">temp</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">44</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">temp</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">DUMMY</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">out</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">exit</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">out</span> <span class="syntax-interned-symbol">n</span>)</span>)</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">out</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">exit</span> <span class="syntax-number">1</span>)</span>)</span>)</span>
   <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>   
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">1</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">2</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">flag</span> <span class="syntax-quote">'<span class="syntax-cons">(<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span></span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">5</span>)</span>)</span>
       <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">here</span></span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 5
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> HERE
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 5
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> HERE
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">flag</span> <span class="syntax-quote">'<span class="syntax-cons">(<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span></span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">5</span>)</span>)</span>
       <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>
           <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">flag</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">here</span></span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 5
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> HERE
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 5
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> HERE
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre><br/>The following has undefined consequences because the <a class="special-operator-reference" href="#special-operator-block">block</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>
exits normally before the <a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> is attempted.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span></span>)</span>)</span> <span class="syntax-interned-symbol">is</span> <span class="syntax-interned-symbol">an</span> <span class="syntax-interned-symbol">error.</span>
</span></code></pre><br/></div>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-block">block</a>,
<a class="macro-reference" href="#macro-return">return</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-return"><div class="header"><span class="left"><span class="name" id="macro-return">return</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">return</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">[</span><span class="parameter">result</span><span class="explicit-roman">]</span></span>&nbsp;→&nbsp;|</span><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">result</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated.
  The default is <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns, as if by <a class="special-operator-reference" href="#special-operator-return-from">return-from</a>, from the <a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> named <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a>)</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-number">1</span>)</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span>)</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-number">1</span>)</span> <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">alpha</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-number">1</span>)</span> <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Conditions</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-block">block</a>,
<a class="special-operator-reference" href="#special-operator-return-from">return-from</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="parameter">form</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="parameter">form</span>)</span>
</span></code></pre><br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit block">implicit blocks</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-establish">established</a> by <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> such as <a class="macro-reference" href="chapter-6.xhtml#macro-do">do</a>
are often named <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>, so that <a class="macro-reference" href="#macro-return">return</a> can be used to exit from
such <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-tagbody"><div class="header"><span class="left"><span class="name" id="special-operator-tagbody">tagbody</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">tagbody</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">tag</span> | <span class="parameter">statement</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">tag</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-go tag">go tag</a>; not evaluated.<br/><span class="parameter">statement</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-compound form">compound form</a>; evaluated as described below.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Executes zero or more <span class="glossary-reference error">glossary:statements</span> in a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a>
that provides for control transfers to labels indicated by the <span class="parameter">tags</span>.<br/>The <span class="parameter">statements</span> in a <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> are <span class="glossary-reference error">glossary:evaluated</span> in order
from left to right, and their <span class="glossary-reference error">glossary:values</span> are discarded.  If at any time
there are no remaining <span class="parameter">statements</span>, <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.
However, if <code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="parameter">tag</span>)</span>
</span></code> is <span class="glossary-reference error">glossary:evaluated</span>, control jumps to the
part of the body labeled with the <span class="parameter">tag</span>.  (Tags are compared with <a class="function-reference" href="#function-eql">eql</a>.)<br/>A <span class="parameter">tag</span> established by <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> has <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical scope">lexical scope</a>
and has <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic extent">dynamic extent</a>.  Once <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> has been exited,
it is no longer valid to <a class="special-operator-reference" href="#special-operator-go">go</a> to a <span class="parameter">tag</span> in its body.
It is permissible for <a class="special-operator-reference" href="#special-operator-go">go</a> to jump to a <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> that is 
not the innermost <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> containing that <a class="special-operator-reference" href="#special-operator-go">go</a>;
the <span class="parameter">tags</span> established by a <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> only shadow
other <span class="parameter">tags</span> of like name.<br/><div class="issue-annotation"><span class="issue-reference error">issue:TAGBODY-TAG-EXPANSION</span>The determination of which elements of the body are <span class="parameter">tags</span> 
and which are <span class="parameter">statements</span> is made prior to any <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro expansion">macro expansion</a>
of that element.  If a <span class="parameter">statement</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro form">macro form</a> and
its <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro expansion">macro expansion</a> is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-atom">atom</a>, that <a class="glossary-reference" href="chapter-26.xhtml#glossary-atom">atom</a> is treated
as a <span class="parameter">statement</span>, not a <span class="parameter">tag</span>.
</div>

</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">val</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">1</span>)</span>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">point-a</span>)</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">16</span>)</span>
     <span class="syntax-interned-symbol">point-c</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">04</span>)</span>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">point-b</span>)</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">32</span>)</span>
     <span class="syntax-interned-symbol">point-a</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">02</span>)</span>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">point-c</span>)</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">64</span>)</span>
     <span class="syntax-interned-symbol">point-b</span>
      <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">val</span> <span class="syntax-number">08</span>)</span>)</span>
    <span class="syntax-interned-symbol">val</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">15</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">f1</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">flag</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">n</span> <span class="syntax-number">1</span>)</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> 
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">f2</span> <span class="syntax-interned-symbol">flag</span> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-symbol">()</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">out</span>)</span>)</span></span>)</span>)</span>
      <span class="syntax-interned-symbol">out</span>
       <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-interned-symbol">n</span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">F1</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">f2</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">flag</span> <span class="syntax-interned-symbol">escape</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">flag</span> <span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-interned-symbol">escape</span>)</span> <span class="syntax-number">2</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">F2</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">f1</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 2
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">f1</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 1
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-go">go</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> in Figure <span class="explicit-mono">()</span>&ndash; have <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit tagbody">implicit tagbodies</a>.<br/><span class="float" id="figure-Macros that have implicit tagbodies."><table><tbody><tr><td><a class="macro-reference" href="chapter-6.xhtml#macro-do">do</a></td><td><a class="macro-reference" href="chapter-11.xhtml#macro-do-external-symbols">do-external-symbols</a></td><td><a class="macro-reference" href="chapter-6.xhtml#macro-dotimes">dotimes</a></td></tr><tr><td><a class="macro-reference" href="chapter-6.xhtml#macro-do*">do*</a></td><td><a class="macro-reference" href="chapter-11.xhtml#macro-do-symbols">do-symbols</a></td><td><a class="macro-reference" href="#macro-prog">prog</a></td></tr><tr><td><a class="macro-reference" href="chapter-11.xhtml#macro-do-all-symbols">do-all-symbols</a></td><td><a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a></td><td><a class="macro-reference" href="#macro-prog*">prog*</a></td></tr></tbody></table><div class="caption">Macros that have implicit tagbodies.</div></span><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-throw"><div class="header"><span class="left"><span class="name" id="special-operator-throw">throw</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">throw</span>&nbsp;<span class="lambda-list">tag result-form</span>&nbsp;→&nbsp;|</span><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">tag</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-catch tag">catch tag</a>; evaluated.<br/><span class="parameter">result-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-throw">throw</a> causes a non-local control transfer
to a <a class="special-operator-reference" href="#special-operator-catch">catch</a> whose tag is <a class="function-reference" href="#function-eq">eq</a> to <span class="parameter">tag</span>. 

<span class="parameter">Tag</span> is evaluated first to produce an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>
called the throw tag; then <span class="parameter">result-form</span> is evaluated,
and its results are saved. If the <span class="parameter">result-form</span> produces
multiple values, then all the values are saved.
The most recent outstanding <a class="special-operator-reference" href="#special-operator-catch">catch</a> 
whose <span class="parameter">tag</span> is <a class="function-reference" href="#function-eq">eq</a> to the throw tag
is exited; the saved results are returned as the value or 
values of <a class="special-operator-reference" href="#special-operator-catch">catch</a>.<br/>
The transfer of control initiated by <a class="special-operator-reference" href="#special-operator-throw">throw</a> is performed
as described in <a class="section-reference" href="#section-TransferOfControl">Transfer of Control to an Exit Point</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">result</span></span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">i</span> <span class="syntax-number">0</span> <span class="syntax-interned-symbol">j</span> <span class="syntax-number">0</span>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">j</span> <span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">i</span>)</span>
          <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">i</span> <span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">result</span></span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">j</span>)</span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span><span class="syntax-verbatim">,</span> <span class="syntax-number">9</span>

</span></code></pre><br/><div class="issue-annotation"><a class="issue-reference" href="issues/exit-extent.xhtml#issue-exit-extent:minimal">X3J13 Issue EXIT-EXTENT:MINIMAL</a><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> 
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">1</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">2</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
</span></code></pre><br/>The consequences of the following are undefined 
because the <a class="special-operator-reference" href="#special-operator-catch">catch</a> of <code><span class="syntax-root"><span class="syntax-interned-symbol">b</span>
</span></code> 
is passed over by the first <a class="special-operator-reference" href="#special-operator-throw">throw</a>, 
hence portable programs must assume that 
its <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic extent">dynamic extent</a> is terminated. 
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-catch tag">catch tag</a> is not yet <a class="glossary-reference" href="chapter-26.xhtml#glossary-disestablish">disestablished</a>
and therefore it is the target of the second <a class="special-operator-reference" href="#special-operator-throw">throw</a>.

<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-number">1</span>)</span>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-number">2</span>)</span>)</span>)</span>)</span>
</span></code></pre><br/>The following prints ``<code><span class="syntax-root"><a class="special-operator-reference" href="chapter-3.xhtml#special-operator-the">The</a> <span class="syntax-interned-symbol">inner</span> <a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-interned-symbol">returns</span> <span class="syntax-keyword-symbol">:SECOND-THROW</span>
</span></code>''
and then returns <code><span class="syntax-root"><span class="syntax-keyword-symbol">:outer-catch</span>
</span></code>.<br/><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-string">"The inner catch returns ~s.~%"</span>
                 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>
                     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-keyword-symbol">:first-throw</span>)</span>
                         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-keyword-symbol">:second-throw</span>)</span>)</span>)</span>)</span>
         <span class="syntax-keyword-symbol">:outer-catch</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> The inner catch returns :SECOND-THROW
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-keyword-symbol">:OUTER-CATCH</span>
</span></code></pre><br/></div>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>If there is no outstanding <a class="glossary-reference" href="chapter-26.xhtml#glossary-catch tag">catch tag</a> that matches the throw tag,
no unwinding of the stack is performed,
and an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-control-error">control-error</a> is signaled.
When the error is signaled, 
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic environment">dynamic environment</a> is that which was
in force at the point of the <a class="special-operator-reference" href="#special-operator-throw">throw</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-block">block</a>,
<a class="special-operator-reference" href="#special-operator-catch">catch</a>,
<a class="special-operator-reference" href="#special-operator-return-from">return-from</a>,
<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="special-operator-reference" href="#special-operator-catch">catch</a> and <a class="special-operator-reference" href="#special-operator-throw">throw</a> are normally used when the <a class="glossary-reference" href="chapter-26.xhtml#glossary-exit point">exit point</a>
must have <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic scope">dynamic scope</a> (<span class="explicit-italic"> e.g.</span>,  the <a class="special-operator-reference" href="#special-operator-throw">throw</a> is not lexically enclosed
by the <a class="special-operator-reference" href="#special-operator-catch">catch</a>), while <a class="special-operator-reference" href="#special-operator-block">block</a> and <a class="macro-reference" href="#macro-return">return</a> are used
when <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical scope">lexical scope</a> is sufficient.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-unwind-protect"><div class="header"><span class="left"><span class="name" id="special-operator-unwind-protect">unwind-protect</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">unwind-protect</span>&nbsp;<span class="lambda-list"><span class="parameter">protected-form</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">cleanup-form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">protected-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">cleanup-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> of the <span class="glossary-reference error">glossary:protected-form</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> evaluates <span class="parameter">protected-form</span>
and guarantees that <span class="parameter">cleanup-forms</span> are executed
before <a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> exits,
whether it terminates
normally or is aborted by a control transfer of some kind. 
<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> is intended to be used
to make sure that
certain side effects take place after the evaluation of 
<span class="parameter">protected-form</span>.<br/>If a <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-local exit">non-local exit</a> occurs during execution of <span class="parameter">cleanup-forms</span>,
no special action is taken.  The <span class="parameter">cleanup-forms</span> of 
<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>
are not protected by that <a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>.

<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> protects against all attempts to exit 
from <span class="parameter">protected-form</span>, including
     <a class="special-operator-reference" href="#special-operator-go">go</a>,
     <a class="macro-reference" href="chapter-9.xhtml#macro-handler-case">handler-case</a>,
     <a class="macro-reference" href="chapter-9.xhtml#macro-ignore-errors">ignore-errors</a>,
     <a class="macro-reference" href="chapter-9.xhtml#macro-restart-case">restart-case</a>,
     <a class="special-operator-reference" href="#special-operator-return-from">return-from</a>,
     <a class="special-operator-reference" href="#special-operator-throw">throw</a>,
 and <a class="macro-reference" href="chapter-9.xhtml#macro-with-simple-restart">with-simple-restart</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:EXIT-EXTENT-AND-CONDITION-SYSTEM</span>Undoing of <a class="glossary-reference" href="chapter-26.xhtml#glossary-handler">handler</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> during an exit
happens in parallel with the undoing of the bindings of <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variables</a>
and <a class="special-operator-reference" href="#special-operator-catch">catch</a> tags, in the reverse order in which they were established.
The effect of this is that <span class="parameter">cleanup-form</span> sees the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-handler">handler</a>
and <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>, as well as <a class="glossary-reference" href="chapter-26.xhtml#glossary-dynamic variable">dynamic variable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>
and <a class="special-operator-reference" href="#special-operator-catch">catch</a> tags, as were visible when the <a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> was entered.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">3</span>)</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-numberp">numberp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">out</span>)</span>)</span>
      <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
 <span class="syntax-interned-symbol">out</span>
  <span class="syntax-interned-symbol">...</span>)</span>
</span></code></pre>
When <a class="special-operator-reference" href="#special-operator-go">go</a> is executed, the call to <a class="function-reference" href="chapter-22.xhtml#function-print">print</a> is executed first,
and then the transfer of control to the tag <code><span class="syntax-root"><span class="syntax-interned-symbol">out</span>
</span></code> is completed.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">state</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">running</span></span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-numberp">numberp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-9.xhtml#function-abort">abort</a></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">not-a-number</span></span>)</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">state</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">DUMMY-FUNCTION</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-9.xhtml#function-abort">abort</a></span> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-number">1</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-interned-symbol">state</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-9.xhtml#function-abort">abort</a></span> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">trash</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">NOT-A-NUMBER</span>
<span class="syntax-interned-symbol">state</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">RUNNING</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<a class="function-reference" href="chapter-9.xhtml#function-abort">abort</a></span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummy-function</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">trash</span></span>)</span> 
                 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">state</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">aborted</span></span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">NOT-A-NUMBER</span>
<span class="syntax-interned-symbol">state</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">ABORTED</span>
</span></code></pre><br/>The following code
is not correct:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">*access-count*</span>)</span>
         <span class="syntax-cons">(<span class="syntax-interned-symbol">perform-access</span>)</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a> <span class="syntax-interned-symbol">*access-count*</span>)</span>)</span>
</span></code></pre>
If an exit occurs before completion of <a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a>,
the <a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> is executed anyway, resulting in an
incorrect value for <code><span class="syntax-root"><span class="syntax-interned-symbol">*access-count*</span>
</span></code>.
The correct way to code this is as follows:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">old-count</span> <span class="syntax-interned-symbol">*access-count*</span>)</span>)</span>
  <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">*access-count*</span>)</span>
           <span class="syntax-cons">(<span class="syntax-interned-symbol">perform-access</span>)</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">*access-count*</span> <span class="syntax-interned-symbol">old-count</span>)</span>)</span>)</span>
</span></code></pre><br/><div class="issue-annotation"><a class="issue-reference" href="issues/exit-extent.xhtml#issue-exit-extent:minimal">X3J13 Issue EXIT-EXTENT:MINIMAL</a>
<pre><code><span class="syntax-root">;;; The following returns 2.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>   
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-number">1</span>)</span>
     <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-number">2</span>)</span>)</span>)</span>
 
;;; The following has undefined consequences.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">a</span>    
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <span class="syntax-interned-symbol">b</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-return-from">return-from</a> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">2</span>)</span>)</span>)</span>)</span>
 
;;; The following returns 2.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> 
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">1</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">2</span>)</span>)</span>)</span>
 
;;; The following has undefined consequences because the catch of B is 
;;; passed over by the first THROW, hence portable programs must assume 
;;; its dynamic extent is terminated.  The binding of the catch tag is not
;;; yet disestablished and therefore it is the target of the second throw.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-number">1</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-number">2</span>)</span>)</span>)</span>)</span>
 
;;; The following prints "The inner catch returns :SECOND-THROW"
;;; and then returns :OUTER-CATCH.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-string">"The inner catch returns ~s.~%"</span>
                 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>
                     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-keyword-symbol">:first-throw</span>)</span>
                         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-keyword-symbol">:second-throw</span>)</span>)</span>)</span>)</span>
         <span class="syntax-keyword-symbol">:outer-catch</span>)</span>
 
 
;;; The following returns 10. The inner CATCH of A is passed over, but 
;;; because that CATCH is disestablished before the THROW to A is executed,
;;; it isn't seen.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1+">1+</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-number">1</span>)</span>)</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-number">10</span>)</span>)</span>)</span>)</span>
 
 
;;; The following has undefined consequences because the extent of
;;; the (CATCH 'BAR ...) exit ends when the (THROW 'FOO ...)
;;; commences.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-number">3</span>)</span>
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span> <span class="syntax-number">4</span>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">xxx</span></span>)</span>)</span>)</span>)</span>
 
 
;;; The following returns 4; XXX is not printed.
;;; The (THROW 'FOO ...) has no effect on the scope of the BAR
;;; catch tag or the extent of the (CATCH 'BAR ...) exit.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-catch">catch</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span> <span class="syntax-number">3</span>)</span>
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-throw">throw</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">bar</span></span> <span class="syntax-number">4</span>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">xxx</span></span>)</span>)</span>)</span>)</span>
 
 
;;; The following prints 5.
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">5</span>)</span>)</span>
     <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-unwind-protect">unwind-protect</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a>)</span>
       <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>          
</span></code></pre><br/></div></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-catch">catch</a>,
<a class="special-operator-reference" href="#special-operator-go">go</a>,
<a class="macro-reference" href="chapter-9.xhtml#macro-handler-case">handler-case</a>,
<a class="macro-reference" href="chapter-9.xhtml#macro-restart-case">restart-case</a>,
<a class="macro-reference" href="#macro-return">return</a>, 
<a class="special-operator-reference" href="#special-operator-return-from">return-from</a>,
<a class="special-operator-reference" href="#special-operator-throw">throw</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="constant-nil"><div class="header"><span class="left"><span class="name" id="constant-nil">nil</span></span><span class="right"><span class="ftype">Constant Variable</span></span></div><br/><dl><dt class="label">Constant Value</dt><dd><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> represents both <a class="glossary-reference" href="chapter-26.xhtml#glossary-boolean">boolean</a> (and <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>) <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
and the <a class="glossary-reference" href="chapter-26.xhtml#glossary-empty list">empty list</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> 
</span></code></pre><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="constant-reference" href="#constant-t">t</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-not"><div class="header"><span class="left"><span class="name" id="function-not">not</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:NOT-AND-NULL-RETURN-VALUE</span>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">not</span>&nbsp;<span class="lambda-list">x</span>&nbsp;→&nbsp;<span class="return-values">boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">x</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a> (<span class="explicit-italic"> i.e.</span>,  any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>).<br/><span class="parameter">boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-boolean">boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="symbol-reference" href="#symbol-t">t</a> if <span class="parameter">x</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>;
otherwise, returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-quote">'<span class="syntax-symbol">()</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-integerp">integerp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">sss</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-integerp">integerp</a> <span class="syntax-number">1</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-number">3.7</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">apple</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre><br/></dd></dl></div></div>
<dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="chapter-14.xhtml#function-null">null</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="function-reference" href="#function-not">not</a> is intended to be used to invert the `truth value' of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-boolean">boolean</a>
(or <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>)
whereas <a class="function-reference" href="chapter-14.xhtml#function-null">null</a> is intended to be used to test for the <a class="glossary-reference" href="chapter-26.xhtml#glossary-empty list">empty list</a>.
Operationally, <a class="function-reference" href="#function-not">not</a> and <a class="function-reference" href="chapter-14.xhtml#function-null">null</a> compute the same result;
which to use is a matter of style.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="constant-t"><div class="header"><span class="left"><span class="name" id="constant-t">t</span></span><span class="right"><span class="ftype">Constant Variable</span></span></div><br/><dl><dt class="label">Constant Value</dt><dd><a class="symbol-reference" href="#symbol-t">t</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-boolean">boolean</a> representing true, 
and the canonical <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a> representing true.
Although any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> 
other than <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> is considered <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>,
<a class="symbol-reference" href="#symbol-t">t</a> is generally used when there is no special reason 
to prefer one such <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> over another.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> <a class="symbol-reference" href="#symbol-t">t</a> is also sometimes used for other purposes as well.
For example,
    as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">name</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-class">class</a>,
    as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> (<span class="explicit-italic"> e.g.</span>,  a <a class="glossary-reference" href="chapter-26.xhtml#glossary-stream designator">stream designator</a>)
 or as a special symbol for some syntactic reason 
      (<span class="explicit-italic"> e.g.</span>,  in <a class="macro-reference" href="#macro-case">case</a> and <a class="macro-reference" href="#macro-typecase">typecase</a> to label the <span class="parameter">otherwise-clause</span>).<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a> 
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-quote">'<a class="section-reference" href="chapter-26.xhtml#section-T">t</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-7.xhtml#function-find-class">find-class</a> <span class="syntax-quote">'<a class="section-reference" href="chapter-26.xhtml#section-T">t</a></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-verbatim">#&lt;CLASS T 610703333&gt;</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-case">case</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-case">case</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">hello</span></span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> HELLO
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">HELLO</span>
</span></code></pre><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="constant-reference" href="#constant-nil">nil</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="function-eq"><div class="header"><span class="left"><span class="name" id="function-eq">eq</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">eq</span>&nbsp;<span class="lambda-list">x y</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">x</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">y</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if its <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> are the same, identical <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>;
otherwise, returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-number">3</span> <span class="syntax-number">3</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-number">3</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-number">3.0</span> <span class="syntax-number">3.0</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4.0</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">b</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">b</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">b</span>)</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-character">#\A</span> <span class="syntax-character">#\A</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-string">"Foo"</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-string">"Foo"</span> <span class="syntax-string">"Foo"</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-string">"Foo"</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-copy-seq">copy-seq</a> <span class="syntax-string">"Foo"</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-string">"FOO"</span> <span class="syntax-string">"foo"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-string">"string-seq"</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-copy-seq">copy-seq</a> <span class="syntax-string">"string-seq"</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">5</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-eql">eql</a>,
<a class="function-reference" href="#function-equal">equal</a>,
<a class="function-reference" href="#function-equalp">equalp</a>,
<a class="function-reference" href="chapter-12.xhtml#function-=">=</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Compilation">Compilation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="glossary-reference" href="chapter-26.xhtml#glossary-object">Objects</a> that appear the same when printed are not necessarily
<a class="function-reference" href="#function-eq">eq</a> to each other.  <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">Symbols</a> that print the same 
usually are <a class="function-reference" href="#function-eq">eq</a> to each other because of the use of the
<a class="function-reference" href="chapter-11.xhtml#function-intern">intern</a> function.  However, <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a> with the 
same value need not be <a class="function-reference" href="#function-eq">eq</a>, and two similar
<a class="glossary-reference" href="chapter-26.xhtml#glossary-list">lists</a> are usually not <a class="glossary-reference" href="chapter-26.xhtml#glossary-identical">identical</a>.<br/>An implementation is permitted to make ``copies'' of 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a> at any time.  
The effect is that <span class="explicit-roman">Common Lisp</span> makes no guarantee that <a class="function-reference" href="#function-eq">eq</a> 
is true even when both its arguments are ``the same thing'' if 
that thing is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">character</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">number</a>.<br/>Most <span class="explicit-roman">Common Lisp</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> use <a class="function-reference" href="#function-eql">eql</a> rather than
<a class="function-reference" href="#function-eq">eq</a> to compare objects, or else they default to <a class="function-reference" href="#function-eql">eql</a>
and only use <a class="function-reference" href="#function-eq">eq</a> if specifically requested to do so.
However, the following <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> are defined to use <a class="function-reference" href="#function-eq">eq</a>
rather than <a class="function-reference" href="#function-eql">eql</a> in a way that cannot be overridden by the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-code">code</a> which employs them:<br/><span class="float" id="figure-Operators that always prefer EQ over EQL"><table><tbody><tr><td><a class="special-operator-reference" href="#special-operator-catch">catch</a></td><td><a class="function-reference" href="chapter-14.xhtml#function-getf">getf</a></td><td><a class="special-operator-reference" href="#special-operator-throw">throw</a></td></tr><tr><td><a class="function-reference" href="chapter-10.xhtml#function-get">get</a></td><td><a class="macro-reference" href="chapter-14.xhtml#macro-remf">remf</a></td><td/></tr><tr><td><a class="function-reference" href="chapter-14.xhtml#function-get-properties">get-properties</a></td><td><a class="function-reference" href="chapter-10.xhtml#function-remprop">remprop</a></td></tr></tbody></table><div class="caption">Operators that always prefer EQ over EQL</div></span><br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="function-eql"><div class="header"><span class="left"><span class="name" id="function-eql">eql</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">eql</span>&nbsp;<span class="lambda-list">x y</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">x</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">y</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>. <br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>The value of <a class="function-reference" href="#function-eql">eql</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> of two objects, <span class="parameter">x</span> and
<span class="parameter">y</span>, in the folowing cases:
<ol><li>If <span class="parameter">x</span> and <span class="parameter">y</span> are <a class="function-reference" href="#function-eq">eq</a>.
</li><li>If <span class="parameter">x</span> and <span class="parameter">y</span> are both <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a> 
of the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> and the same value.
</li><li>If they are both <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a> that represent the 
same character.
</li></ol><br/>Otherwise the value of <a class="function-reference" href="#function-eql">eql</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.<br/>If an implementation supports positive and negative zeros as <a class="glossary-reference" href="chapter-26.xhtml#glossary-distinct">distinct</a> values,
then <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">0.0</span> <span class="syntax-number">-0.0</span>)</span>
</span></code> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.
Otherwise, when the syntax <code><span class="syntax-root"><span class="syntax-number">-0.0</span>
</span></code> is read it is interpreted as the value <code><span class="syntax-root"><span class="syntax-number">0.0</span>
</span></code>,
and so <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">0.0</span> <span class="syntax-number">-0.0</span>)</span>
</span></code> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.  <br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">3</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">3</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">3.0</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4.0</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">b</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">b</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">b</span>)</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-character">#\A</span> <span class="syntax-character">#\A</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-string">"Foo"</span> <span class="syntax-string">"Foo"</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mover>or<mi>→</mi></mover></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-string">"Foo"</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-copy-seq">copy-seq</a> <span class="syntax-string">"Foo"</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
 <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-string">"FOO"</span> <span class="syntax-string">"foo"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/>Normally <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">1.0s0</span> <span class="syntax-number">1.0d0</span>)</span>
</span></code> is false, under the assumption
that <code><span class="syntax-root"><span class="syntax-number">1.0s0</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-number">1.0d0</span>
</span></code> are of distinct data types.
However, implementations that do not provide four distinct floating-point
formats are permitted to ``collapse'' the four formats into some
smaller number of them; in such an implementation <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">1.0s0</span> <span class="syntax-number">1.0d0</span>)</span>
</span></code>
might be true.  <br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-eq">eq</a>,
<a class="function-reference" href="#function-equal">equal</a>,
<a class="function-reference" href="#function-equalp">equalp</a>,
<a class="function-reference" href="chapter-12.xhtml#function-=">=</a>,
<a class="function-reference" href="chapter-13.xhtml#function-char=">char=</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="function-reference" href="#function-eql">eql</a> is the same as <a class="function-reference" href="#function-eq">eq</a>, except that if the
arguments are <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a> 
of the same type then their
values are compared.  Thus <a class="function-reference" href="#function-eql">eql</a> tells whether two <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>
are conceptually the same, whereas <a class="function-reference" href="#function-eq">eq</a> tells whether two
<a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> are implementationally identical.  It is for this reason
that <a class="function-reference" href="#function-eql">eql</a>, not <a class="function-reference" href="#function-eq">eq</a>, is the default comparison predicate
for <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operators</a> that take <span class="glossary-reference error">glossary:sequences</span>
as arguments.<br/><a class="function-reference" href="#function-eql">eql</a> may not be true of two <a class="glossary-reference" href="chapter-26.xhtml#glossary-float">floats</a>
even when they represent the same
value.  <a class="function-reference" href="chapter-12.xhtml#function-=">=</a> is used to compare
mathematical values.<br/>Two <a class="glossary-reference" href="chapter-26.xhtml#glossary-complex">complex</a> numbers are considered to be <a class="function-reference" href="#function-eql">eql</a>
if their real parts are <a class="function-reference" href="#function-eql">eql</a> 
and their imaginary parts are <a class="function-reference" href="#function-eql">eql</a>.
For example, <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> #C<span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span>)</span> #C<span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span>)</span>)</span>
</span></code> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> and
<code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> #C<span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span>)</span> #C<span class="syntax-cons">(<span class="syntax-number">4.0</span> <span class="syntax-number">5.0</span>)</span>)</span>
</span></code> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.
Note that while <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> #C<span class="syntax-cons">(<span class="syntax-number">5.0</span> <span class="syntax-number">0.0</span>)</span> <span class="syntax-number">5.0</span>)</span>
</span></code> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>,
<code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> #C<span class="syntax-cons">(<span class="syntax-number">5</span> <span class="syntax-number">0</span>)</span> <span class="syntax-number">5</span>)</span>
</span></code> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.
In the case of <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> #C<span class="syntax-cons">(<span class="syntax-number">5.0</span> <span class="syntax-number">0.0</span>)</span> <span class="syntax-number">5.0</span>)</span>
</span></code> the
two arguments are of different types,
and so cannot satisfy <a class="function-reference" href="#function-eql">eql</a>.
In the case of <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> #C<span class="syntax-cons">(<span class="syntax-number">5</span> <span class="syntax-number">0</span>)</span> <span class="syntax-number">5</span>)</span>
</span></code>, 
<code><span class="syntax-root">#C<span class="syntax-cons">(<span class="syntax-number">5</span> <span class="syntax-number">0</span>)</span>
</span></code> is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-complex">complex</a> number, but
is automatically reduced 
to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a> <code><span class="syntax-root"><span class="syntax-number">5</span>
</span></code>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-equal"><div class="header"><span class="left"><span class="name" id="function-equal">equal</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">equal</span>&nbsp;<span class="lambda-list">x y</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">x</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">y</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if <span class="parameter">x</span> and <span class="parameter">y</span> are structurally similar
(isomorphic) <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>.  <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">Objects</a> are treated as follows by
<a class="function-reference" href="#function-equal">equal</a>.<br/><dl><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">Symbols</a>, <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">Numbers</a>, and <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">Characters</a></dt><dd><a class="function-reference" href="#function-equal">equal</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> of two <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> 
if they are <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> that are <a class="function-reference" href="#function-eq">eq</a>,
if they are <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a> that are <a class="function-reference" href="#function-eql">eql</a>, or
if they are <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a> that are <a class="function-reference" href="#function-eql">eql</a>.<br/></dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">Conses</a></dt><dd>For <a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">conses</a>, <a class="function-reference" href="#function-equal">equal</a> is defined recursively as
the two <a class="glossary-reference" href="chapter-26.xhtml#glossary-car">cars</a> being <a class="function-reference" href="#function-equal">equal</a> 
and the two <a class="glossary-reference" href="chapter-26.xhtml#glossary-cdr">cdrs</a> being <a class="function-reference" href="#function-equal">equal</a>.<br/></dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-array">Arrays</a></dt><dd>Two <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">arrays</a> are <a class="function-reference" href="#function-equal">equal</a> only if they are <a class="function-reference" href="#function-eq">eq</a>,
with one exception:
<a class="glossary-reference" href="chapter-26.xhtml#glossary-string">strings</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-bit vector">bit vectors</a> are compared element-by-element (using <a class="function-reference" href="#function-eql">eql</a>).
If either <span class="parameter">x</span> or <span class="parameter">y</span> has a <a class="glossary-reference" href="chapter-26.xhtml#glossary-fill pointer">fill pointer</a>, the 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-fill pointer">fill pointer</a> limits
the number of elements examined by <a class="function-reference" href="#function-equal">equal</a>.
Uppercase and lowercase letters in <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">strings</a> are considered by
<a class="function-reference" href="#function-equal">equal</a> to be different.  <br/></dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">Pathnames</a></dt><dd>Two <a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathnames</a> are <a class="function-reference" href="#function-equal">equal</a> if and only if
all the corresponding components
(host, device, and so on) are 
equivalent.  Whether or not
uppercase and lowercase letters are considered equivalent
in <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">strings</a> appearing in components is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.
<a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathnames</a>
that are <a class="function-reference" href="#function-equal">equal</a> should be functionally equivalent.<br/>
</dd><div class="issue-annotation"><a class="issue-reference" href="issues/equal-structure.xhtml#issue-equal-structure:maybe-status-quo">X3J13 Issue EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a><dt> Other (Structures, hash-tables, instances, <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>…</mi></math>)</dt><dd>Two other <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> are <a class="function-reference" href="#function-equal">equal</a> only if they are <a class="function-reference" href="#function-eq">eq</a>.<br/></dd></div></dl><br/><div class="issue-annotation"><a class="issue-reference" href="issues/equal-structure.xhtml#issue-equal-structure:maybe-status-quo">X3J13 Issue EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a><a class="function-reference" href="#function-equal">equal</a> does not descend any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> other than the
ones explicitly specified above.
Figure <span class="explicit-mono">()</span>&ndash; summarizes the information given in the previous list.
In addition, the figure specifies the priority of the behavior of <a class="function-reference" href="#function-equal">equal</a>,
with upper
  entries taking priority over lower ones.<br/><span class="float" id="figure-Summary and priorities of behavior of equal"><table><thead><th>Type</th><th>Behavior</th></thead><tbody><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-number">number</a>                 </td><td> uses <a class="function-reference" href="#function-eql">eql</a>           </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-character">character</a>              </td><td> uses <a class="function-reference" href="#function-eql">eql</a>           </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">cons</a>                   </td><td> descends                    </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-bit vector">bit vector</a>             </td><td> descends                    </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>                 </td><td> descends                    </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a>               </td><td> ``functionally equivalent'' </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-structure">structure</a>              </td><td> uses <a class="function-reference" href="#function-eq">eq</a>            </td></tr><tr><td>Other <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">array</a>            </td><td> uses <a class="function-reference" href="#function-eq">eq</a>            </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>             </td><td> uses <a class="function-reference" href="#function-eq">eq</a>            </td></tr><tr><td>Other <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>           </td><td> uses <a class="function-reference" href="#function-eq">eq</a>            </td></tr></tbody></table><div class="caption">Summary and priorities of behavior of <a class="function-reference" href="#function-equal">equal</a></div></span></div>
Any two <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> that are <a class="function-reference" href="#function-eql">eql</a> are also <a class="function-reference" href="#function-equal">equal</a>. <br/><a class="function-reference" href="#function-equal">equal</a> may fail to terminate if <span class="parameter">x</span> or <span class="parameter">y</span> is circular.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-number">3</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-number">3</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-number">3.0</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4.0</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-character">#\A</span> <span class="syntax-character">#\A</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-character">#\A</span> <span class="syntax-character">#\a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-string">"Foo"</span> <span class="syntax-string">"Foo"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-string">"Foo"</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-copy-seq">copy-seq</a> <span class="syntax-string">"Foo"</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-string">"FOO"</span> <span class="syntax-string">"foo"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-string">"This-string"</span> <span class="syntax-string">"This-string"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="syntax-string">"This-string"</span> <span class="syntax-string">"this-string"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-eq">eq</a>, <a class="function-reference" href="#function-eql">eql</a>, <a class="function-reference" href="#function-equalp">equalp</a>, <a class="function-reference" href="chapter-12.xhtml#function-=">=</a>, 
<a class="function-reference" href="chapter-16.xhtml#function-string=">string=</a>, <a class="function-reference" href="chapter-16.xhtml#function-string-equal">string-equal</a>, <a class="function-reference" href="chapter-13.xhtml#function-char=">char=</a>, 
<a class="function-reference" href="chapter-13.xhtml#function-char-equal">char-equal</a>, <a class="function-reference" href="chapter-14.xhtml#function-tree-equal">tree-equal</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="issue-annotation"><a class="issue-reference" href="issues/equal-structure.xhtml#issue-equal-structure:maybe-status-quo">X3J13 Issue EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a>    <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">Object</a> equality is not a concept for which there is a uniquely
    determined correct algorithm. The appropriateness of an equality
    predicate can be judged only in the context of the needs of some
    particular program. Although these functions take any type of
    argument and their names sound very generic, 
<a class="function-reference" href="#function-equal">equal</a> and <a class="function-reference" href="#function-equalp">equalp</a> are
    not appropriate for every application. 
</span> 
A rough rule of thumb is that two <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> are <a class="function-reference" href="#function-equal">equal</a> 
if and only if their printed representations are the same.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="function-equalp"><div class="header"><span class="left"><span class="name" id="function-equalp">equalp</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">equalp</span>&nbsp;<span class="lambda-list">x y</span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">x</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">y</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if <span class="parameter">x</span> and <span class="parameter">y</span> are <a class="function-reference" href="#function-equal">equal</a>,
or if they have components that are of the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> as each other
   and if those components are <a class="function-reference" href="#function-equalp">equalp</a>;
specifically, <a class="function-reference" href="#function-equalp">equalp</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> in the following cases:
<dl><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-character">Characters</a></dt><dd>If two <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a> are <a class="function-reference" href="chapter-13.xhtml#function-char-equal">char-equal</a>.<br/></dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-number">Numbers</a></dt><dd>If two <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">numbers</a> are the <a class="glossary-reference" href="chapter-26.xhtml#glossary-same">same</a> under <a class="function-reference" href="chapter-12.xhtml#function-=">=</a>. 

</dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">Conses</a></dt><dd>If the two <a class="glossary-reference" href="chapter-26.xhtml#glossary-car">cars</a> in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">conses</a> are <a class="function-reference" href="#function-equalp">equalp</a> 
and the two <a class="glossary-reference" href="chapter-26.xhtml#glossary-cdr">cdrs</a> in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">conses</a> are <a class="function-reference" href="#function-equalp">equalp</a>.

</dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-array">Arrays</a></dt><dd>If two <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">arrays</a> have the same
number of dimensions, the dimensions match,
and the corresponding
<span class="glossary-reference error">glossary:active elements</span> 
are <a class="function-reference" href="#function-equalp">equalp</a>.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">types</a> for which the <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">arrays</a> are <a class="glossary-reference" href="chapter-26.xhtml#glossary-specialized">specialized</a> need not match; 
for example, a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a> and a general <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">array</a> that happens to contain the same 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a> are <a class="function-reference" href="#function-equalp">equalp</a>.
Because <a class="function-reference" href="#function-equalp">equalp</a> performs <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a>-by-<a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a> comparisons
of <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">strings</a> and ignores the <a class="glossary-reference" href="chapter-26.xhtml#glossary-case">case</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">characters</a>,
<a class="glossary-reference" href="chapter-26.xhtml#glossary-case">case</a> distinctions are ignored when <a class="function-reference" href="#function-equalp">equalp</a> compares <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">strings</a>.<br/>
</dd><div class="issue-annotation"><a class="issue-reference" href="issues/equal-structure.xhtml#issue-equal-structure:maybe-status-quo">X3J13 Issue EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a><dt><span class="glossary-reference error">glossary:Structures</span></dt><dd>If two <span class="glossary-reference error">glossary:structures</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>S</mrow><mo>1</mo></msub></math> and <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>S</mrow><mo>2</mo></msub></math> have the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-class">class</a>
and the value of each <a class="glossary-reference" href="chapter-26.xhtml#glossary-slot">slot</a> in <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>S</mrow><mo>1</mo></msub></math> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-same">same</a> under <a class="function-reference" href="#function-equalp">equalp</a>
as the value of the corresponding <a class="glossary-reference" href="chapter-26.xhtml#glossary-slot">slot</a> in <math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow>S</mrow><mo>2</mo></msub></math>.<br/></dd><dt><a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">Hash Tables</a></dt><dd><a class="function-reference" href="#function-equalp">equalp</a> descends <span class="glossary-reference error">glossary:hash-tables</span> by first comparing the count of entries
  and the <span class="keyword">:test</span> function; if those are the same, it compares the
  keys of the tables using the <span class="keyword">:test</span> function and then the values
  of the matching keys using <a class="function-reference" href="#function-equalp">equalp</a> recursively.
</dd></div></dl><br/><div class="issue-annotation"><a class="issue-reference" href="issues/equal-structure.xhtml#issue-equal-structure:maybe-status-quo">X3J13 Issue EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a><a class="function-reference" href="#function-equalp">equalp</a> does not descend any <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>
  other than the ones explicitly specified above.
Figure <span class="explicit-mono">()</span>&ndash; summarizes the information given in the previous list.
In addition, the figure specifies the priority of the behavior of <a class="function-reference" href="#function-equalp">equalp</a>,
with upper
  entries taking priority over lower ones.<br/><span class="float" id="figure-Summary and priorities of behavior of equalp"><table><thead><th>Type</th><th>Behavior</th></thead><tbody><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-number">number</a>                     </td><td> uses <a class="function-reference" href="chapter-12.xhtml#function-=">=</a>              </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-character">character</a>                  </td><td> uses <a class="function-reference" href="chapter-13.xhtml#function-char-equal">char-equal</a>     </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">cons</a>                       </td><td> descends                     </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-bit vector">bit vector</a>                 </td><td> descends                     </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>                     </td><td> descends                     </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-pathname">pathname</a>                   </td><td> same as <a class="function-reference" href="#function-equal">equal</a>       </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-structure">structure</a>                  </td><td> descends, as described above </td></tr><tr><td>Other <a class="glossary-reference" href="chapter-26.xhtml#glossary-array">array</a>                </td><td> descends                     </td></tr><tr><td><a class="glossary-reference" href="chapter-26.xhtml#glossary-hash table">hash table</a>                 </td><td> descends, as described above </td></tr><tr><td>Other <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>               </td><td> uses <a class="function-reference" href="#function-eq">eq</a>             </td></tr></tbody></table><div class="caption">Summary and priorities of behavior of <a class="function-reference" href="#function-equalp">equalp</a></div></span></div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-number">3</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-number">3</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-number">3.0</span> <span class="syntax-number">3.0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4.0</span>)</span></span> <span class="syntax-number">#c<span class="syntax-symbol">(<span class="syntax-number">3</span> <span class="syntax-number">-4</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-character">#\A</span> <span class="syntax-character">#\A</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-character">#\A</span> <span class="syntax-character">#\a</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-string">"Foo"</span> <span class="syntax-string">"Foo"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-string">"Foo"</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-copy-seq">copy-seq</a> <span class="syntax-string">"Foo"</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-string">"FOO"</span> <span class="syntax-string">"foo"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
</span></code></pre>
<pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">array1</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-make-array">make-array</a> <span class="syntax-number">6</span> <span class="syntax-keyword-symbol">:element-type</span> <span class="syntax-quote">'<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a></span>
                            <span class="syntax-keyword-symbol">:initial-contents</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-number">7</span>)</span></span>)</span>)</span> 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-vector">#(<span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-number">7</span>)</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">array2</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-make-array">make-array</a> <span class="syntax-number">8</span> <span class="syntax-keyword-symbol">:element-type</span> <span class="syntax-quote">'<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a></span>
                            <span class="syntax-keyword-symbol">:initial-contents</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-number">7</span> <span class="syntax-number">2</span> <span class="syntax-number">6</span>)</span></span>
                            <span class="syntax-keyword-symbol">:fill-pointer</span> <span class="syntax-number">6</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-vector">#(<span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-number">7</span>)</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-interned-symbol">array1</span> <span class="syntax-interned-symbol">array2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">vector1</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-vector">vector</a> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-number">7</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-vector">#(<span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">1</span> <span class="syntax-number">3</span> <span class="syntax-number">5</span> <span class="syntax-number">7</span>)</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-equalp">equalp</a> <span class="syntax-interned-symbol">array1</span> <span class="syntax-interned-symbol">vector1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> 
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-eq">eq</a>, <a class="function-reference" href="#function-eql">eql</a>, <a class="function-reference" href="#function-equal">equal</a>, <a class="function-reference" href="chapter-12.xhtml#function-=">=</a>, 
<a class="function-reference" href="chapter-16.xhtml#function-string=">string=</a>, <a class="function-reference" href="chapter-16.xhtml#function-string-equal">string-equal</a>, <a class="function-reference" href="chapter-13.xhtml#function-char=">char=</a>, 
<a class="function-reference" href="chapter-13.xhtml#function-char-equal">char-equal</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="issue-annotation"><a class="issue-reference" href="issues/equal-structure.xhtml#issue-equal-structure:maybe-status-quo">X3J13 Issue EQUAL-STRUCTURE:MAYBE-STATUS-QUO</a>    <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">Object</a> equality is not a concept for which there is a uniquely
    determined correct algorithm. The appropriateness of an equality
    predicate can be judged only in the context of the needs of some
    particular program. Although these functions take any type of
    argument and their names sound very generic, 
<a class="function-reference" href="#function-equal">equal</a> and <a class="function-reference" href="#function-equalp">equalp</a> are
    not appropriate for every application. 
</span>
</dd></dl></div></div><br/><br/><br/><div class="component" id="function-identity"><div class="header"><span class="left"><span class="name" id="function-identity">identity</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">identity</span>&nbsp;<span class="lambda-list">object</span>&nbsp;→&nbsp;<span class="return-values">object</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns its argument <span class="parameter">object</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-identity">identity</a> <span class="syntax-number">101</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">101</span>
<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-mapcan">mapcan</a> <span class="syntax-function">#'<a class="function-reference" href="#function-identity">identity</a></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>!<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>!<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="function-reference" href="#function-identity">identity</a> is intended for use with functions that require
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> as an argument.<br/><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="#function-identity">identity</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
</span></code> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> for all possible values of <span class="parameter">x</span>,
but <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="#function-identity">identity</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
</span></code> might return <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> when <span class="parameter">x</span> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-number">number</a>
or <a class="glossary-reference" href="chapter-26.xhtml#glossary-character">character</a>.<br/><a class="function-reference" href="#function-identity">identity</a> could be defined by<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <a class="function-reference" href="#function-identity">identity</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="function-complement"><div class="header"><span class="left"><span class="name" id="function-complement">complement</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/function-composition.xhtml#issue-function-composition:jan89-x3j13">X3J13 Issue FUNCTION-COMPOSITION:JAN89-X3J13</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">complement</span>&nbsp;<span class="lambda-list">function</span>&nbsp;→&nbsp;<span class="return-values">complement-function</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/><span class="parameter">complement-function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> that
  takes the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> as <span class="parameter">function</span>,
  and has the same side-effect behavior as <span class="parameter">function</span>,
  but returns only a single value:
   a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a> with the opposite truth value of that
   which would be returned as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> of <span class="parameter">function</span>.
  That is, when the <span class="parameter">function</span> would have returned
   <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> as its <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>
   the <span class="parameter">complement-function</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>,
   and when the <span class="parameter">function</span> would have returned
   <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> as its <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>
   the <span class="parameter">complement-function</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-zerop">zerop</a></span>)</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-13.xhtml#function-characterp">characterp</a></span>)</span> <span class="syntax-character">#\A</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-member">member</a></span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-funcall">funcall</a> <span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-member">member</a></span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">d</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-not">not</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="explicit-italic"> x</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">arguments</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="explicit-italic"> x</span> <span class="syntax-interned-symbol">arguments</span>)</span>)</span>)</span></span>
</span></code></pre><br/>In <span class="explicit-roman">Common Lisp</span>, functions with names like ``<code><span class="syntax-root"><span class="explicit-italic"> xxx</span>-if-not
</span></code>''
are related to functions with names like ``<code><span class="syntax-root"><span class="explicit-italic"> xxx</span>-if
</span></code>'' 
in that<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<span class="explicit-italic"> xxx</span>-if-not <span class="explicit-italic"> f</span> <span class="syntax-symbol">.</span> <span class="explicit-italic"> arguments</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<span class="explicit-italic"> xxx</span>-if <span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="explicit-italic"> f</span>)</span> <span class="syntax-symbol">.</span> <span class="explicit-italic"> arguments</span>)</span>
</span></code></pre><br/>For example,<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-find-if-not">find-if-not</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-zerop">zerop</a></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">0</span> <span class="syntax-number">0</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math>
<span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-find-if">find-if</a> <span class="syntax-cons">(<a class="function-reference" href="#function-complement">complement</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-zerop">zerop</a></span>)</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">0</span> <span class="syntax-number">0</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
</span></code></pre><br/>Note that since the ``<code><span class="syntax-root"><span class="explicit-italic"> xxx</span>-if-not
</span></code>'' <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a>
and the <span class="keyword">:test-not</span> arguments have been deprecated,
uses of ``<code><span class="syntax-root"><span class="explicit-italic"> xxx</span>-if
</span></code>'' <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">functions</a> or 
<span class="keyword">:test</span> arguments with <a class="function-reference" href="#function-complement">complement</a> are preferred.
</dd></dl></div></div> 
</div><br/><br/><br/><div class="component" id="function-constantly"><div class="header"><span class="left"><span class="name" id="function-constantly">constantly</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><a class="issue-reference" href="issues/function-composition.xhtml#issue-function-composition:jan89-x3j13">X3J13 Issue FUNCTION-COMPOSITION:JAN89-X3J13</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">constantly</span>&nbsp;<span class="lambda-list">value</span>&nbsp;→&nbsp;<span class="return-values">function</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">value</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-constantly">constantly</a> returns a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> that accepts any number of
arguments, that has no side-effects, and that always returns <span class="parameter">value</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-mapcar">mapcar</a> <span class="syntax-cons">(<a class="function-reference" href="#function-constantly">constantly</a> <span class="syntax-number">3</span>)</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span> <span class="syntax-interned-symbol">d</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">3</span> <span class="syntax-number">3</span> <span class="syntax-number">3</span> <span class="syntax-number">3</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">with-vars</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">vars</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-body">&amp;body</a> <span class="syntax-interned-symbol">forms</span>)</span>
   <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">vars</span></span> <span class="syntax-unquote">,@<span class="syntax-interned-symbol">forms</span></span>)</span> <span class="syntax-unquote">,@<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-mapcar">mapcar</a> <span class="syntax-cons">(<a class="function-reference" href="#function-constantly">constantly</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <span class="syntax-interned-symbol">vars</span>)</span></span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">WITH-VARS</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-3.xhtml#function-macroexpand">macroexpand</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">with-vars</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">3</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">a</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">LAMBDA</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">SETQ</a> <span class="syntax-interned-symbol">A</span> <span class="syntax-number">3</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">A</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">LIST</a> <span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span>)</span>)</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>)</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-identity">identity</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="function-reference" href="#function-constantly">constantly</a> could be defined by:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <a class="function-reference" href="#function-constantly">constantly</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">object</span>)</span>
  <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">arguments</span>)</span> <span class="syntax-interned-symbol">object</span>)</span></span>)</span>
</span></code></pre><br/></dd></dl></div></div> 
</div><br/><br/>
<br/><div class="component" id="function-every"><div class="header"><span class="left"><span class="name" id="function-every">every</span>, <span class="name" id="function-some">some</span>, <span class="name" id="function-notevery">notevery</span>, <span class="name" id="function-notany">notany</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">every</span>&nbsp;<span class="lambda-list">predicate <span class="lambda-list-keyword">&amp;rest</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hboxsequences<msup><mrow/><mo>+</mo></msup></math></span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/>
<span class="function-definition"><span class="name">some</span>&nbsp;<span class="lambda-list">predicate <span class="lambda-list-keyword">&amp;rest</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hboxsequences<msup><mrow/><mo>+</mo></msup></math></span>&nbsp;→&nbsp;<span class="return-values">result</span></span><br/>
<span class="function-definition"><span class="name">notevery</span>&nbsp;<span class="lambda-list">predicate <span class="lambda-list-keyword">&amp;rest</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hboxsequences<msup><mrow/><mo>+</mo></msup></math></span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/> 
<span class="function-definition"><span class="name">notany</span>&nbsp;<span class="lambda-list">predicate <span class="lambda-list-keyword">&amp;rest</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hboxsequences<msup><mrow/><mo>+</mo></msup></math></span>&nbsp;→&nbsp;<span class="return-values">generalized-boolean</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">predicate</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> of
 as many <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> as there are <span class="parameter">sequences</span>.<br/><span class="parameter">sequence</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-sequence">sequence</a>.<br/><span class="parameter">result</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><span class="parameter">generalized-boolean</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized boolean">generalized boolean</a>. <br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-every">every</a>, <a class="function-reference" href="#function-some">some</a>, <a class="function-reference" href="#function-notevery">notevery</a>, and <a class="function-reference" href="#function-notany">notany</a>
test <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">elements</a> of <span class="parameter">sequences</span> for satisfaction of a given <span class="parameter">predicate</span>.
The first argument to <span class="parameter">predicate</span> is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a> of the first <span class="parameter">sequence</span>;
each succeeding argument is an <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">element</a> of a succeeding <span class="parameter">sequence</span>.<br/><span class="parameter">Predicate</span> is first applied to the elements
with index <code><span class="syntax-root"><span class="syntax-number">0</span>
</span></code> in each of the <span class="parameter">sequences</span>, and possibly then to
the elements with index <code><span class="syntax-root"><span class="syntax-number">1</span>
</span></code>, and so on, until a termination
criterion is met or the end of the shortest of the <span class="parameter">sequences</span> is reached.<br/><a class="function-reference" href="#function-every">every</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> as soon 
as any invocation of <span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.
If the end of a <span class="parameter">sequence</span> is reached,
<a class="function-reference" href="#function-every">every</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.
Thus, <a class="function-reference" href="#function-every">every</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if and only if
every invocation of <span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/><a class="function-reference" href="#function-some">some</a> returns the first <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-nil">non-nil</a> value 
which is returned by an invocation of <span class="parameter">predicate</span>.
If the end of a <span class="parameter">sequence</span> is reached without any invocation of the
<span class="parameter">predicate</span> returning <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>, <a class="function-reference" href="#function-some">some</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.
Thus, <a class="function-reference" href="#function-some">some</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if and only if
some invocation of <span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/><a class="function-reference" href="#function-notany">notany</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> 
as soon as any invocation of <span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.
If the end of a <span class="parameter">sequence</span> is reached,
<a class="function-reference" href="#function-notany">notany</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.
Thus, <a class="function-reference" href="#function-notany">notany</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if and only if 
it is not the case that any invocation of <span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/><a class="function-reference" href="#function-notevery">notevery</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> as soon as any invocation of
<span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.
If the end of a <span class="parameter">sequence</span> is reached,
<a class="function-reference" href="#function-notevery">notevery</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>.
Thus, <a class="function-reference" href="#function-notevery">notevery</a> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> if and only if 
it is not the case that every invocation of <span class="parameter">predicate</span> returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-every">every</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-13.xhtml#function-characterp">characterp</a></span> <span class="syntax-string">"abc"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-some">some</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-=">=</a></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span> <span class="syntax-number">5</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">5</span> <span class="syntax-number">4</span> <span class="syntax-number">3</span> <span class="syntax-number">2</span> <span class="syntax-number">1</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-notevery">notevery</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-&lt;">&lt;</a></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">5</span> <span class="syntax-number">6</span> <span class="syntax-number">7</span> <span class="syntax-number">8</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">9</span> <span class="syntax-number">10</span> <span class="syntax-number">11</span> <span class="syntax-number">12</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>
<span class="syntax-cons">(<a class="function-reference" href="#function-notany">notany</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-&gt;">&gt;</a></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">5</span> <span class="syntax-number">6</span> <span class="syntax-number">7</span> <span class="syntax-number">8</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">9</span> <span class="syntax-number">10</span> <span class="syntax-number">11</span> <span class="syntax-number">12</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> 
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a> if its first argument is neither a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> nor a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or if any subsequent
argument is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-proper sequence">proper sequence</a>.<br/>Other exceptional situations are possible, depending on the nature
of the <span class="parameter">predicate</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-and">and</a>,
<a class="macro-reference" href="#macro-or">or</a>,
<div class="issue-annotation"><a class="issue-reference" href="issues/mapping-destructive-interaction.xhtml#issue-mapping-destructive-interaction:explicitly-vague">X3J13 Issue MAPPING-DESTRUCTIVE-INTERACTION:EXPLICITLY-VAGUE</a><a class="section-reference" href="chapter-3.xhtml#section-TraversalRules">Traversal Rules and Side Effects</a></div>
</dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-notany">notany</a> <span class="parameter">predicate</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">sequence</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="#function-some">some</a> <span class="parameter">predicate</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">sequence</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-notevery">notevery</a> <span class="parameter">predicate</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">sequence</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="#function-every">every</a> <span class="parameter">predicate</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">sequence</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-and"><div class="header"><span class="left"><span class="name" id="macro-and">and</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">and</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> resulting from the evaluation of 
	          the last <span class="parameter">form</span>, or the symbols <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> or <a class="symbol-reference" href="#symbol-t">t</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>The macro <a class="macro-reference" href="#macro-and">and</a> evaluates each <span class="parameter">form</span> one at a time from left to right. 
As soon as any <span class="parameter">form</span> evaluates to <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>, <a class="macro-reference" href="#macro-and">and</a> returns
<a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> without evaluating the remaining <span class="parameter">forms</span>.  If all <span class="parameter">forms</span>
but the last evaluate to <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> values, <a class="macro-reference" href="#macro-and">and</a> returns the results
produced by evaluating the last <span class="parameter">form</span>.<br/>If no <span class="parameter">forms</span> are supplied, <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a>)</span>
</span></code> returns <a class="symbol-reference" href="#symbol-t">t</a>.<br/><a class="macro-reference" href="#macro-and">and</a> passes back multiple values from the last <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subform</a>
but not from subforms other than the last.<br/><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-&gt;=">&gt;=</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-number">0</span>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-&lt;">&lt;</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-length">length</a> <span class="syntax-interned-symbol">a-simple-vector</span>)</span>)</span>
         <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-elt">elt</a> <span class="syntax-interned-symbol">a-simple-vector</span> <span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">foo</span></span>)</span>)</span>
    <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-princ">princ</a> <span class="syntax-string">"Foo!"</span>)</span>)</span>
</span></code></pre>
The above expression prints <code><span class="syntax-root"><span class="syntax-interned-symbol">Foo!</span>
</span></code> if element <code><span class="syntax-root"><span class="syntax-interned-symbol">n</span>
</span></code> of <code><span class="syntax-root"><span class="syntax-interned-symbol">a-simple-vector</span>
</span></code>
is the symbol <code><span class="syntax-root"><span class="syntax-interned-symbol">foo</span>
</span></code>, provided also that <code><span class="syntax-root"><span class="syntax-interned-symbol">n</span>
</span></code> is indeed a valid index
for <code><span class="syntax-root"><span class="syntax-interned-symbol">a-simple-vector</span>
</span></code>.  Because <a class="macro-reference" href="#macro-and">and</a> guarantees 
left-to-right testing
of its parts, <a class="function-reference" href="chapter-17.xhtml#function-elt">elt</a> is not called if <code><span class="syntax-root"><span class="syntax-interned-symbol">n</span>
</span></code> is out of range.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp1</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">temp2</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">temp3</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span> 
<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp1</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp2</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span> 
<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">temp1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">temp2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-number">2</span> <span class="syntax-interned-symbol">temp3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a> <span class="syntax-interned-symbol">temp3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span> 
<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a> <span class="syntax-interned-symbol">temp1</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a> <span class="syntax-interned-symbol">temp2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eq">eq</a> <span class="syntax-interned-symbol">temp3</span> <span class="syntax-quote">'<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a></span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-decf">decf</a> <span class="syntax-interned-symbol">temp3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> 
<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-interned-symbol">temp1</span> <span class="syntax-interned-symbol">temp2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-eql">eql</a> <span class="syntax-interned-symbol">temp2</span> <span class="syntax-interned-symbol">temp3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-26.xhtml#section-T">T</a> 
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-cond">cond</a>,
<a class="function-reference" href="#function-every">every</a>,
<a class="special-operator-reference" href="#special-operator-if">if</a>,
<a class="macro-reference" href="#macro-or">or</a>,
<a class="macro-reference" href="#macro-when">when</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="parameter">form</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-symbol">()</span> <span class="parameter">form</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="parameter">form1</span> <span class="parameter">form2</span> <span class="syntax-interned-symbol">...</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="parameter">form1</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="parameter">form2</span> <span class="syntax-interned-symbol">...</span>)</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-cond"><div class="header"><span class="left"><span class="name" id="macro-cond">cond</span></span><span class="right"><span class="ftype">Macro</span></span></div>                                         <br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">cond</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><tr><td>clause</td><td>::=</td><td><span class="explicit-roman">(</span>test-form <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span></td></tr><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">test-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> of the <span class="parameter">forms</span> 
    in the first <span class="parameter">clause</span> whose <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>,
 or the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> of the <span class="parameter">test-form</span>
    if there are no <span class="parameter">forms</span> in that <span class="parameter">clause</span>,
 or else <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if no <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-cond">cond</a> allows the execution of <span class="parameter">forms</span> to be dependent
on <span class="parameter">test-form</span>.<br/><span class="parameter">Test-forms</span> are evaluated one at a time in the order in which
they are given in the argument list until a <span class="parameter">test-form</span> is found that
evaluates to <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>.<br/>If there are no <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> in that clause, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> 
of the <span class="parameter">test-form</span> is returned by the <a class="macro-reference" href="#macro-cond">cond</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.
Otherwise, the <span class="parameter">forms</span> associated with this <span class="parameter">test-form</span> are
evaluated in order, left to right, as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>, and the
<span class="glossary-reference error">glossary:values</span> returned by the last <span class="parameter">form</span> 
are returned by the <a class="macro-reference" href="#macro-cond">cond</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/>Once one <span class="parameter">test-form</span> has <span class="glossary-reference error">glossary:yielded</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>,
no additional <span class="parameter">test-forms</span> are <span class="glossary-reference error">glossary:evaluated</span>.
If no <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>, <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> is returned.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">select-options</span> <span class="syntax-symbol">()</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">2</span>)</span>)</span>
        <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">3</span>)</span>)</span>
        <span class="syntax-cons">(<span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">2</span>)</span>)</span>)</span>
        <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">3</span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">SELECT-OPTIONS</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">select-options</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">select-options</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">select-options</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">5</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">5</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">select-options</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-if">if</a>, <a class="macro-reference" href="#macro-case">case</a>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-if"><div class="header"><span class="left"><span class="name" id="special-operator-if">if</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">if</span>&nbsp;<span class="lambda-list"><span class="parameter">test-form</span> <span class="parameter">then-form</span> <span class="explicit-roman">[</span><span class="parameter">else-form</span><span class="explicit-roman">]</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">Test-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">Then-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">Else-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.
  The default is <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/><span class="parameter">results</span>&mdash;if the <span class="parameter">test-form</span> <span class="glossary-reference error">glossary:yielded</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>,
  the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">then-form</span>; otherwise,
  the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">else-form</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-if">if</a> allows the execution of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> to be dependent
on a single <span class="parameter">test-form</span>.<br/>First <span class="parameter">test-form</span> is evaluated.
If the result is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>, then <span class="parameter">then-form</span> is selected;
otherwise <span class="parameter">else-form</span> is selected.
Whichever form is selected is then evaluated.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span> 
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">test</span> <span class="syntax-symbol">()</span>
   <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">truth-value</span> <span class="syntax-quote">'<span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-number">1</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span>)</span></span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">truth-value</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">true</span></span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">false</span></span>)</span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-interned-symbol">truth-value</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">TEST</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">test</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> TRUE T
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> FALSE NIL
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> TRUE 1
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> TRUE (A B C)
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-cond">cond</a>,
<a class="macro-reference" href="#macro-unless">unless</a>,
<a class="macro-reference" href="#macro-when">when</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="parameter">test-form</span> <span class="parameter">then-form</span> <span class="parameter">else-form</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="parameter">test-form</span> <span class="parameter">then-form</span>)</span> <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="parameter">else-form</span>)</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-or"><div class="header"><span class="left"><span class="name" id="macro-or">or</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">or</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">results</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> (see below)
		  resulting from the evaluation of
		  the last <span class="parameter">form</span> executed or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-or">or</a> evaluates each <span class="parameter">form</span>, one at a time, from left to right.  
The evaluation of all <span class="parameter">forms</span> terminates when a <span class="parameter">form</span> evaluates
to <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> (<span class="explicit-italic"> i.e.</span>,  something other than <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>).<br/>If the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of any <span class="parameter">form</span> other than the last returns a
<a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> that is <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>, <a class="macro-reference" href="#macro-or">or</a> immediately returns
that <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> (but no additional <span class="glossary-reference error">glossary:values</span>) without evaluating the
remaining <span class="parameter">forms</span>.
If every <span class="parameter">form</span> but the last returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a> as its <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a>,
<a class="macro-reference" href="#macro-or">or</a> returns all <span class="glossary-reference error">glossary:values</span> returned by the last <span class="parameter">form</span>.
If no <span class="parameter">forms</span> are supplied, <a class="macro-reference" href="#macro-or">or</a> returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> 
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp0</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-interned-symbol">temp1</span> <span class="syntax-number">10</span> <span class="syntax-interned-symbol">temp2</span> <span class="syntax-number">20</span> <span class="syntax-interned-symbol">temp3</span> <span class="syntax-number">30</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">30</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="syntax-interned-symbol">temp0</span> <span class="syntax-interned-symbol">temp1</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp2</span> <span class="syntax-number">37</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">10</span>
<span class="syntax-interned-symbol">temp2</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">20</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp1</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp2</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">11</span>
<span class="syntax-interned-symbol">temp1</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">11</span>
<span class="syntax-interned-symbol">temp2</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">20</span>
<span class="syntax-interned-symbol">temp3</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">30</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a>)</span> <span class="syntax-interned-symbol">temp1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">11</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">temp1</span> <span class="syntax-interned-symbol">temp2</span>)</span> <span class="syntax-interned-symbol">temp3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">11</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="syntax-interned-symbol">temp0</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">temp1</span> <span class="syntax-interned-symbol">temp2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">11</span><span class="syntax-verbatim">,</span> <span class="syntax-number">20</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">temp0</span> <span class="syntax-interned-symbol">temp1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">temp2</span> <span class="syntax-interned-symbol">temp3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">20</span><span class="syntax-verbatim">,</span> <span class="syntax-number">30</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-and">and</a>,
<a class="function-reference" href="#function-some">some</a>,
<a class="macro-reference" href="#macro-unless">unless</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-when"><div class="header"><span class="left"><span class="name" id="macro-when">when</span>, <span class="name" id="macro-unless">unless</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">when</span>&nbsp;<span class="lambda-list">test-form <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><span class="function-definition"><span class="name">unless</span>&nbsp;<span class="lambda-list">test-form <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">test-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>
    in a  <a class="macro-reference" href="#macro-when">when</a>   <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> if the <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> 
 or in an <a class="macro-reference" href="#macro-unless">unless</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> if the <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>;
 otherwise <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-when">when</a> and <a class="macro-reference" href="#macro-unless">unless</a> allow the execution of <span class="parameter">forms</span> 
to be dependent on a single <span class="parameter">test-form</span>.<br/>In a <a class="macro-reference" href="#macro-when">when</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>,
if the <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>,
the <span class="parameter">forms</span> are <span class="glossary-reference error">glossary:evaluated</span> in order from left to right
and the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">forms</span> 
are returned from the <a class="macro-reference" href="#macro-when">when</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>. 
Otherwise, if the <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>,
the <span class="parameter">forms</span> are not <span class="glossary-reference error">glossary:evaluated</span>,
and the <a class="macro-reference" href="#macro-when">when</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/>In an <a class="macro-reference" href="#macro-unless">unless</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>,
if the <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-false">false</a>,
the <span class="parameter">forms</span> are <span class="glossary-reference error">glossary:evaluated</span> in order from left to right
and the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">forms</span> 
are returned from the <a class="macro-reference" href="#macro-unless">unless</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>. 
Otherwise, if the <span class="parameter">test-form</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-yield">yields</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>,
the <span class="parameter">forms</span> are not <span class="glossary-reference error">glossary:evaluated</span>,
and the <a class="macro-reference" href="#macro-unless">unless</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">hello</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">HELLO</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">hello</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">hello</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">hello</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">HELLO</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">3</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 123
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-prin1">prin1</a> <span class="syntax-number">3</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 123
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">3</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
         <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
         <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
         <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> 
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> 
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> 
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-oddp">oddp</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-number">4</span>)</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <span class="syntax-cons">(<span class="syntax-number">5</span>)</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> <span class="syntax-number">6</span> <span class="syntax-cons">(<span class="syntax-number">6</span>)</span> <span class="syntax-number">7</span> <span class="syntax-cons">(<span class="syntax-number">7</span>)</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-and">and</a>,
<a class="macro-reference" href="#macro-cond">cond</a>,
<a class="special-operator-reference" href="#special-operator-if">if</a>,
<a class="macro-reference" href="#macro-or">or</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-and">and</a> <span class="parameter">test</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="parameter">test</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="parameter">test</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="parameter">test</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="parameter">test</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="parameter">test</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="#function-not">not</a> <span class="parameter">test</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math>)</span>
</span></code></pre><br/>
</dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-case"><div class="header"><span class="left"><span class="name" id="macro-case">case</span>, <span class="name" id="macro-ccase">ccase</span>, <span class="name" id="macro-ecase">ecase</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">case</span>&nbsp;<span class="lambda-list">keyform  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">normal-clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <span class="explicit-roman">[</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">otherwise-clause</span><span class="explicit-roman">]</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/>
<span class="function-definition"><span class="name">ccase</span>&nbsp;<span class="lambda-list">keyplace <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">normal-clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/>
<span class="function-definition"><span class="name">ecase</span>&nbsp;<span class="lambda-list">keyform  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">normal-clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><tr><td>normal-clause</td><td>::=</td><td><span class="explicit-roman">(</span>keys <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span></td></tr>
<tr><td>otherwise-clause</td><td>::=</td><td><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math>otherwise | t<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span></td></tr>
<tr><td>clause</td><td>::=</td><td>normal-clause | otherwise-clause</td></tr>
<a id="symbol-otherwise"></a><a id="symbol-t"></a><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">keyform</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated to produce a <span class="parameter">test-key</span>.<br/><span class="parameter">keyplace</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated initially to produce a <span class="parameter">test-key</span>.
   Possibly also used later as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> if no <span class="parameter">keys</span> match.<br/><span class="parameter">test-key</span>&mdash;an object produced by evaluating <span class="parameter">keyform</span> or <span class="parameter">keyplace</span>.<br/><span class="parameter">keys</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a> for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a>.
 In the case of <a class="macro-reference" href="#macro-case">case</a>, the <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a> <a class="symbol-reference" href="#symbol-t">t</a> and <a class="symbol-reference" href="#symbol-otherwise">otherwise</a> may
 not be used as the <span class="parameter">keys</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-designator">designator</a>.  To refer to these <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a>
 by themselves as <span class="parameter">keys</span>, the designators <code><span class="syntax-root"><span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span>
</span></code> and <code><span class="syntax-root"><span class="syntax-cons">(<a class="symbol-reference" href="#symbol-otherwise">otherwise</a>)</span>
</span></code>, respectively,
 must be used instead.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">forms</span> 
		  in the matching <span class="parameter">clause</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>These <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> allow the conditional execution of a body of <span class="parameter">forms</span>
in a <span class="parameter">clause</span> that is selected by matching the <span class="parameter">test-key</span> on the
basis of its identity.<br/>The <span class="parameter">keyform</span> or <span class="parameter">keyplace</span> is <span class="glossary-reference error">glossary:evaluated</span> to produce the
<span class="parameter">test-key</span>.<br/>Each of the <span class="parameter">normal-clauses</span> is then considered in turn.
If the <span class="parameter">test-key</span> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-same">same</a> as any <a class="glossary-reference" href="chapter-26.xhtml#glossary-key">key</a> for 
that <span class="parameter">clause</span>, the <span class="parameter">forms</span> in that <span class="parameter">clause</span> are
<span class="parameter">evaluated</span> as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>, and the <span class="glossary-reference error">glossary:values</span>
it returns are returned as the value of the <a class="macro-reference" href="#macro-case">case</a>,
<a class="macro-reference" href="#macro-ccase">ccase</a>, or <a class="macro-reference" href="#macro-ecase">ecase</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/>These <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> differ only in their <span class="glossary-reference error">glossary:behavior</span> when 
no <span class="parameter">normal-clause</span> matches; specifically:<br/><dl><dt><a class="macro-reference" href="#macro-case">case</a></dt><dd>If no <span class="parameter">normal-clause</span> matches, and there is an <span class="parameter">otherwise-clause</span>,
then that <span class="parameter">otherwise-clause</span> automatically matches; the <span class="parameter">forms</span> in
that <span class="parameter">clause</span> are <span class="parameter">evaluated</span> as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>, 
and the <span class="glossary-reference error">glossary:values</span> it returns are returned as the value of the <a class="macro-reference" href="#macro-case">case</a>.<br/>If there is no <span class="parameter">otherwise-clause</span>, <a class="macro-reference" href="#macro-case">case</a> returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd><dt><a class="macro-reference" href="#macro-ccase">ccase</a></dt><dd>If no <span class="parameter">normal-clause</span> matches,
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-correctable">correctable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-error">error</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a> is signaled.
The offending datum is the <span class="parameter">test-key</span> and
the expected type is <a class="glossary-reference" href="chapter-26.xhtml#glossary-type equivalent">type equivalent</a> to <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-member">member</a> <span class="parameter">key1</span> <span class="parameter">key2</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code>.
The <a class="symbol-reference" href="chapter-9.xhtml#symbol-store-value">store-value</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> can be used to correct the error.<br/>If the <a class="symbol-reference" href="chapter-9.xhtml#symbol-store-value">store-value</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> is invoked, its <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> becomes the 
new <span class="parameter">test-key</span>, and is stored in <span class="parameter">keyplace</span> as if by
<code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">keyplace</span> <span class="parameter">test-key</span>)</span>
</span></code>.
Then <a class="macro-reference" href="#macro-ccase">ccase</a> starts over, considering each <span class="parameter">clause</span> anew.<br/><span class="reviewer-note" id="reviewer-note-will-it-prompt-for-m"><span class="reviewer-note-tooltip"><span class="reviewer">Barmar</span>: Will it prompt for multiple values if keyplace is a VALUES general ref?</span>‣</span>
The subforms of <span class="parameter">keyplace</span> might be evaluated again if
none of the cases holds.<br/></dd><dt><a class="macro-reference" href="#macro-ecase">ecase</a></dt><dd>If no <span class="parameter">normal-clause</span> matches,
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-correctable">non-correctable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-error">error</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a> is signaled.
The offending datum is the <span class="parameter">test-key</span> and
the expected type is <a class="glossary-reference" href="chapter-26.xhtml#glossary-type equivalent">type equivalent</a> to <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-member">member</a> <span class="parameter">key1</span> <span class="parameter">key2</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code>.<br/>Note that in contrast with <a class="macro-reference" href="#macro-ccase">ccase</a>,
the caller of <a class="macro-reference" href="#macro-ecase">ecase</a> may rely on the fact that <a class="macro-reference" href="#macro-ecase">ecase</a> 
does not return if a <span class="parameter">normal-clause</span> does not match.<br/></dd></dl><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-dolist">dolist</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">k</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-keyword-symbol">:four</span> <span class="syntax-character">#\v</span> <span class="syntax-symbol">()</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">other</span></span>)</span></span>)</span>
    <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-string">"~S "</span>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-case">case</a> <span class="syntax-interned-symbol">k</span> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">clause1</span></span>)</span>
               <span class="syntax-cons">(<span class="syntax-number">3</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">clause2</span></span>)</span>
               <span class="syntax-cons">(<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">no-keys-so-never-seen</span></span>)</span>
               <span class="syntax-cons">(<span class="syntax-cons">(<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">nilslot</span></span>)</span>
               <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-keyword-symbol">:four</span> <span class="syntax-character">#\v</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">clause4</span></span>)</span>
               <span class="syntax-cons">(<span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">tslot</span></span>)</span>
               <span class="syntax-cons">(<a class="symbol-reference" href="#symbol-otherwise">otherwise</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">others</span></span>)</span>)</span>)</span>)</span> 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> CLAUSE1 CLAUSE1 CLAUSE2 CLAUSE4 CLAUSE4 NILSLOT TSLOT OTHERS 
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">add-em</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-mapcar">mapcar</a> <span class="syntax-function">#'<span class="syntax-interned-symbol">decode</span></span> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">ADD-EM</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">decode</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-ccase">ccase</a> <span class="syntax-interned-symbol">x</span>
     <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">i</span> <span class="syntax-interned-symbol">uno</span>)</span> <span class="syntax-number">1</span>)</span>
     <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">ii</span> <span class="syntax-interned-symbol">dos</span>)</span> <span class="syntax-number">2</span>)</span>
     <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">iii</span> <span class="syntax-interned-symbol">tres</span>)</span> <span class="syntax-number">3</span>)</span>
     <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">iv</span> <span class="syntax-interned-symbol">cuatro</span>)</span> <span class="syntax-number">4</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">DECODE</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">add-em</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">uno</span> <span class="syntax-interned-symbol">iii</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">add-em</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">uno</span> <span class="syntax-interned-symbol">iiii</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Error: The value of X, IIII, is not I, UNO, II, DOS, III,
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>        TRES, IV, or CUATRO.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>  1: Supply a value to use instead.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>  2: Return to Lisp Toplevel.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Debug&gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><span style="text-decoration: underline;">\hbox:CONTINUE 1</span></math>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Value to evaluate and use for X: <math xmlns="http://www.w3.org/1998/Math/MathML"><span style="text-decoration: underline;">\hbox'IV</span></math>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">5</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>The debugger might be entered.
If the <a class="symbol-reference" href="chapter-9.xhtml#symbol-store-value">store-value</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> is invoked,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of <span class="parameter">keyplace</span> might be changed.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><a class="macro-reference" href="#macro-ccase">ccase</a> and <a class="macro-reference" href="#macro-ecase">ecase</a>, since they might signal an error,
are potentially affected by existing <span class="parameter">handlers</span> and <a class="variable-reference" href="chapter-21.xhtml#variable-*debug-io*">*debug-io*</a>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><a class="macro-reference" href="#macro-ccase">ccase</a> and <a class="macro-reference" href="#macro-ecase">ecase</a> signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
if no <span class="parameter">normal-clause</span> matches.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-cond">cond</a>,
<a class="macro-reference" href="#macro-typecase">typecase</a>,
<a class="macro-reference" href="#macro-setf">setf</a>,
<a class="section-reference" href="#section-GeneralizedReference">Generalized Reference</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-case">case</a> <span class="parameter">test-key</span>
  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math>((<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">key</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>) <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-uninterned-symbol">#1=#:g0001</span> <span class="parameter">test-key</span>)</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math>((member #1# '(<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">key</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)) <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
</span></code></pre><br/>The specific error message used by <a class="macro-reference" href="#macro-ecase">ecase</a> and <a class="macro-reference" href="#macro-ccase">ccase</a> can vary
between implementations.  In situations where control of the specific wording 
of the error message is important, it is better to use <a class="macro-reference" href="#macro-case">case</a> with an
<span class="parameter">otherwise-clause</span> that explicitly signals an error with an appropriate 
message.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-typecase"><div class="header"><span class="left"><span class="name" id="macro-typecase">typecase</span>, <span class="name" id="macro-ctypecase">ctypecase</span>, <span class="name" id="macro-etypecase">etypecase</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">typecase</span>&nbsp;<span class="lambda-list">keyform  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">normal-clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <span class="explicit-roman">[</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">otherwise-clause</span><span class="explicit-roman">]</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/>
<span class="function-definition"><span class="name">ctypecase</span>&nbsp;<span class="lambda-list">keyplace <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">normal-clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/>
<span class="function-definition"><span class="name">etypecase</span>&nbsp;<span class="lambda-list">keyform  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">normal-clause</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><tr><td>normal-clause</td><td>::=</td><td><span class="explicit-roman">(</span>type <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span></td></tr>
<tr><td>otherwise-clause</td><td>::=</td><td><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math>otherwise | t<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span></td></tr>
<tr><td>clause</td><td>::=</td><td>normal-clause | otherwise-clause</td></tr>
<a id="symbol-otherwise"></a><a id="symbol-t"></a><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">keyform</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated to produce a <span class="parameter">test-key</span>.<br/><span class="parameter">keyplace</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated initially to produce a <span class="parameter">test-key</span>.
   Possibly also used later as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> if no <span class="parameter">types</span> match.<br/><span class="parameter">test-key</span>&mdash;an object produced by evaluating <span class="parameter">keyform</span> or <span class="parameter">keyplace</span>.<br/><span class="parameter">type</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-type specifier">type specifier</a>.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">forms</span> 
		  in the matching <span class="parameter">clause</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>These <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> allow the conditional execution of a body of <span class="parameter">forms</span>
in a <span class="parameter">clause</span> that is selected by matching the <span class="parameter">test-key</span> on the basis 
of its <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a>.<br/>The <span class="parameter">keyform</span> or <span class="parameter">keyplace</span> is <span class="glossary-reference error">glossary:evaluated</span> to produce the
<span class="parameter">test-key</span>.<br/>Each of the <span class="parameter">normal-clauses</span> is then considered in turn.
If the <span class="parameter">test-key</span> is of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> 
given by the <span class="parameter">clauses</span>'s <span class="parameter">type</span>,
the <span class="parameter">forms</span> in that <span class="parameter">clause</span> are
<span class="parameter">evaluated</span> as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>, and the <span class="glossary-reference error">glossary:values</span>
it returns are returned as the value of the <a class="macro-reference" href="#macro-typecase">typecase</a>,
<a class="macro-reference" href="#macro-ctypecase">ctypecase</a>, or <a class="macro-reference" href="#macro-etypecase">etypecase</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/>These <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macros</a> differ only in their <span class="glossary-reference error">glossary:behavior</span> when 
no <span class="parameter">normal-clause</span> matches; specifically:<br/><dl><dt><a class="macro-reference" href="#macro-typecase">typecase</a></dt><dd>If no <span class="parameter">normal-clause</span> matches, and there is an <span class="parameter">otherwise-clause</span>,
then that <span class="parameter">otherwise-clause</span> automatically matches; the <span class="parameter">forms</span> in
that <span class="parameter">clause</span> are <span class="parameter">evaluated</span> as an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>, 
and the <span class="glossary-reference error">glossary:values</span> it returns are returned as the value of the <a class="macro-reference" href="#macro-typecase">typecase</a>.<br/>If there is no <span class="parameter">otherwise-clause</span>, <a class="macro-reference" href="#macro-typecase">typecase</a> returns <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/></dd><dt><a class="macro-reference" href="#macro-ctypecase">ctypecase</a></dt><dd>If no <span class="parameter">normal-clause</span> matches,
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-correctable">correctable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-error">error</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a> is signaled.
The offending datum is the <span class="parameter">test-key</span> and
the expected type is <a class="glossary-reference" href="chapter-26.xhtml#glossary-type equivalent">type equivalent</a> to <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="parameter">type1</span> <span class="parameter">type2</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code>.
The <a class="symbol-reference" href="chapter-9.xhtml#symbol-store-value">store-value</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> can be used to correct the error.<br/>If the <a class="symbol-reference" href="chapter-9.xhtml#symbol-store-value">store-value</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> is invoked, its <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> becomes the 
new <span class="parameter">test-key</span>, and is stored in <span class="parameter">keyplace</span> as if by
<code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">keyplace</span> <span class="parameter">test-key</span>)</span>
</span></code>.
Then <a class="macro-reference" href="#macro-ctypecase">ctypecase</a> starts over, considering each <span class="parameter">clause</span> anew.<br/>If the <a class="symbol-reference" href="chapter-9.xhtml#symbol-store-value">store-value</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-restart">restart</a> is invoked interactively, 
the user is prompted for a new <span class="parameter">test-key</span> to use.<br/>The subforms of <span class="parameter">keyplace</span> might be evaluated again if
none of the cases holds.<br/></dd><dt><a class="macro-reference" href="#macro-etypecase">etypecase</a></dt><dd>If no <span class="parameter">normal-clause</span> matches,
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-non-correctable">non-correctable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-error">error</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a> is signaled.
The offending datum is the <span class="parameter">test-key</span> and
the expected type is <a class="glossary-reference" href="chapter-26.xhtml#glossary-type equivalent">type equivalent</a> to <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-or">or</a> <span class="parameter">type1</span> <span class="parameter">type2</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code>.<br/>Note that in contrast with <a class="macro-reference" href="#macro-ctypecase">ctypecase</a>,
the caller of <a class="macro-reference" href="#macro-etypecase">etypecase</a> may rely on the fact that <a class="macro-reference" href="#macro-etypecase">etypecase</a> 
does not return if a <span class="parameter">normal-clause</span> does not match.<br/></dd></dl><br/>In all three cases, is permissible for more than one <span class="parameter">clause</span> to specify a
matching <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a>, particularly if one is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-subtype">subtype</a> of another;
the earliest applicable <span class="parameter">clause</span> is chosen.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root">;;; (Note that the parts of this example which use TYPE-OF 
;;;  are implementation-dependent.)
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">what-is-it</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-string">"~&amp;~S is ~A.~%"</span>
           <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-typecase">typecase</a> <span class="syntax-interned-symbol">x</span>
               <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-float">float</a> <span class="syntax-string">"a float"</span>)</span>
               <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-string">"a symbol, boolean false, or the empty list"</span>)</span>
               <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-string">"a list"</span>)</span>
               <span class="syntax-cons">(<a class="section-reference" href="chapter-26.xhtml#section-T">t</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-format">format</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-string">"a(n) ~(~A~)"</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-4.xhtml#function-type-of">type-of</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">WHAT-IS-IT</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-map">map</a> <span class="syntax-quote">'<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a></span> <span class="syntax-function">#'<span class="syntax-interned-symbol">what-is-it</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-number">7.0</span> <span class="syntax-number">7</span> <span class="syntax-interned-symbol">box</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> NIL is a symbol, boolean false, or the empty list.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> (A B) is a list.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 7.0 is a float.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 7 is a(n) integer.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> BOX is a(n) symbol.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">1/3</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1/3</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-ctypecase">ctypecase</a> <span class="syntax-interned-symbol">x</span>
     <span class="syntax-cons">(<a class="type-reference" href="chapter-12.xhtml#type-integer">integer</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-number">4</span>)</span>)</span>
     <span class="syntax-cons">(<a class="symbol-reference" href="chapter-2.xhtml#symbol-symbol">symbol</a>  <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Error: The value of X, 1/3, is neither an integer nor a symbol.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> To continue, type :CONTINUE followed by an option number:
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>  1: Specify a value to use instead.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>  2: Return to Lisp Toplevel.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Debug&gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><span style="text-decoration: underline;">\hbox:CONTINUE 1</span></math>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Use value: <math xmlns="http://www.w3.org/1998/Math/MathML"><span style="text-decoration: underline;">\hbox3.7</span></math>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Error: The value of X, 3.7, is neither an integer nor a symbol.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> To continue, type :CONTINUE followed by an option number:
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>  1: Specify a value to use instead.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math>  2: Return to Lisp Toplevel.
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Debug&gt; <math xmlns="http://www.w3.org/1998/Math/MathML"><span style="text-decoration: underline;">\hbox:CONTINUE 1</span></math>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> Use value: <math xmlns="http://www.w3.org/1998/Math/MathML"><span style="text-decoration: underline;">\hbox12</span></math>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">48</span>
 <span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">12</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><a class="macro-reference" href="#macro-ctypecase">ctypecase</a> and <a class="macro-reference" href="#macro-etypecase">etypecase</a>, since they might signal an error,
are potentially affected by existing <span class="parameter">handlers</span> and <a class="variable-reference" href="chapter-21.xhtml#variable-*debug-io*">*debug-io*</a>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><a class="macro-reference" href="#macro-ctypecase">ctypecase</a> and <a class="macro-reference" href="#macro-etypecase">etypecase</a> signal an error of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a>
if no <span class="parameter">normal-clause</span> matches.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> may choose to issue a warning of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="chapter-9.xhtml#type-style-warning">style-warning</a>
if a <span class="parameter">clause</span> will never be selected because it is completely 
shadowed by earlier clauses.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-case">case</a>,
<a class="macro-reference" href="#macro-cond">cond</a>,
<a class="macro-reference" href="#macro-setf">setf</a>,
<a class="section-reference" href="#section-GeneralizedReference">Generalized Reference</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-typecase">typecase</a> <span class="parameter">test-key</span>
  <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math>(<span class="parameter">type</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-uninterned-symbol">#1=#:g0001</span> <span class="parameter">test-key</span>)</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math>((typep #1# '<span class="parameter">type</span>) <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
</span></code></pre><br/>The specific error message used by <a class="macro-reference" href="#macro-etypecase">etypecase</a> and <a class="macro-reference" href="#macro-ctypecase">ctypecase</a> can vary
between implementations.  In situations where control of the specific wording 
of the error message is important, it is better to use <a class="macro-reference" href="#macro-typecase">typecase</a> with an
<span class="parameter">otherwise-clause</span> that explicitly signals an error with an appropriate 
message.<br/></dd></dl></div></div><br/><br/>                 

<br/><div class="component" id="macro-multiple-value-bind"><div class="header"><span class="left"><span class="name" id="macro-multiple-value-bind">multiple-value-bind</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">multiple-value-bind</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
 		   <span class="parameter">values-form</span>
 		   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>
 		   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">var</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> naming a variable; not evaluated.<br/><span class="parameter">values-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">forms</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Creates new variable <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> for the <span class="parameter">vars</span> and
executes a series of <span class="parameter">forms</span> that use these <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a>.<br/>The variable <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">bindings</a> created are lexical unless
<a class="declaration-reference" href="chapter-3.xhtml#declaration-special">special</a> declarations are specified.  <br/><span class="parameter">Values-form</span> is evaluated, and each of the <span class="parameter">vars</span> is
bound to the respective value returned by that <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.  If there are more
<span class="parameter">vars</span> than values returned, extra values of <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> are given to the
remaining <span class="parameter">vars</span>. If there are more values than 
<span class="parameter">vars</span>, the excess
values are discarded.  The <span class="parameter">vars</span> are bound to the values over
the execution of the <span class="parameter">forms</span>, which make up an implicit <a class="special-operator-reference" href="#special-operator-progn">progn</a>.
The consequences are unspecified if a type <span class="parameter">declaration</span> is specified 
for a <span class="parameter">var</span>, but the value to which
that <span class="parameter">var</span> is bound  is not consistent with 
the type <span class="parameter">declaration</span>.<br/>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-scope">scopes</a> of the name binding and <span class="parameter">declarations</span>
do not include the <span class="parameter">values-form</span>.

</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">f</span> <span class="syntax-interned-symbol">r</span>)</span> 
    <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">130</span> <span class="syntax-number">11</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">f</span> <span class="syntax-interned-symbol">r</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">11</span> <span class="syntax-number">9</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-let">let</a>,
<a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span> <span class="parameter">values-form</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a> <span class="syntax-function">#'<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> #1=#:ignore)</span>
                            <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="declaration-reference" href="chapter-3.xhtml#declaration-ignore">ignore</a> <span class="syntax-uninterned-symbol">#1#</span>)</span>)</span>
                            <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span></span>
                        <span class="parameter">values-form</span>)</span>
</span></code></pre><br/></dd></dl></div></div>
</div><br/><br/>
<br/><div class="component" id="special-operator-multiple-value-call"><div class="header"><span class="left"><span class="name" id="special-operator-multiple-value-call">multiple-value-call</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">multiple-value-call</span>&nbsp;<span class="lambda-list"><span class="parameter">function-form</span> <span class="parameter">form</span><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">function-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated to produce <span class="parameter">function</span>.<br/><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function designator">function designator</a> 
		   resulting from the evaluation of <span class="parameter">function-form</span>.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> returned by the <span class="parameter">function</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Applies <span class="parameter">function</span> to a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">objects</a> collected from groups of 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub>.<br/><a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a> first evaluates the <span class="parameter">function-form</span>
to obtain <span class="parameter">function</span>, and then evaluates each <span class="parameter">form</span>.
All the values
of each <span class="parameter">form</span> are gathered together (not just one value from each)
and given as arguments to the <span class="parameter">function</span>.  <br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-list">list</a></span> <span class="syntax-number">1</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-/">/</a></span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-/">/</a></span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a>)</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-/">/</a></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">2.5</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <a class="function-reference" href="chapter-12.xhtml#function-/">/</a> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <a class="function-reference" href="chapter-12.xhtml#function-/">/</a> <a class="function-reference" href="chapter-12.xhtml#function-/">/</a> <span class="syntax-number">2</span> <span class="syntax-number">0.5</span>)</span>
 <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">5</span> <span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">19</span> <span class="syntax-number">4</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-number">1</span> <span class="syntax-number">4</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">5</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-12.xhtml#function-+">+</a></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">5</span> <span class="syntax-number">3</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">19</span> <span class="syntax-number">4</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">4</span> <span class="syntax-number">3</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">10</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a>, <a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-multiple-value-list"><div class="header"><span class="left"><span class="name" id="macro-multiple-value-list">multiple-value-list</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">multiple-value-list</span>&nbsp;<span class="lambda-list">form</span>&nbsp;→&nbsp;<span class="return-values">list</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/><span class="parameter">list</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of the <span class="glossary-reference error">glossary:values</span> returned by <span class="parameter">form</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a> evaluates <span class="parameter">form</span> 
and creates a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub> it returns.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-number">-3</span> <span class="syntax-number">4</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">-1</span> <span class="syntax-number">1</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-values-list">values-list</a>,
<a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a> and <a class="function-reference" href="#function-values-list">values-list</a> are inverses
of each other.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a> <span class="syntax-interned-symbol">form</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-multiple-value-call">multiple-value-call</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-list">list</a></span> <span class="syntax-interned-symbol">form</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="special-operator-multiple-value-prog1"><div class="header"><span class="left"><span class="name" id="special-operator-multiple-value-prog1">multiple-value-prog1</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">multiple-value-prog1</span>&nbsp;<span class="lambda-list">first-form <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">first-form-results</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">first-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/><span class="parameter">first-form-results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> resulting from
			     the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <span class="parameter">first-form</span>.      <br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-multiple-value-prog1">multiple-value-prog1</a> evaluates <span class="parameter">first-form</span> and saves
all the values produced by that <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>. It then evaluates each 
<span class="parameter">form</span> from left to right, discarding their values.  <br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-multiple-value-prog1">multiple-value-prog1</a>
   <span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="syntax-interned-symbol">temp</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="syntax-interned-symbol">temp</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <span class="syntax-number">3</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-prog1">prog1</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-multiple-value-setq"><div class="header"><span class="left"><span class="name" id="macro-multiple-value-setq">multiple-value-setq</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">multiple-value-setq</span>&nbsp;<span class="lambda-list">vars form</span>&nbsp;→&nbsp;<span class="return-values">result</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">vars</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbols</a>
	       that are either <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">names</a>
	       or <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">names</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol macro">symbol macros</a>.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">result</span>&mdash;The <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> returned by the <span class="parameter">form</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-multiple-value-setq">multiple-value-setq</a> assigns values to <span class="parameter">vars</span>.<br/>The <span class="parameter">form</span> is evaluated,
and each <span class="parameter">var</span> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-assign">assigned</a> 
to the corresponding <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> returned by that <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>. 
If there are more <span class="parameter">vars</span> than <span class="glossary-reference error">glossary:values</span> returned,
<a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> is <a class="glossary-reference" href="chapter-26.xhtml#glossary-assign">assigned</a> to the extra <span class="parameter">vars</span>.
If there are more <span class="glossary-reference error">glossary:values</span> than <span class="parameter">vars</span>,
the extra <span class="glossary-reference error">glossary:values</span> are discarded.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/symbol-macrolet-semantics.xhtml#issue-symbol-macrolet-semantics:special-form">X3J13 Issue SYMBOL-MACROLET-SEMANTICS:SPECIAL-FORM</a>If any <span class="parameter">var</span> is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">name</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol macro">symbol macro</a>,
then it is <a class="glossary-reference" href="chapter-26.xhtml#glossary-assign">assigned</a> as if by <a class="macro-reference" href="#macro-setf">setf</a>.  Specifically,<br/><div class="issue-annotation"><span class="issue-reference error">issue:MULTIPLE-VALUE-SETQ-ORDER</span><span class="error">unexpanded macro: (:OTHER-COMMAND-APPLICATION NIL :OUTPUT-FILE "chapter-5"
                   :NAME "begingroup" :BOUNDS (163984 . 163995))</span>


<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-setq">multiple-value-setq</a> <span class="syntax-cons">(<span class="explicit-italic"> symbol</span><sub>1</sub> <span class="syntax-interned-symbol">...</span> <span class="explicit-italic"> symbol</span><sub>n</sub>)</span> <span class="explicit-italic"> value-producing-form</span>)</span>
</span></code></pre>
is defined to always behave in the same way as<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="explicit-italic"> symbol</span><sub>1</sub> <span class="syntax-interned-symbol">...</span> <span class="explicit-italic"> symbol</span><sub>n</sub>)</span> <span class="explicit-italic"> value-producing-form</span>)</span>)</span>
</span></code></pre>
<span class="error">unexpanded macro: (:OTHER-COMMAND-APPLICATION NIL :OUTPUT-FILE "chapter-5"
                   :NAME "endgroup" :BOUNDS (164293 . 164302))</span>
in order that the rules for order of evaluation and side-effects be consistent
with those used by <a class="macro-reference" href="#macro-setf">setf</a>.<a id="index/text-order of evaluation"></a><a id="index/text-evaluation order"></a>
See <span class="section-reference error">section:SETFofVALUES.</span></div></div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-setq">multiple-value-setq</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">quotient</span> <span class="syntax-interned-symbol">remainder</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-truncate">truncate</a> <span class="syntax-number">3.2</span> <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-interned-symbol">quotient</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-interned-symbol">remainder</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1.2</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-setq">multiple-value-setq</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
<span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-setq">multiple-value-setq</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
<span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">5</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-setq">setq</a>,
<a class="special-operator-reference" href="chapter-3.xhtml#special-operator-symbol-macrolet">symbol-macrolet</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="function-values"><div class="header"><span class="left"><span class="name" id="function-values">values</span></span><span class="right"><span class="ftype">Accessor</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">values</span>&nbsp;<span class="lambda-list"><span class="lambda-list-keyword">&amp;rest</span> object</span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">object</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/>
<div class="issue-annotation"><span class="issue-reference error">issue:SETF-OF-VALUES</span><span class="setf-definition">(setf (<span class="name">values</span>&nbsp;<span class="lambda-list"><span class="lambda-list-keyword">&amp;rest</span> place</span>) <span class="new-value">new-values</span>)</span><br/></div>
</dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:SETF-OF-VALUES</span><span class="parameter">place</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/><span class="parameter">new-value</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.
</div>
</dd></dl><dl><dt class="label">Description</dt><dd><a class="function-reference" href="#function-values">values</a> 
returns the <span class="parameter">objects</span> as <a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:SETF-OF-VALUES</span><a class="macro-reference" href="#macro-setf">setf</a> of <a class="function-reference" href="#function-values">values</a> is used to store the
<a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub> <span class="parameter">new-values</span> into the <span class="parameter">places</span>.  
See <span class="section-reference error">section:SETFofVALUES.</span></div><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>⟨</mi></math><span class="explicit-italic"> no <span class="glossary-reference error">glossary:values</span></span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>⟩</mi></math>
 <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <span class="syntax-number">3</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-number">4</span> <span class="syntax-number">5</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">4</span><span class="syntax-verbatim">,</span> <span class="syntax-number">5</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">polar</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-sqrt">sqrt</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-*">*</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-atan">atan</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">POLAR</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">r</span> <span class="syntax-interned-symbol">theta</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">polar</span> <span class="syntax-number">3.0</span> <span class="syntax-number">4.0</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-vector">vector</a> <span class="syntax-interned-symbol">r</span> <span class="syntax-interned-symbol">theta</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-vector">#(<span class="syntax-number">5.0</span> <span class="syntax-number">0.927295</span>)</span>
</span></code></pre><br/>Sometimes it is desirable to indicate explicitly that a function returns
exactly one value.  For example, the function<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-interned-symbol">y</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">FOO</span>
</span></code></pre>
returns two values because <a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> returns
two values.  It may be that the second value makes no sense,
or that for efficiency reasons it is desired not to compute the
second value.  <a class="function-reference" href="#function-values">values</a> is the standard idiom
for indicating that only one value is to be returned:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>
  <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">FOO</span>
</span></code></pre>
This works because <a class="function-reference" href="#function-values">values</a> 
returns exactly one value for each of
<span class="parameter">args</span>; as for any function call,
if any of <span class="parameter">args</span> produces more than one value, all but the
first are discarded.<br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>!<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>!<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="#function-values-list">values-list</a>,
<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a>,
<a class="constant-reference" href="#constant-multiple-values-limit">multiple-values-limit</a>,
<a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Since <a class="function-reference" href="#function-values">values</a> is a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>, not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-special form">special form</a>,
it receives as <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">arguments</a> only the <span class="glossary-reference error">glossary:primary values</span> of 
its <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="function-values-list"><div class="header"><span class="left"><span class="name" id="function-values-list">values-list</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">values-list</span>&nbsp;<span class="lambda-list">list</span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">element</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">list</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">list</a>.<br/><span class="parameter">elements</span>&mdash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">elements</a> of the <span class="parameter">list</span>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Returns the <a class="glossary-reference" href="chapter-26.xhtml#glossary-element">elements</a> of the <span class="parameter">list</span> as <a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>⟨</mi></math><span class="explicit-italic"> no <span class="glossary-reference error">glossary:values</span></span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>⟩</mi></math>
<span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span>
<span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <span class="syntax-number">3</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd>Should signal <a class="type-reference" href="chapter-4.xhtml#type-type-error">type-error</a> if its argument is not a <a class="glossary-reference" href="chapter-26.xhtml#glossary-proper list">proper list</a>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a>,
<a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a>,
<a class="constant-reference" href="#constant-multiple-values-limit">multiple-values-limit</a>,
<a class="function-reference" href="#function-values">values</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="parameter">list</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-apply">apply</a> <span class="syntax-function">#'<a class="function-reference" href="#function-values">values</a></span> <span class="parameter">list</span>)</span>
</span></code></pre><br/><code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="#function-equal">equal</a> <span class="parameter">x</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values-list">values-list</a> <span class="parameter">x</span>)</span>)</span>)</span>
</span></code>
returns <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a> for all <a class="glossary-reference" href="chapter-26.xhtml#glossary-list">lists</a> <span class="parameter">x</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="constant-multiple-values-limit"><div class="header"><span class="left"><span class="name" id="constant-multiple-values-limit">multiple-values-limit</span></span><span class="right"><span class="ftype">Constant Variable</span></span></div><br/><dl><dt class="label">Constant Value</dt><dd>An <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a> not smaller than <code><span class="syntax-root"><span class="syntax-number">20</span>
</span></code>, 
the exact magnitude of which is <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation-dependent">implementation-dependent</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>The upper exclusive bound on the number of <span class="glossary-reference error">glossary:values</span> that may be
    returned from a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a>,
<span class="issue-annotation"><span class="issue-reference error">issue:MULTIPLE-VALUES-LIMIT-ON-VARIABLES</span>    bound or assigned by <a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> or <a class="macro-reference" href="#macro-multiple-value-setq">multiple-value-setq</a>,
 or passed as a first argument to <a class="macro-reference" href="#macro-nth-value">nth-value</a>.
(If these individual limits might differ, the minimum value is used.)
</span>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><span class="none">None</span>.<br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="constant-reference" href="#constant-lambda-parameters-limit">lambda-parameters-limit</a>, <a class="constant-reference" href="#constant-call-arguments-limit">call-arguments-limit</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Implementors are encouraged to make this limit as large as possible.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-nth-value"><div class="header"><span class="left"><span class="name" id="macro-nth-value">nth-value</span></span><span class="right"><span class="ftype">Macro</span></span></div>                         <br/><div class="issue-annotation"><a class="issue-reference" href="issues/nth-value.xhtml#issue-nth-value:add">X3J13 Issue NTH-VALUE:ADD</a>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">nth-value</span>&nbsp;<span class="lambda-list">n form</span>&nbsp;→&nbsp;<span class="return-values">object</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">n</span>&mdash;a non-negative <a class="glossary-reference" href="chapter-26.xhtml#glossary-integer">integer</a>; evaluated.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/><span class="parameter">object</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Evaluates <span class="parameter">n</span> and then <span class="parameter">form</span>,
returning as its only value the <span class="parameter">n</span>th value <span class="glossary-reference error">glossary:yielded</span> by <span class="parameter">form</span>,
or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if <span class="parameter">n</span> is greater than or equal to the number of <span class="glossary-reference error">glossary:values</span>
returned by <span class="parameter">form</span>.  (The first returned value is numbered <code><span class="syntax-root"><span class="syntax-number">0</span>
</span></code>.)<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-nth-value">nth-value</a> <span class="syntax-number">0</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">A</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-nth-value">nth-value</a> <span class="syntax-number">1</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">B</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-nth-value">nth-value</a> <span class="syntax-number">2</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let*">let*</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-number">83927472397238947423879243432432432</span>)</span>
        <span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-number">32423489732</span>)</span>
        <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-nth-value">nth-value</a> <span class="syntax-number">1</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-floor">floor</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span>
        <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-mod">mod</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3332987528</span><span class="syntax-verbatim">,</span> <span class="syntax-number">3332987528</span><span class="syntax-verbatim">,</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-true">true</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a>,
<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Operationally, the following relationship is true, although <a class="macro-reference" href="#macro-nth-value">nth-value</a>
might be more efficient in some <a class="glossary-reference" href="chapter-26.xhtml#glossary-implementation">implementations</a> 
because, for example, some <a class="glossary-reference" href="chapter-26.xhtml#glossary-cons">consing</a> might be avoided.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-nth-value">nth-value</a> <span class="parameter">n</span> <span class="parameter">form</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="parameter">n</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-list">multiple-value-list</a> <span class="parameter">form</span>)</span>)</span>
</span></code></pre><br/></dd></dl></div></div></div><br/><br/>
<br/><div class="component" id="macro-prog"><div class="header"><span class="left"><span class="name" id="macro-prog">prog</span>, <span class="name" id="macro-prog*">prog*</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">prog</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> 
			  	       <span class="explicit-roman">(</span><span class="parameter">var</span> <span class="explicit-roman">[</span><span class="parameter">init-form</span><span class="explicit-roman">]</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
	      	   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>
	      	   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">tag</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">statement</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/><span class="function-definition"><span class="name">prog*</span>&nbsp;<span class="lambda-list"><span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">var</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> 
				       <span class="explicit-roman">(</span><span class="parameter">var</span> <span class="explicit-roman">[</span><span class="parameter">init-form</span><span class="explicit-roman">]</span><span class="explicit-roman">)</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
		   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> 
		   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">tag</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">statement</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">var</span>&mdash;variable name.<br/><span class="parameter">init-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">tag</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-go tag">go tag</a>; not evaluated.<br/><span class="parameter">statement</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-compound form">compound form</a>; evaluated as described below.<br/><span class="parameter">results</span>&mdash;<a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if a <a class="glossary-reference" href="chapter-26.xhtml#glossary-normal return">normal return</a> occurs,
   or else, if an <a class="glossary-reference" href="chapter-26.xhtml#glossary-explicit return">explicit return</a> occurs, the <span class="glossary-reference error">glossary:values</span> that were transferred.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Three distinct operations are performed by <a class="macro-reference" href="#macro-prog">prog</a> and 
<a class="macro-reference" href="#macro-prog*">prog*</a>:  
they bind local variables,
they permit use of the <a class="macro-reference" href="#macro-return">return</a> 
statement, and they permit use of the <a class="special-operator-reference" href="#special-operator-go">go</a>
statement.
A typical <a class="macro-reference" href="#macro-prog">prog</a> looks like this:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-prog">prog</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">var1</span> <span class="syntax-interned-symbol">var2</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">var3</span> <span class="syntax-interned-symbol">init-form-3</span>)</span> <span class="syntax-interned-symbol">var4</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">var5</span> <span class="syntax-interned-symbol">init-form-5</span>)</span>)</span>
      <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>
      <span class="syntax-interned-symbol">statement1</span>
 <span class="syntax-interned-symbol">tag1</span>
      <span class="syntax-interned-symbol">statement2</span>
      <span class="syntax-interned-symbol">statement3</span>
      <span class="syntax-interned-symbol">statement4</span>
 <span class="syntax-interned-symbol">tag2</span>
      <span class="syntax-interned-symbol">statement5</span>
      <span class="syntax-interned-symbol">...</span>
      )</span>
</span></code></pre><br/>For <a class="macro-reference" href="#macro-prog">prog</a>,
<span class="parameter">init-forms</span> are evaluated first, in the order in which they are
supplied. The <span class="parameter">vars</span> are then bound to the corresponding values in
parallel.  If no <span class="parameter">init-form</span> 
is supplied for a given <span class="parameter">var</span>, 
that <span class="parameter">var</span> is  bound to <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.<br/>The body of <a class="macro-reference" href="#macro-prog">prog</a> is executed as if it were a <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>;
the <a class="special-operator-reference" href="#special-operator-go">go</a> statement can be used to transfer control
to a <span class="parameter">tag</span>.
<span class="parameter">Tags</span> label <span class="parameter">statements</span>.<br/><a class="macro-reference" href="#macro-prog">prog</a> implicitly establishes a <a class="special-operator-reference" href="#special-operator-block">block</a> named <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> around
the entire <a class="macro-reference" href="#macro-prog">prog</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>, so that <a class="macro-reference" href="#macro-return">return</a> can be used
at any time to exit from the <a class="macro-reference" href="#macro-prog">prog</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/>The difference between <a class="macro-reference" href="#macro-prog*">prog*</a> and <a class="macro-reference" href="#macro-prog">prog</a> is that
in <a class="macro-reference" href="#macro-prog*">prog*</a> the <a class="glossary-reference" href="chapter-26.xhtml#glossary-binding">binding</a> and initialization of the <span class="parameter">vars</span> 
is done <a class="glossary-reference" href="chapter-26.xhtml#glossary-sequentially">sequentially</a>, so that the <span class="parameter">init-form</span> for each
one can use the values of previous ones.<br/>

</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-prog*">prog*</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">z</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
</span></code></pre>
returns the <a class="glossary-reference" href="chapter-26.xhtml#glossary-car">car</a> of the value of <code><span class="syntax-root"><span class="syntax-interned-symbol">z</span>
</span></code>.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-prog">prog</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">a</span>)</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-=">=</a></span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-/=">/=</a></span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="function-reference" href="chapter-12.xhtml#function-/=">/=</a>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-prog*">prog*</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-number">2</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">a</span>)</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-=">=</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-=">=</a></span> <span class="syntax-quote">'<a class="function-reference" href="chapter-12.xhtml#function-/=">/=</a></span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="function-reference" href="chapter-12.xhtml#function-=">=</a>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-prog">prog</a> <span class="syntax-symbol">()</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">no-return-value</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre>
<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">king-of-confusion</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">w</span>)</span>
  <span class="syntax-string">"Take a cons of two lists and make a list of conses.
   Think of this function as being like a zipper."</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog">prog</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">z</span>)</span>          <span class="syntax-line-comment syntax-comment">;Initialize x, y, z to NIL
</span>       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">w</span>)</span> <span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">w</span>)</span>)</span>
   <a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-cond">cond</a> <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-return">return</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>
             <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-interned-symbol">z</span>)</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">err</span>)</span>)</span>)</span>
   <span class="syntax-interned-symbol">rejoin</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">z</span>)</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">z</span>)</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <a class="macro-reference" href="chapter-6.xhtml#macro-loop">loop</a>)</span>
   <span class="syntax-interned-symbol">err</span>
       <span class="syntax-cons">(<a class="function-reference" href="chapter-9.xhtml#function-cerror">cerror</a> <span class="syntax-string">"Will self-pair extraneous items"</span>
               <span class="syntax-string">"Mismatch - gleep!  ~S"</span> <span class="syntax-interned-symbol">y</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">z</span> <span class="syntax-interned-symbol">y</span>)</span>
       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-go">go</a> <span class="syntax-interned-symbol">rejoin</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">KING-OF-CONFUSION</span> 
</span></code></pre>
This can be accomplished more perspicuously as follows:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">prince-of-clarity</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">w</span>)</span>
  <span class="syntax-string">"Take a cons of two lists and make a list of conses.
   Think of this function as being like a zipper."</span>
  <span class="syntax-cons">(<a class="macro-reference" href="chapter-6.xhtml#macro-do">do</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">w</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">y</span>)</span>)</span>
       <span class="syntax-cons">(<span class="syntax-interned-symbol">z</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">w</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">z</span>)</span>)</span>
       <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="explicit-mono">()</span></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">z</span>)</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>
      <span class="syntax-cons">(<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>
    <span class="syntax-cons">(<a class="macro-reference" href="#macro-when">when</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-interned-symbol">z</span>)</span>
      <span class="syntax-cons">(<a class="function-reference" href="chapter-9.xhtml#function-cerror">cerror</a> <span class="syntax-string">"Will self-pair extraneous items"</span>
             <span class="syntax-string">"Mismatch - gleep!  ~S"</span> <span class="syntax-interned-symbol">y</span>)</span>
      <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">z</span> <span class="syntax-interned-symbol">y</span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">PRINCE-OF-CLARITY</span> 
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-block">block</a>, <a class="special-operator-reference" href="#special-operator-let">let</a>, <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a>, <a class="special-operator-reference" href="#special-operator-go">go</a>, 
<a class="macro-reference" href="#macro-return">return</a>, <a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="macro-reference" href="#macro-prog">prog</a> can be explained in terms of 
<a class="special-operator-reference" href="#special-operator-block">block</a>, <a class="special-operator-reference" href="#special-operator-let">let</a>, and <a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> as
follows:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-prog">prog</a> <span class="parameter">variable-list</span> <span class="parameter">declaration</span> <span class="syntax-symbol">.</span> <span class="parameter">body</span>)</span>
   <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-block">block</a> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="parameter">variable-list</span> <span class="parameter">declaration</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-tagbody">tagbody</a> <span class="syntax-symbol">.</span> <span class="parameter">body</span>)</span>)</span>)</span>
</span></code></pre><br/>
</dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="macro-prog1"><div class="header"><span class="left"><span class="name" id="macro-prog1">prog1</span>, <span class="name" id="macro-prog2">prog2</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">prog1</span>&nbsp;<span class="lambda-list">first-form             <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">result-1</span></span><br/>
<span class="function-definition"><span class="name">prog2</span>&nbsp;<span class="lambda-list">first-form second-form <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">result-2</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">first-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/><span class="parameter">second-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated as described below.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>; evaluated as described below.<br/><span class="parameter">result-1</span>&mdash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> resulting from 
		   the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <span class="parameter">first-form</span>.<br/><span class="parameter">result-2</span>&mdash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> resulting from 
		   the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <span class="parameter">second-form</span>.<br/>
</dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-prog1">prog1</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">evaluates</a> <span class="parameter">first-form</span> 
 and then <span class="parameter">forms</span>,
<span class="glossary-reference error">glossary:yielding</span> as its only <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a>
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> <span class="glossary-reference error">glossary:yielded</span> by <span class="parameter">first-form</span>.<br/><a class="macro-reference" href="#macro-prog2">prog2</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">evaluates</a> <span class="parameter">first-form</span>,
     then <span class="parameter">second-form</span>,
 and then <span class="parameter">forms</span>,
<span class="glossary-reference error">glossary:yielding</span> as its only <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a>
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-primary value">primary value</a> <span class="glossary-reference error">glossary:yielded</span> by <span class="parameter">second-form</span>.<br/>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-interned-symbol">temp</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-22.xhtml#function-print">print</a> <span class="syntax-interned-symbol">temp</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 1
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>▷</mi></math> 2
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
 <span class="syntax-interned-symbol">temp</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-number">4</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span> 
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">temp</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">temp</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">alpha</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">A</span>
 <span class="syntax-interned-symbol">temp</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">ALPHA</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span>)</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">swap-symbol-values</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>
          <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">x</span>)</span> 
                <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">y</span>)</span>
                       <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">*foo*</span> <span class="syntax-number">1</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">*bar*</span> <span class="syntax-number">2</span>)</span>)</span>
     <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <span class="syntax-cons">(<a class="symbol-reference" href="chapter-3.xhtml#symbol-special">special</a> <span class="syntax-interned-symbol">*foo*</span> <span class="syntax-interned-symbol">*bar*</span>)</span>)</span>
     <span class="syntax-cons">(<span class="syntax-interned-symbol">swap-symbol-values</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">*foo*</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">*bar*</span></span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">*foo*</span> <span class="syntax-interned-symbol">*bar*</span>)</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">temp</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog2">prog2</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp</span>)</span> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">temp</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
 <span class="syntax-interned-symbol">temp</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">4</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog2">prog2</a> <span class="syntax-number">1</span> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-number">4</span>)</span> <span class="syntax-number">5</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">2</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="special-operator-reference" href="#special-operator-multiple-value-prog1">multiple-value-prog1</a>,
<a class="special-operator-reference" href="#special-operator-progn">progn</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="macro-reference" href="#macro-prog1">prog1</a> and <a class="macro-reference" href="#macro-prog2">prog2</a> are typically used to <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluate">evaluate</a> 
one or more <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> with side effects and return a <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> that
must be computed before some or all of the side effects happen.<br/>
<pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-multiple-value-prog1">multiple-value-prog1</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-prog2">prog2</a> <span class="parameter">form1</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>≡</mo></math> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-symbol">()</span> <span class="parameter">form1</span> <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span>)</span>)</span>
</span></code></pre><br/>
</dd></dl></div></div><br/><br/><br/><div class="component" id="special-operator-progn"><div class="header"><span class="left"><span class="name" id="special-operator-progn">progn</span></span><span class="right"><span class="ftype">Special Operator</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="special-operator-definition"><span class="name">progn</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/><span class="parameter">results</span>&mdash;the <span class="glossary-reference error">glossary:values</span> of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="special-operator-reference" href="#special-operator-progn">progn</a> evaluates <span class="parameter">forms</span>,
in the order in which they are given.<br/>The values of each <span class="parameter">form</span> but the last are discarded.<br/>If <a class="special-operator-reference" href="#special-operator-progn">progn</a> appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>, then all <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>
within that <a class="special-operator-reference" href="#special-operator-progn">progn</a> are considered by the compiler to be 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level forms</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span><span class="syntax-verbatim">,</span> <span class="syntax-number">2</span><span class="syntax-verbatim">,</span> <span class="syntax-number">3</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-interned-symbol">a</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">nil</a>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">here</span></span>)</span>
     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <a class="section-reference" href="chapter-26.xhtml#section-T">t</a>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">there</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">HERE</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-prog1">prog1</a>, <a class="macro-reference" href="#macro-prog2">prog2</a>, <a class="section-reference" href="chapter-3.xhtml#section-Evaluation">Evaluation</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Many places in <span class="explicit-roman">Common Lisp</span> involve syntax that uses <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progns</a>.
That is, part of their syntax allows many <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> to be written
that are to be evaluated sequentially, discarding the results
of all <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a> but the last and returning the results of the last <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.
Such places include, but are not limited to, the following:
     the body of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-lambda expression">lambda expression</a>;
     the bodies of various control and conditional <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>
    (<span class="explicit-italic"> e.g.</span>,  <a class="macro-reference" href="#macro-case">case</a>, <a class="special-operator-reference" href="#special-operator-catch">catch</a>, <a class="special-operator-reference" href="#special-operator-progn">progn</a>, and <a class="macro-reference" href="#macro-when">when</a>).
<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="macro-define-modify-macro"><div class="header"><span class="left"><span class="name" id="macro-define-modify-macro">define-modify-macro</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">define-modify-macro</span>&nbsp;<span class="lambda-list">name lambda-list function <span class="explicit-roman">[</span>documentation<span class="explicit-roman">]</span></span>&nbsp;→&nbsp;<span class="return-values">name</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">name</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>.<br/>
<span class="parameter">lambda-list</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-define-modify-macro lambda list">define-modify-macro lambda list</a> <br/><span class="parameter">function</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a>.<br/><span class="parameter">documentation</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>; not evaluated.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> defines a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> named
<span class="parameter">name</span> to <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">write</a> a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/>The arguments to the new <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> are a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>,
followed
by the arguments that are supplied in <span class="parameter">lambda-list</span>.
<div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a><a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">Macros</a> defined with <a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> 
correctly pass the <a class="glossary-reference" href="chapter-26.xhtml#glossary-environment parameter">environment parameter</a> to 
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a>.
</span></div>
When the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> is invoked, <span class="parameter">function</span> 
is applied to the old contents of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
and the <span class="parameter">lambda-list</span> arguments to obtain the new value,
and the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> is updated to contain the result.<br/>Except for the issue of avoiding multiple evaluation (see below), the expansion
of a <a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> is equivalent to the following:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="parameter">name</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">reference</span> <span class="syntax-symbol">.</span> <span class="parameter">lambda-list</span>)</span>
  <span class="parameter">documentation</span>
  `<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">reference</span>
         <span class="syntax-cons">(<span class="parameter">function</span> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">reference</span> <span class="syntax-verbatim">,</span><span class="explicit-italic"> arg1</span> <span class="syntax-verbatim">,</span><span class="explicit-italic"> arg2</span> <span class="syntax-interned-symbol">...</span>)</span>)</span>)</span>
</span></code></pre><br/>where <span class="explicit-italic"> arg1</span>, <span class="explicit-italic"> arg2</span>, ..., 
are the parameters appearing in <span class="parameter">lambda-list</span>;
appropriate provision is made for a <a class="glossary-reference" href="chapter-26.xhtml#glossary-rest parameter">rest parameter</a>.<br/><span class="issue-annotation"><span class="issue-reference error">issue:PUSH-EVALUATION-ORDER</span>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of the macro calls defined by <a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a>
are evaluated as specified in <a class="section-reference" href="#section-GenRefSubFormEval">Evaluation of Subforms to Places</a>.
</span>
<div class="issue-annotation"><span class="issue-reference error">issue:DOCUMENTATION-FUNCTION-BUGS</span><span class="parameter">Documentation</span> is attached as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a> 
    to <span class="parameter">name</span> (as kind <a class="special-operator-reference" href="#special-operator-function">function</a>)
and to the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro function">macro function</a>.
</div>
<span class="issue-annotation"><span class="issue-reference error">issue:COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS</span>If a <a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must store the <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> definition at compile time,
so that occurrences of the macro later on in the file can be expanded correctly.
</span><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> <span class="syntax-interned-symbol">appendf</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">args</span>)</span> 
   <a class="function-reference" href="chapter-14.xhtml#function-append">append</a> <span class="syntax-string">"Append onto list"</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">APPENDF</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-interned-symbol">c</span>)</span></span> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">x</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span>)</span>
<span class="syntax-cons">(<span class="syntax-interned-symbol">appendf</span> <span class="syntax-interned-symbol">x</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">d</span> <span class="syntax-interned-symbol">e</span> <span class="syntax-interned-symbol">f</span>)</span></span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span> <span class="syntax-interned-symbol">E</span> <span class="syntax-interned-symbol">F</span> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>
<span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span> <span class="syntax-interned-symbol">E</span> <span class="syntax-interned-symbol">F</span> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>
<span class="syntax-interned-symbol">y</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> <span class="syntax-interned-symbol">new-incf</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">delta</span> <span class="syntax-number">1</span>)</span>)</span> <a class="function-reference" href="chapter-12.xhtml#function-+">+</a>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-define-modify-macro">define-modify-macro</a> <span class="syntax-interned-symbol">unionf</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">other-set</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">&amp;rest</a> <span class="syntax-interned-symbol">keywords</span>)</span> <a class="function-reference" href="chapter-14.xhtml#function-union">union</a>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Side Effects</dt><dd>A macro definition is assigned to <span class="parameter">name</span>.<br/></dd></dl><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
</span><a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="section-reference" href="chapter-3.xhtml#section-DocVsDecls">Syntactic Interaction of Documentation Strings and Declarations</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-defsetf"><div class="header"><span class="left"><span class="name" id="macro-defsetf">defsetf</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span>
<dl><dt class="label">Syntax</dt><dd>The ``short form'':<br/><span class="function-definition"><span class="name">defsetf</span>&nbsp;<span class="lambda-list">access-fn update-fn <span class="explicit-roman">[</span>documentation<span class="explicit-roman">]</span></span>&nbsp;→&nbsp;<span class="return-values">access-fn</span></span><br/><br/>The ``long form'':<br/><span class="function-definition"><span class="name">defsetf</span>&nbsp;<span class="lambda-list">access-fn lambda-list <span class="explicit-roman">(</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">store-variable</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span><span class="explicit-roman">)</span>
                          <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">access-fn</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">access-fn</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> which names a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.<br/><span class="parameter">update-fn</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> naming a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.<br/><span class="parameter">lambda-list</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-defsetf lambda list">defsetf lambda list</a>.<br/><span class="parameter">store-variable</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> (a <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variable</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">name</a>).<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">documentation</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>; not evaluated.<br/><span class="parameter">form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-defsetf">defsetf</a> defines how to 
<a class="macro-reference" href="#macro-setf">setf</a> a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
of the form <code><span class="syntax-root"><span class="syntax-cons">(<span class="explicit-italic"> access-fn</span> <span class="syntax-interned-symbol">...</span>)</span>
</span></code> for relatively simple cases.
(See <a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> for more general access to this facility.)
<div class="issue-annotation"><span class="issue-reference error">issue:KMP-COMMENTS-ON-SANDRA-COMMENTS</span>It must be the case that the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a> named by <span class="parameter">access-fn</span> 
evaluates all of its arguments.
</div>
<a class="macro-reference" href="#macro-defsetf">defsetf</a> may take one of two forms, called the ``short form'' and the ``long form,''
which are distinguished by the <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> of the second <a class="glossary-reference" href="chapter-26.xhtml#glossary-argument">argument</a>.<br/>When the short form is used, 
<span class="parameter">update-fn</span> must name 
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> (or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>) that takes one more argument
than <span class="parameter">access-fn</span> takes.  When <a class="macro-reference" href="#macro-setf">setf</a> is given a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
that is a call on <span class="parameter">access-fn</span>, it expands into
a call on <span class="parameter">update-fn</span> that is given all the arguments to
<span class="parameter">access-fn</span> and also, as its last argument, the new value
(which must be returned by <span class="parameter">update-fn</span> as its value).<br/>The long form <a class="macro-reference" href="#macro-defsetf">defsetf</a> 
resembles <a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a>.
The <span class="parameter">lambda-list</span> describes the arguments of <span class="parameter">access-fn</span>. 
The <span class="parameter">store-variables</span> describe the
value 
<span class="issue-annotation"><a class="issue-reference" href="issues/setf-multiple-store-variables.xhtml#issue-setf-multiple-store-variables:allow">X3J13 Issue SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a>or values 
</span>to be stored into the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.
The <span class="parameter">body</span> must
compute the expansion of a <a class="macro-reference" href="#macro-setf">setf</a> of a call on <span class="parameter">access-fn</span>.
<span class="issue-annotation"><span class="issue-reference error">issue:DEFINING-MACROS-NON-TOP-LEVEL</span>The expansion function is defined in the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a>
in which the <a class="macro-reference" href="#macro-defsetf">defsetf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears.
</span>
During the evaluation of the
<span class="parameter">forms</span>, the variables in the <span class="parameter">lambda-list</span> and the
<span class="parameter">store-variables</span>
are bound to names of temporary variables,
generated as if by <a class="function-reference" href="chapter-10.xhtml#function-gensym">gensym</a>
or <a class="function-reference" href="chapter-10.xhtml#function-gentemp">gentemp</a>,
that will be bound by the
expansion of <a class="macro-reference" href="#macro-setf">setf</a> 
to the values of those <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a>.  This binding
permits the
<span class="parameter">forms</span> to be written without regard for order-of-evaluation
issues.  <a class="macro-reference" href="#macro-defsetf">defsetf</a> arranges for the temporary variables to be
optimized out of the final result in cases where that is possible.  <br/><div class="issue-annotation"><a class="issue-reference" href="issues/flet-implicit-block.xhtml#issue-flet-implicit-block:yes">X3J13 Issue FLET-IMPLICIT-BLOCK:YES</a>The body code in <a class="macro-reference" href="#macro-defsetf">defsetf</a> is implicitly enclosed in a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> whose name is 
<span class="parameter">access-fn</span></div>
<a class="macro-reference" href="#macro-defsetf">defsetf</a> 
ensures that <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> 
of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> are evaluated exactly once.<br/><span class="parameter">Documentation</span> is attached to <span class="parameter">access-fn</span> as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a>
of kind <a class="symbol-reference" href="chapter-25.xhtml#symbol-setf">setf</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS</span>If a <a class="macro-reference" href="#macro-defsetf">defsetf</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must make the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> available so that
it may be used to expand calls to <a class="macro-reference" href="#macro-setf">setf</a> later on in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.
Users must ensure that the <span class="parameter">forms</span>, if any, can be evaluated
at compile time if the <span class="parameter">access-fn</span> is used in a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
later in the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must make these <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expanders</a> available to 
compile-time calls to <a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> when its <span class="parameter">environment</span> 
argument is a value received as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-environment parameter">environment parameter</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd>The effect of<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defsetf">defsetf</a> <a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <a class="function-reference" href="chapter-10.xhtml#function-set">set</a>)</span>
</span></code></pre>
is built into the <span class="explicit-roman">Common Lisp</span> system.
This causes the form <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-symbol-value">symbol-value</a> <span class="syntax-interned-symbol">foo</span>)</span> <span class="syntax-interned-symbol">fu</span>)</span>
</span></code>
to expand into <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-set">set</a> <span class="syntax-interned-symbol">foo</span> <span class="syntax-interned-symbol">fu</span>)</span>
</span></code>.<br/>Note that<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defsetf">defsetf</a> <a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a>)</span>
</span></code></pre>
would be incorrect because <a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a> does not return its last argument.<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">middleguy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-truncate">truncate</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1-">1-</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list-length">list-length</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-number">2</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MIDDLEGUY</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">set-middleguy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">v</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-unless">unless</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-null">null</a> <span class="syntax-interned-symbol">x</span>)</span>
     <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nthcdr">nthcdr</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-truncate">truncate</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-1-">1-</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list-length">list-length</a> <span class="syntax-interned-symbol">x</span>)</span>)</span> <span class="syntax-number">2</span>)</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">v</span>)</span>)</span>
   <span class="syntax-interned-symbol">v</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">SET-MIDDLEGUY</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-defsetf">defsetf</a> <span class="syntax-interned-symbol">middleguy</span> <span class="syntax-interned-symbol">set-middleguy</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MIDDLEGUY</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">d</span></span>)</span>
      <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span>)</span>
      <span class="syntax-interned-symbol">c</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span> <span class="syntax-number">7</span> <span class="syntax-number">8</span> <span class="syntax-number">9</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span> <span class="syntax-number">7</span> <span class="syntax-number">8</span> <span class="syntax-number">9</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">middleguy</span> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">middleguy</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-number">7</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">7</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">middleguy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">middleguy</span> <span class="syntax-interned-symbol">c</span>)</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">middleguy-symbol</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">MIDDLEGUY-SYMBOL</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-number">3</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span>)</span>
<span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">7</span>)</span>
<span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-interned-symbol">MIDDLEGUY-SYMBOL</span> <span class="syntax-number">6</span>)</span> <span class="syntax-number">7</span> <span class="syntax-number">8</span> <span class="syntax-number">9</span>)</span>
</span></code></pre><br/>An example of the use of the long form of <a class="macro-reference" href="#macro-defsetf">defsetf</a>:<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defsetf">defsetf</a> <a class="function-reference" href="chapter-17.xhtml#function-subseq">subseq</a> <span class="syntax-cons">(<a class="type-reference" href="chapter-17.xhtml#type-sequence">sequence</a> <span class="syntax-interned-symbol">start</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">&amp;optional</a> <span class="syntax-interned-symbol">end</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">new-sequence</span>)</span>
  <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-17.xhtml#function-replace">replace</a> <span class="syntax-unquote">,<a class="type-reference" href="chapter-17.xhtml#type-sequence">sequence</a></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">new-sequence</span></span>
                   <span class="syntax-keyword-symbol">:start1</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">start</span></span> <span class="syntax-keyword-symbol">:end1</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">end</span></span>)</span>
          <span class="syntax-unquote">,<span class="syntax-interned-symbol">new-sequence</span></span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="function-reference" href="chapter-17.xhtml#function-subseq">SUBSEQ</a>
</span></code></pre><br/>
<pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="macro-reference" href="#macro-defvar">defvar</a> <span class="syntax-interned-symbol">*xy*</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-make-array">make-array</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-number">10</span> <span class="syntax-number">10</span>)</span></span>)</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">xy</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">&amp;key</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-number">0</span>)</span> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-number">0</span>)</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-aref">aref</a> <span class="syntax-interned-symbol">*xy*</span> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">XY</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">set-xy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">new-value</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">&amp;key</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-number">0</span>)</span> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-number">0</span>)</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-15.xhtml#function-aref">aref</a> <span class="syntax-interned-symbol">*xy*</span> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-interned-symbol">new-value</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">SET-XY</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defsetf">defsetf</a> <span class="syntax-interned-symbol">xy</span> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">&amp;key</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-number">0</span>)</span> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-number">0</span>)</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">store</span>)</span>
   <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-interned-symbol">set-xy</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">store</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">x</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">y</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">y</span></span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">XY</span>
 <span class="syntax-cons">(<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-uninterned-symbol">#:t0</span> <span class="syntax-uninterned-symbol">#:t1</span>)</span><span class="syntax-verbatim">,</span>
   <span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-interned-symbol">b</span>)</span><span class="syntax-verbatim">,</span>
   <span class="syntax-cons">(<span class="syntax-uninterned-symbol">#:store</span>)</span><span class="syntax-verbatim">,</span>
   <span class="syntax-cons">(<span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-lambda">lambda</a> <span class="syntax-cons">(<a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">&amp;key</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-uninterned-symbol">#:x</span>)</span>)</span> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">y</span> <span class="syntax-uninterned-symbol">#:y</span>)</span>)</span>)</span> 
      <span class="syntax-cons">(<span class="syntax-interned-symbol">set-xy</span> <span class="syntax-uninterned-symbol">#:store</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-uninterned-symbol">#:x</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">y</span></span> <span class="syntax-uninterned-symbol">#:y</span>)</span>)</span>
    <span class="syntax-uninterned-symbol">#:t0</span> <span class="syntax-uninterned-symbol">#:t1</span>)</span><span class="syntax-verbatim">,</span>
   <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-uninterned-symbol">#:t0</span> <span class="syntax-uninterned-symbol">#:t1</span>)</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-number">1</span>)</span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">a</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">b</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">y</span></span>)</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">2</span>)</span> <span class="syntax-number">3</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-interned-symbol">b</span> <span class="syntax-number">5</span> <span class="syntax-interned-symbol">a</span> <span class="syntax-number">9</span>)</span> <span class="syntax-number">14</span>)</span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">14</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">y</span></span> <span class="syntax-number">0</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-number">1</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">1</span>
 <span class="syntax-cons">(<span class="syntax-interned-symbol">xy</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-number">1</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">y</span></span> <span class="syntax-number">2</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="macro-reference" href="#macro-setf">setf</a>,
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a>,
</span><a class="section-reference" href="#section-GeneralizedReference">Generalized Reference</a>,
<a class="section-reference" href="chapter-3.xhtml#section-DocVsDecls">Syntactic Interaction of Documentation Strings and Declarations</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="parameter">forms</span> must include provision
for returning the correct value (the value 
<span class="issue-annotation"><a class="issue-reference" href="issues/setf-multiple-store-variables.xhtml#issue-setf-multiple-store-variables:allow">X3J13 Issue SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a> 
or values 
</span> 
of <span class="parameter">store-variable</span>).  
This is
handled by <span class="parameter">forms</span> rather than by <a class="macro-reference" href="#macro-defsetf">defsetf</a> because
in many cases this value can be returned at no extra cost, by calling a
function that simultaneously stores into the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> and 
returns the correct value.<br/>A <a class="macro-reference" href="#macro-setf">setf</a> of a call on <span class="parameter">access-fn</span> also evaluates
all of <span class="parameter">access-fn</span>'s arguments; it cannot treat any of them specially.
This means that <a class="macro-reference" href="#macro-defsetf">defsetf</a> 
cannot be used to describe how to store into
a <a class="glossary-reference" href="chapter-26.xhtml#glossary-generalized reference">generalized reference</a> to a byte, such as <code><span class="syntax-root"><span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="syntax-interned-symbol">field</span> <span class="syntax-interned-symbol">reference</span>)</span>
</span></code>.
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a></span>is used to handle situations that 
do not fit the restrictions imposed by <a class="macro-reference" href="#macro-defsetf">defsetf</a>
and gives the user additional control.<br/></dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="macro-define-setf-expander"><div class="header"><span class="left"><span class="name" id="macro-define-setf-expander">define-setf-expander</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:DECLS-AND-DOC</span><div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span>
<dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">define-setf-expander</span>&nbsp;<span class="lambda-list">access-fn lambda-list
			 <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>[</mi><mi>[</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">declaration</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>|</mi></math> <span class="parameter">documentation</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>]</mi><mi>]</mi></math> <math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">form</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values">access-fn</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">access-fn</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-symbol">symbol</a> that <a class="glossary-reference" href="chapter-26.xhtml#glossary-name">names</a> a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> or <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.<br/><span class="parameter">lambda-list</span>&mdash;<a class="glossary-reference" href="chapter-26.xhtml#glossary-macro lambda list">macro lambda list</a>.<br/><span class="parameter">declaration</span>&mdash;a <a class="symbol-reference" href="chapter-3.xhtml#symbol-declare">declare</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-expression">expression</a>; not evaluated.<br/><span class="parameter">documentation</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-string">string</a>; not evaluated.<br/><span class="parameter">forms</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-implicit progn">implicit progn</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> specifies the means by which <a class="macro-reference" href="#macro-setf">setf</a> 
updates a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> that is referenced by <span class="parameter">access-fn</span>.<br/>When <a class="macro-reference" href="#macro-setf">setf</a> is given a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> that is
specified in terms of <span class="parameter">access-fn</span> and a new value for the 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>, it is expanded into a form that performs
the appropriate update. <br/>
The <span class="parameter">lambda-list</span> supports destructuring.
See <span class="section-reference error">section:MacroLambdaLists.</span><br/><div class="issue-annotation"><span class="issue-reference error">issue:DOCUMENTATION-FUNCTION-BUGS</span><span class="parameter">Documentation</span> is attached to <span class="parameter">access-fn</span> as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-documentation string">documentation string</a>
of kind <a class="symbol-reference" href="chapter-25.xhtml#symbol-setf">setf</a>.
</div>
<span class="parameter">Forms</span> constitute the body of the 
<span class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> 
</span>definition and must compute the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a> for a call on <a class="macro-reference" href="#macro-setf">setf</a> 
that references the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> by means of the given
<span class="parameter">access-fn</span>.
<span class="issue-annotation"><span class="issue-reference error">issue:DEFINING-MACROS-NON-TOP-LEVEL</span>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> function is defined in the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-lexical environment">lexical environment</a>
in which the <a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears.
</span>While <span class="parameter">forms</span> are being executed,
the variables in <span class="parameter">lambda-list</span> are bound to parts of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.
<div class="issue-annotation"><a class="issue-reference" href="issues/flet-implicit-block.xhtml#issue-flet-implicit-block:yes">X3J13 Issue FLET-IMPLICIT-BLOCK:YES</a><div class="issue-annotation"><a class="issue-reference" href="issues/defmacro-block-scope.xhtml#issue-defmacro-block-scope:excludes-bindings">X3J13 Issue DEFMACRO-BLOCK-SCOPE:EXCLUDES-BINDINGS</a>The body <span class="parameter">forms</span> (but not the <span class="parameter">lambda-list</span>)
</div>in a <a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> are implicitly enclosed in a 
<a class="glossary-reference" href="chapter-26.xhtml#glossary-block">block</a> whose name is 
<span class="parameter">access-fn</span>.
</div>

The evaluation of <span class="parameter">forms</span> must result in the five values
described in <a class="section-reference" href="#section-SetfExpansions">Setf Expansions</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:COMPILE-FILE-HANDLING-OF-TOP-LEVEL-FORMS</span>If a <a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a> appears as a <a class="glossary-reference" href="chapter-26.xhtml#glossary-top level form">top level form</a>,
the <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must make the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a> available so that
it may be used to expand calls to <a class="macro-reference" href="#macro-setf">setf</a> later on in the <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.
<a class="glossary-reference" href="chapter-26.xhtml#glossary-programmer">Programmers</a> must ensure that the <span class="parameter">forms</span> can be evaluated
at compile time if the <span class="parameter">access-fn</span> is used in a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>
later in the same <a class="glossary-reference" href="chapter-26.xhtml#glossary-file">file</a>.
The <a class="glossary-reference" href="chapter-26.xhtml#glossary-compiler">compiler</a> must make these <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expanders</a> available to 
compile-time calls to <a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> when its <span class="parameter">environment</span> 
argument is a value received as the <a class="glossary-reference" href="chapter-26.xhtml#glossary-environment parameter">environment parameter</a> of a <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>.
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-defun">defun</a> <span class="syntax-interned-symbol">lastguy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-last">last</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">LASTGUY</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> <span class="syntax-interned-symbol">lastguy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-environment">&amp;environment</a> <span class="syntax-interned-symbol">env</span>)</span>
  <span class="syntax-string">"Set the last element in a list to the given value."</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummies</span> <span class="syntax-interned-symbol">vals</span> <span class="syntax-interned-symbol">newval</span> <span class="syntax-interned-symbol">setter</span> <span class="syntax-interned-symbol">getter</span>)</span>
      <span class="syntax-cons">(<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-interned-symbol">env</span>)</span>
    <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">store</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-gensym">gensym</a>)</span>)</span>)</span>
      <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-interned-symbol">dummies</span>
              <span class="syntax-interned-symbol">vals</span>
              <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-unquote">,<span class="syntax-interned-symbol">store</span></span>)</span></span>
              <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-rplaca">rplaca</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-last">last</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">getter</span></span>)</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">store</span></span>)</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">store</span></span>)</span></span>
              <span class="syntax-quasiquote">`<span class="syntax-cons">(<span class="syntax-interned-symbol">lastguy</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">getter</span></span>)</span></span>)</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">LASTGUY</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">a</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">d</span></span>)</span>
      <span class="syntax-interned-symbol">b</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span>)</span>
      <span class="syntax-interned-symbol">c</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-number">6</span>)</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">lastguy</span> <span class="syntax-interned-symbol">a</span>)</span> <span class="syntax-number">3</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">3</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">lastguy</span> <span class="syntax-interned-symbol">b</span>)</span> <span class="syntax-number">7</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">7</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">lastguy</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">lastguy</span> <span class="syntax-interned-symbol">c</span>)</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">lastguy-symbol</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">LASTGUY-SYMBOL</span>
<span class="syntax-interned-symbol">a</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-number">3</span>)</span>
<span class="syntax-interned-symbol">b</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">7</span>)</span>
<span class="syntax-interned-symbol">c</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span> <span class="syntax-cons">(<span class="syntax-number">4</span> <span class="syntax-number">5</span> <span class="syntax-interned-symbol">LASTGUY-SYMBOL</span>)</span>)</span>
</span></code></pre>
                           
<div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span><pre><code><span class="syntax-root">;;; Setf expander for the form (LDB bytespec int).
;;; Recall that the int form must itself be suitable for SETF.
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> <a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">bytespec</span> <span class="syntax-interned-symbol">int</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-environment">&amp;environment</a> <span class="syntax-interned-symbol">env</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">temps</span> <span class="syntax-interned-symbol">vals</span> <span class="syntax-interned-symbol">stores</span>
                          <span class="syntax-interned-symbol">store-form</span> <span class="syntax-interned-symbol">access-form</span>)</span>
       <span class="syntax-cons">(<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> <span class="syntax-interned-symbol">int</span> <span class="syntax-interned-symbol">env</span>)</span><span class="syntax-line-comment syntax-comment">;Get setf expansion for int.
</span>     <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">btemp</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-gensym">gensym</a>)</span>)</span>     <span class="syntax-line-comment syntax-comment">;Temp var for byte specifier.
</span>           <span class="syntax-cons">(<span class="syntax-interned-symbol">store</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-10.xhtml#function-gensym">gensym</a>)</span>)</span>     <span class="syntax-line-comment syntax-comment">;Temp var for byte to store.
</span>           <span class="syntax-cons">(<span class="syntax-interned-symbol">stemp</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-first">first</a> <span class="syntax-interned-symbol">stores</span>)</span>)</span>)</span> <span class="syntax-line-comment syntax-comment">;Temp var for int to store.
</span>       <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">stores</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-9.xhtml#function-error">error</a> <span class="syntax-string">"Can't expand this."</span>)</span>)</span>
<span class="syntax-line-comment syntax-comment">;;; Return the setf expansion for LDB as five values.
</span>       <span class="syntax-cons">(<a class="function-reference" href="#function-values">values</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-interned-symbol">btemp</span> <span class="syntax-interned-symbol">temps</span>)</span>       <span class="syntax-line-comment syntax-comment">;Temporary variables.
</span>               <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-interned-symbol">bytespec</span> <span class="syntax-interned-symbol">vals</span>)</span>     <span class="syntax-line-comment syntax-comment">;Value forms.
</span>               <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-interned-symbol">store</span>)</span>             <span class="syntax-line-comment syntax-comment">;Store variables.
</span>               `<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">stemp</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-dpb">dpb</a> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">store</span> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">btemp</span> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">access-form</span>)</span>)</span>)</span>
                  <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">store-form</span>
                  <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">store</span>)</span>               <span class="syntax-line-comment syntax-comment">;Storing form.
</span>               `<span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-ldb">ldb</a> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">btemp</span> <span class="syntax-verbatim">,</span><span class="syntax-interned-symbol">access-form</span>)</span> <span class="syntax-line-comment syntax-comment">;Accessing form.
</span>              )</span>)</span>)</span>)</span>
</span></code></pre></div>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-setf">setf</a>,
<a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<a class="function-reference" href="chapter-25.xhtml#function-documentation">documentation</a>,
<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a>,
<a class="section-reference" href="chapter-3.xhtml#section-DocVsDecls">Syntactic Interaction of Documentation Strings and Declarations</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> differs from the long form of <a class="macro-reference" href="#macro-defsetf">defsetf</a>
in that while the body is being executed the <a class="glossary-reference" href="chapter-26.xhtml#glossary-variable">variables</a>
in <span class="parameter">lambda-list</span> are bound to parts of the <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>,
not to temporary variables that will be bound to the values of such parts.
In addition, <a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a> does not have <a class="macro-reference" href="#macro-defsetf">defsetf</a>'s
restriction that <span class="parameter">access-fn</span> must be a <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> 
or a function-like <a class="glossary-reference" href="chapter-26.xhtml#glossary-macro">macro</a>; an arbitrary <a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> destructuring
pattern is permitted in <span class="parameter">lambda-list</span>.<br/></dd></dl></div></div></div>
</div><br/><br/><br/><div class="component" id="function-get-setf-expansion"><div class="header"><span class="left"><span class="name" id="function-get-setf-expansion">get-setf-expansion</span></span><span class="right"><span class="ftype">Function</span></span></div><br/><div class="issue-annotation"><span class="issue-reference error">issue:SETF-METHOD-VS-SETF-METHOD</span>
<dl><dt class="label">Syntax</dt><dd><div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a><span class="function-definition"><span class="name">get-setf-expansion</span>&nbsp;<span class="lambda-list">place <span class="lambda-list-keyword">&amp;optional</span> environment</span>&nbsp;→&nbsp;<span class="return-values">vars, vals, store-vars, writer-form, reader-form</span></span><br/></div>
</dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">place</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a><span class="parameter">environment</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-environment">environment</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a>.
</div>
<span class="parameter">vars, vals, store-vars, writer-form, reader-form</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd>Determines
five values constituting the <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expansion">setf expansion</a> for <span class="parameter">place</span>
in <span class="parameter">environment</span>; see <span class="section-reference error">section:SetfExpansions.</span><br/>                                                       

<div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a>If <span class="parameter">environment</span> is not supplied or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>,
the environment is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-null lexical environment">null lexical environment</a>. 
</div>

</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span>)</span>
<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a><span class="syntax-verbatim">,</span> <span class="syntax-cons">(<span class="syntax-uninterned-symbol">#:G0001</span>)</span><span class="syntax-verbatim">,</span> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">SETQ</a> <span class="syntax-interned-symbol">X</span> <span class="syntax-uninterned-symbol">#:G0001</span>)</span><span class="syntax-verbatim">,</span> <span class="syntax-interned-symbol">X</span> 
</span></code></pre><br/>
<div class="issue-annotation"><a class="issue-reference" href="issues/get-setf-method-environment.xhtml#issue-get-setf-method-environment:add-arg">X3J13 Issue GET-SETF-METHOD-ENVIRONMENT:ADD-ARG</a><pre><code><span class="syntax-root">;;; This macro is like POP 

 <span class="syntax-cons">(<a class="macro-reference" href="chapter-3.xhtml#macro-defmacro">defmacro</a> <span class="syntax-interned-symbol">xpop</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">place</span> <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-environment">&amp;environment</a> <span class="syntax-interned-symbol">env</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-multiple-value-bind">multiple-value-bind</a> <span class="syntax-cons">(<span class="syntax-interned-symbol">dummies</span> <span class="syntax-interned-symbol">vals</span> <span class="syntax-interned-symbol">new</span> <span class="syntax-interned-symbol">setter</span> <span class="syntax-interned-symbol">getter</span>)</span>
                        <span class="syntax-cons">(<a class="function-reference" href="#function-get-setf-expansion">get-setf-expansion</a> <span class="syntax-interned-symbol">place</span> <span class="syntax-interned-symbol">env</span>)</span>
      <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let*">let*</a> <span class="syntax-cons">(<span class="syntax-unquote">,@<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-mapcar">mapcar</a> <span class="syntax-function">#'<a class="function-reference" href="chapter-14.xhtml#function-list">list</a></span> <span class="syntax-interned-symbol">dummies</span> <span class="syntax-interned-symbol">vals</span>)</span></span> <span class="syntax-cons">(<span class="syntax-unquote">,<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">new</span>)</span></span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">getter</span></span>)</span>)</span>
         <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-if">if</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">new</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-9.xhtml#function-error">error</a> <span class="syntax-string">"Can't expand this."</span>)</span>)</span>
         <span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-unquote">,<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">new</span>)</span></span>)</span>
                <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-unquote">,<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">new</span>)</span></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-unquote">,<span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">new</span>)</span></span>)</span>)</span>
                <span class="syntax-unquote">,<span class="syntax-interned-symbol">setter</span></span>)</span>)</span></span>)</span>)</span>
 
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-defsetf">defsetf</a> <span class="syntax-interned-symbol">frob</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">value</span>)</span> 
     <span class="syntax-quasiquote">`<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-unquote">,<span class="syntax-interned-symbol">x</span></span>)</span> <span class="syntax-unquote">,<span class="syntax-interned-symbol">value</span></span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">FROB</span>
;;; The following is an error; an error might be signaled at macro expansion time
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-flet">flet</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">frob</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">x</span>)</span>)</span>)</span>  <span class="syntax-line-comment syntax-comment">;Invalid
</span>   <span class="syntax-cons">(<span class="syntax-interned-symbol">xpop</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">frob</span> <span class="syntax-interned-symbol">z</span>)</span>)</span>)</span>
 
</span></code></pre>
</div>

                             <br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.

</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
<a class="macro-reference" href="#macro-setf">setf</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>Any <a class="glossary-reference" href="chapter-26.xhtml#glossary-compound form">compound form</a> is a valid <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>,
since any <a class="glossary-reference" href="chapter-26.xhtml#glossary-compound form">compound form</a> whose <a class="glossary-reference" href="chapter-26.xhtml#glossary-operator">operator</a> <span class="parameter">f</span> has no <a class="glossary-reference" href="chapter-26.xhtml#glossary-setf expander">setf expander</a>
are expanded into a call to <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">f</span>)</span>
</span></code>.<br/></dd></dl></div></div>
</div><br/><br/><br/><div class="component" id="macro-setf"><div class="header"><span class="left"><span class="name" id="macro-setf">setf</span>, <span class="name" id="macro-psetf">psetf</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><div class="issue-annotation"><span class="issue-reference error">issue:KMP-COMMENTS-ON-SANDRA-COMMENTS</span><span class="function-definition"><span class="name">setf</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">pair</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">result</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span></span><br/></div><span class="function-definition"><span class="name">psetf</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>↓</mi></math><span class="parameter">pair</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a></span></span><br/><br/><tr><td>pair</td><td>::=</td><td>place newvalue</td></tr><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">place</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/><span class="parameter">newvalue</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:KMP-COMMENTS-ON-SANDRA-COMMENTS</span><span class="parameter">results</span>&mdash;the <a class="glossary-reference" href="chapter-26.xhtml#glossary-multiple values">multiple values</a><sub>2</sub> 
                  returned by the storing form for the last <span class="parameter">place</span>,
                  or <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a> if there are no <span class="parameter">pairs</span>.
</div>
</dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-setf">setf</a> changes the <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of <span class="parameter">place</span> to be <span class="parameter">newvalue</span>.

<code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">place</span> <span class="syntax-interned-symbol">newvalue</span>)</span>
</span></code> 
expands into an update form that stores the 
result 
of evaluating
<span class="parameter">newvalue</span> into the location referred to by <span class="parameter">place</span>.
   Some <span class="parameter">place</span> forms 
involve uses of accessors that take optional arguments. 
   Whether those optional arguments are permitted by 
<a class="macro-reference" href="#macro-setf">setf</a>, or what their use
   is, is up to the 
<a class="macro-reference" href="#macro-setf">setf</a> expander function and is not under the control
   of <a class="macro-reference" href="#macro-setf">setf</a>. 
The documentation for any <a class="glossary-reference" href="chapter-26.xhtml#glossary-function">function</a> 
that accepts <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-optional">optional</a>, <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-rest">rest</a>,
   or <a class="lambda-list-keyword-reference" href="chapter-3.xhtml#lambda-list-keyword-key">key</a> arguments and that 
claims to be usable with <a class="macro-reference" href="#macro-setf">setf</a> must specify
   how those arguments are treated.
 <br/>If more than one <span class="parameter">pair</span> is supplied,
the <span class="parameter">pairs</span> are processed sequentially; that is,<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">place-1</span> <span class="syntax-interned-symbol">newvalue-1</span>
      <span class="syntax-interned-symbol">place-2</span> <span class="syntax-interned-symbol">newvalue-2</span>
      <span class="syntax-interned-symbol">...</span>
      <span class="syntax-interned-symbol">place-N</span> <span class="syntax-interned-symbol">newvalue-N</span>)</span>
</span></code></pre>
is precisely equivalent to<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-progn">progn</a> <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">place-1</span> <span class="syntax-interned-symbol">newvalue-1</span>)</span>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">place-2</span> <span class="syntax-interned-symbol">newvalue-2</span>)</span>
       <span class="syntax-interned-symbol">...</span>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-interned-symbol">place-N</span> <span class="syntax-interned-symbol">newvalue-N</span>)</span>)</span>
</span></code></pre>
For <a class="macro-reference" href="#macro-psetf">psetf</a>, 
if more than one <span class="parameter">pair</span> is supplied then the assignments of new values to places are
done in parallel.  More precisely, all <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> (in both the <span class="parameter">place</span>
and <span class="parameter">newvalue</span> <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">forms</a>) that are to be evaluated
are evaluated from left to right; after all evaluations have been performed,
all of the assignments are performed in an unpredictable order.

For detailed treatment of the expansion of <a class="macro-reference" href="#macro-setf">setf</a> and <a class="macro-reference" href="#macro-psetf">psetf</a>,
see <span class="section-reference error">section:KindsOfPlaces.</span><br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> 
<span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">y</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-interned-symbol">X</span> <span class="syntax-number">3</span>)</span> 
<span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">X</span> <span class="syntax-number">3</span>)</span> 
<span class="syntax-interned-symbol">y</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-interned-symbol">X</span> <span class="syntax-number">3</span>)</span> 
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cons">cons</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span>)</span> <span class="syntax-interned-symbol">y</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> 
<span class="syntax-cons">(<a class="macro-reference" href="#macro-psetf">psetf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">x</span></span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">y</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-car">car</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-interned-symbol">y</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <a class="section-reference" href="chapter-1.xhtml#section-NIL">NIL</a> 
<span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">X</span> <span class="syntax-number">1</span> <span class="syntax-interned-symbol">A</span> <span class="syntax-number">3</span>)</span> 
<span class="syntax-interned-symbol">y</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-interned-symbol">A</span> <span class="syntax-number">3</span>)</span> 
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
<a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<a class="variable-reference" href="chapter-3.xhtml#variable-*macroexpand-hook*">*macroexpand-hook*</a><br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
<a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<a class="function-reference" href="chapter-3.xhtml#function-macroexpand-1">macroexpand-1</a>,
<a class="macro-reference" href="#macro-rotatef">rotatef</a>,
<a class="macro-reference" href="#macro-shiftf">shiftf</a>,
<a class="section-reference" href="#section-GeneralizedReference">Generalized Reference</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd><span class="none">None</span>.<br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-shiftf"><div class="header"><span class="left"><span class="name" id="macro-shiftf">shiftf</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">shiftf</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML">\hbox<math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">place</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><msup><mrow/><mo>+</mo></msup></math> newvalue</span>&nbsp;→&nbsp;<span class="return-values">old-value-1</span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">place</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/><span class="parameter">newvalue</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-form">form</a>; evaluated.<br/><span class="parameter">old-value-1</span>&mdash;an <a class="glossary-reference" href="chapter-26.xhtml#glossary-object">object</a> (the old <a class="glossary-reference" href="chapter-26.xhtml#glossary-value">value</a> of the first <span class="parameter">place</span>).<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-shiftf">shiftf</a> modifies the values of each
<span class="parameter">place</span> by storing <span class="parameter">newvalue</span>
into the last <span class="parameter">place</span>, and shifting the 
values of the second through the last <span class="parameter">place</span>
into the remaining <span class="parameter">places</span>.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/setf-multiple-store-variables.xhtml#issue-setf-multiple-store-variables:allow">X3J13 Issue SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a>If <span class="parameter">newvalue</span> produces more values than there
are store variables, the extra values are ignored. If <span class="parameter">newvalue</span>
produces fewer values than there are store variables, the missing values
are set to <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.
</div>
In the form <span class="explicit-mono">(shiftf <span class="explicit-italic"> place1</span> <span class="explicit-italic"> place2</span> ... <span class="explicit-italic"> placen</span> <span class="explicit-italic"> newvalue</span>)</span>, 
the values in <span class="explicit-italic"> place1</span> through <span class="explicit-italic"> placen</span> are <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> and saved,
and <span class="explicit-italic"> newvalue</span> is evaluated, for a total of <code><span class="syntax-root"><span class="syntax-interned-symbol">n</span>
</span></code>+1 values in all.
Values 2 through <code><span class="syntax-root"><span class="syntax-interned-symbol">n</span>
</span></code>+1 are then stored into <span class="explicit-italic"> place1</span> through <span class="explicit-italic"> placen</span>, respectively.
It is as if all the <span class="parameter">places</span> form a shift register; the <span class="parameter">newvalue</span>
is shifted in from the right, all values shift over to the left one place,
and the value shifted out of <span class="explicit-italic"> place1</span> is returned. <br/><div class="issue-annotation"><span class="issue-reference error">issue:PUSH-EVALUATION-ORDER</span>For information about the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of <span class="parameter">places</span>,
see <span class="section-reference error">section:GenRefSubFormEval.</span>  
</div>
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-number">1</span> <span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span> <span class="syntax-interned-symbol">y</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">trash</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">TRASH</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-shiftf">shiftf</a> <span class="syntax-interned-symbol">y</span> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cdr">cdr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-cons">(<span class="syntax-interned-symbol">hi</span> <span class="syntax-interned-symbol">there</span>)</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">TRASH</span>
 <span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">2</span> <span class="syntax-number">3</span>)</span>
 <span class="syntax-interned-symbol">y</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-number">1</span> <span class="syntax-interned-symbol">HI</span> <span class="syntax-interned-symbol">THERE</span>)</span>

 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-shiftf">shiftf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">z</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">B</span>
 <span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">Z</span> <span class="syntax-interned-symbol">C</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-shiftf">shiftf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cadr">cadr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-cddr">cddr</a> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">q</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">Z</span>
 <span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-cons">(<span class="syntax-interned-symbol">C</span>)</span> <span class="syntax-symbol">.</span> <span class="syntax-interned-symbol">Q</span>)</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-number">0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span>
 <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">d</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span>)</span>
 <span class="syntax-cons">(<a class="macro-reference" href="#macro-shiftf">shiftf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">z</span></span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">B</span>
 <span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">Z</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span>)</span>
</span></code></pre><br/></dd></dl></div><dl><dt class="label">Affected By</dt><dd><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
<a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<a class="variable-reference" href="chapter-3.xhtml#variable-*macroexpand-hook*">*macroexpand-hook*</a><br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-setf">setf</a>, <a class="macro-reference" href="#macro-rotatef">rotatef</a>, <a class="section-reference" href="#section-GeneralizedReference">Generalized Reference</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The effect of
 <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-shiftf">shiftf</a> <span class="parameter">place1</span> <span class="parameter">place2</span> <span class="syntax-interned-symbol">...</span> <span class="parameter">placen</span> <span class="parameter">newvalue</span>)</span>
</span></code>
is roughly equivalent to<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">var1</span> <span class="parameter">place1</span>)</span>
      <span class="syntax-cons">(<span class="syntax-interned-symbol">var2</span> <span class="parameter">place2</span>)</span>
      <span class="syntax-interned-symbol">...</span>
      <span class="syntax-cons">(<span class="syntax-interned-symbol">varn</span> <span class="parameter">placen</span>)</span>
      <span class="syntax-cons">(<span class="syntax-interned-symbol">var0</span> <span class="parameter">newvalue</span>)</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">place1</span> <span class="syntax-interned-symbol">var2</span>)</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">place2</span> <span class="syntax-interned-symbol">var3</span>)</span>
  <span class="syntax-interned-symbol">...</span>
  <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="parameter">placen</span> <span class="syntax-interned-symbol">var0</span>)</span>
  <span class="syntax-interned-symbol">var1</span>)</span>
</span></code></pre>
except that the latter would evaluate any <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> 
of each <code><span class="syntax-root"><span class="syntax-interned-symbol">place</span>
</span></code> twice, whereas <a class="macro-reference" href="#macro-shiftf">shiftf</a> evaluates them once.
For example, <br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-number">0</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-number">0</span>
<span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">d</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span>)</span>
<span class="syntax-cons">(<a class="macro-reference" href="#macro-prog1">prog1</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>
       <span class="syntax-cons">(<a class="macro-reference" href="#macro-setf">setf</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-setq">setq</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-12.xhtml#function-+">+</a> <span class="syntax-interned-symbol">n</span> <span class="syntax-number">1</span>)</span>)</span> <span class="syntax-interned-symbol">x</span>)</span> <span class="syntax-quote">'<span class="syntax-interned-symbol">z</span></span>)</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-interned-symbol">B</span>
<span class="syntax-interned-symbol">x</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">Z</span> <span class="syntax-interned-symbol">D</span>)</span>
</span></code></pre><br/></dd></dl></div></div><br/><br/><br/><div class="component" id="macro-rotatef"><div class="header"><span class="left"><span class="name" id="macro-rotatef">rotatef</span></span><span class="right"><span class="ftype">Macro</span></span></div><br/><dl><dt class="label">Syntax</dt><dd><span class="function-definition"><span class="name">rotatef</span>&nbsp;<span class="lambda-list"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>{</mo></math><span class="parameter">place</span><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>}</mo></math><span class="explicit-roman">*</span></span>&nbsp;→&nbsp;<span class="return-values"><a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a></span></span><br/><br/></dd></dl><dl><dt class="label">Arguments and Values</dt><dd><span class="parameter">place</span>&mdash;a <a class="glossary-reference" href="chapter-26.xhtml#glossary-place">place</a>.<br/></dd></dl><dl><dt class="label">Description</dt><dd><a class="macro-reference" href="#macro-rotatef">rotatef</a> modifies the values of each <span class="parameter">place</span> by
rotating values from one <span class="parameter">place</span> into another.<br/><div class="issue-annotation"><a class="issue-reference" href="issues/setf-multiple-store-variables.xhtml#issue-setf-multiple-store-variables:allow">X3J13 Issue SETF-MULTIPLE-STORE-VARIABLES:ALLOW</a>If a <span class="parameter">place</span> produces more values than there
are store variables, the extra values are ignored. If a <span class="parameter">place</span>
produces fewer values than there are store variables, the missing values
are set to <a class="symbol-reference" href="chapter-1.xhtml#symbol-nil">nil</a>.
</div>
In the form <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-rotatef">rotatef</a> <span class="explicit-italic"> place1</span> <span class="explicit-italic"> place2</span> <span class="syntax-interned-symbol">...</span> <span class="explicit-italic"> placen</span>)</span>
</span></code>, 
the values in <span class="explicit-italic"> place1</span> through <span class="explicit-italic"> placen</span> are <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> and <a class="glossary-reference" href="chapter-26.xhtml#glossary-write">written</a>.
Values 2 through <span class="explicit-italic"> n</span> 
and value 1 are then stored into <span class="explicit-italic"> place1</span> through <span class="explicit-italic"> placen</span>.
It is as if all the places form an end-around shift register
that is rotated one place to the left, with the value of <span class="explicit-italic"> place1</span>
being shifted around the end to <span class="explicit-italic"> placen</span>.<br/><div class="issue-annotation"><span class="issue-reference error">issue:PUSH-EVALUATION-ORDER</span>For information about the <a class="glossary-reference" href="chapter-26.xhtml#glossary-evaluation">evaluation</a> of <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a> of <span class="parameter">places</span>,
see <span class="section-reference error">section:GenRefSubFormEval.</span>  
</div>     
</dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Examples</dt><dd><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="special-operator-reference" href="#special-operator-let">let</a> <span class="syntax-cons">(<span class="syntax-cons">(<span class="syntax-interned-symbol">n</span> <span class="syntax-number">0</span>)</span>
       <span class="syntax-cons">(<span class="syntax-interned-symbol">x</span> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-list">list</a> <span class="syntax-quote">'<span class="syntax-interned-symbol">a</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">b</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">c</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">d</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">e</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">f</span></span> <span class="syntax-quote">'<span class="syntax-interned-symbol">g</span></span>)</span>)</span>)</span>
   <span class="syntax-cons">(<a class="macro-reference" href="#macro-rotatef">rotatef</a> <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>
            <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>
            <span class="syntax-cons">(<a class="function-reference" href="chapter-14.xhtml#function-nth">nth</a> <span class="syntax-cons">(<a class="macro-reference" href="chapter-12.xhtml#macro-incf">incf</a> <span class="syntax-interned-symbol">n</span>)</span> <span class="syntax-interned-symbol">x</span>)</span>)</span>
   <span class="syntax-interned-symbol">x</span>)</span> <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>→</mi></math> <span class="syntax-cons">(<span class="syntax-interned-symbol">A</span> <span class="syntax-interned-symbol">C</span> <span class="syntax-interned-symbol">D</span> <span class="syntax-interned-symbol">B</span> <span class="syntax-interned-symbol">E</span> <span class="syntax-interned-symbol">F</span> <span class="syntax-interned-symbol">G</span>)</span>
</span></code></pre><br/>
</dd></dl></div><dl><dt class="label">Affected By</dt><dd><span class="none">None</span>.<br/></dd></dl><dl><dt class="label">Exceptional Situations</dt><dd><span class="none">None</span>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="macro-reference" href="#macro-define-setf-expander">define-setf-expander</a>,
<a class="macro-reference" href="#macro-defsetf">defsetf</a>,
<a class="macro-reference" href="#macro-setf">setf</a>,
<a class="macro-reference" href="#macro-shiftf">shiftf</a>,
<a class="variable-reference" href="chapter-3.xhtml#variable-*macroexpand-hook*">*macroexpand-hook*</a>,
<a class="section-reference" href="#section-GeneralizedReference">Generalized Reference</a><br/></dd></dl></div><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">Notes</dt><dd>The effect of
 <code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-rotatef">rotatef</a> <span class="parameter">place1</span> <span class="parameter">place2</span> <span class="syntax-interned-symbol">...</span> <span class="parameter">placen</span>)</span>
</span></code>
is roughly equivalent to<br/><pre><code><span class="syntax-root"><span class="syntax-cons">(<a class="macro-reference" href="#macro-psetf">psetf</a> <span class="parameter">place1</span> <span class="parameter">place2</span>
       <span class="parameter">place2</span> <span class="parameter">place3</span>
       <span class="syntax-interned-symbol">...</span>
       <span class="parameter">placen</span> <span class="parameter">place1</span>)</span>
</span></code></pre>
except that the latter would evaluate any <a class="glossary-reference" href="chapter-26.xhtml#glossary-subform">subforms</a>
of each <code><span class="syntax-root"><span class="syntax-interned-symbol">place</span>
</span></code> twice, whereas <a class="macro-reference" href="#macro-rotatef">rotatef</a> evaluates them once.<br/></dd></dl></div></div><br/><br/>
<br/><div class="component" id="type-control-error"><div class="header"><span class="left"><span class="name" id="type-control-error">control-error</span></span><span class="right"><span class="ftype">Condition Type</span></span></div><br/><dl><dt class="label">Class Precedence List</dt><dd><a class="type-reference" href="#type-control-error">control-error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-error">error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-serious-condition">serious-condition</a>,
<a class="type-reference" href="chapter-9.xhtml#type-condition">condition</a>,
<a class="type-reference" href="chapter-4.xhtml#type-t">t</a><br/></dd></dl><dl><dt class="label">Description</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-control-error">control-error</a> consists of error conditions that result from
invalid dynamic transfers of control in a program.  The errors that
result from giving <a class="special-operator-reference" href="#special-operator-throw">throw</a> a tag that is not active or from
giving <a class="special-operator-reference" href="#special-operator-go">go</a> or <a class="special-operator-reference" href="#special-operator-return-from">return-from</a> a tag that is no longer
dynamically available are of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-control-error">control-error</a>.<br/></dd></dl></div><br/>
<br/><div class="component" id="type-program-error"><div class="header"><span class="left"><span class="name" id="type-program-error">program-error</span></span><span class="right"><span class="ftype">Condition Type</span></span></div><br/><dl><dt class="label">Class Precedence List</dt><dd><a class="type-reference" href="#type-program-error">program-error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-error">error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-serious-condition">serious-condition</a>,
<a class="type-reference" href="chapter-9.xhtml#type-condition">condition</a>,
<a class="type-reference" href="chapter-4.xhtml#type-t">t</a><br/></dd></dl><dl><dt class="label">Description</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-program-error">program-error</a>
consists of error conditions related to incorrect program syntax.  The
errors that result from naming a <a class="glossary-reference" href="chapter-26.xhtml#glossary-go tag">go tag</a> or a <a class="glossary-reference" href="chapter-26.xhtml#glossary-block tag">block tag</a>
that is not lexically apparent are of <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-program-error">program-error</a>.<br/></dd></dl></div><br/>
<br/><div class="component" id="type-undefined-function"><div class="header"><span class="left"><span class="name" id="type-undefined-function">undefined-function</span></span><span class="right"><span class="ftype">Condition Type</span></span></div><br/><dl><dt class="label">Class Precedence List</dt><dd><a class="type-reference" href="#type-undefined-function">undefined-function</a>,
<a class="type-reference" href="chapter-9.xhtml#type-cell-error">cell-error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-error">error</a>,
<a class="type-reference" href="chapter-9.xhtml#type-serious-condition">serious-condition</a>,
<a class="type-reference" href="chapter-9.xhtml#type-condition">condition</a>,
<a class="type-reference" href="chapter-4.xhtml#type-t">t</a><br/></dd></dl><dl><dt class="label">Description</dt><dd>The <a class="glossary-reference" href="chapter-26.xhtml#glossary-type">type</a> <a class="type-reference" href="#type-undefined-function">undefined-function</a> consists of <a class="glossary-reference" href="chapter-26.xhtml#glossary-error">error</a> <a class="glossary-reference" href="chapter-26.xhtml#glossary-condition">conditions</a>
that represent attempts to <a class="glossary-reference" href="chapter-26.xhtml#glossary-read">read</a> the definition of an <a class="glossary-reference" href="chapter-26.xhtml#glossary-undefined function">undefined function</a>.

The name of the cell (see <a class="type-reference" href="chapter-9.xhtml#type-cell-error">cell-error</a>) is the <a class="glossary-reference" href="chapter-26.xhtml#glossary-function name">function name</a>
which was <a class="glossary-reference" href="chapter-26.xhtml#glossary-funbound">funbound</a>.<br/></dd></dl><div class="removable-text"><span class="removable-text-tooltip">This passage is <a href="chapter-1.xhtml#section-RemovableText">removable text</a> which is not formally part of the standard.</span><dl><dt class="label">See Also</dt><dd><a class="function-reference" href="chapter-9.xhtml#function-cell-error-name">cell-error-name</a><br/></dd></dl></div></div><br/></section></section></div></main><footer>Copyright © 2021 Jan Moringen</footer></body></html>